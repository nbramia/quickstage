function gh(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(s,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=r(l);fetch(l.href,a)}})();function vh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vd={exports:{}},gl={},yd={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=Symbol.for("react.element"),yh=Symbol.for("react.portal"),wh=Symbol.for("react.fragment"),jh=Symbol.for("react.strict_mode"),bh=Symbol.for("react.profiler"),Nh=Symbol.for("react.provider"),kh=Symbol.for("react.context"),Sh=Symbol.for("react.forward_ref"),Ch=Symbol.for("react.suspense"),Eh=Symbol.for("react.memo"),Ph=Symbol.for("react.lazy"),Gi=Symbol.iterator;function Lh(e){return e===null||typeof e!="object"?null:(e=Gi&&e[Gi]||e["@@iterator"],typeof e=="function"?e:null)}var wd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jd=Object.assign,bd={};function or(e,t,r){this.props=e,this.context=t,this.refs=bd,this.updater=r||wd}or.prototype.isReactComponent={};or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nd(){}Nd.prototype=or.prototype;function mo(e,t,r){this.props=e,this.context=t,this.refs=bd,this.updater=r||wd}var ho=mo.prototype=new Nd;ho.constructor=mo;jd(ho,or.prototype);ho.isPureReactComponent=!0;var Yi=Array.isArray,kd=Object.prototype.hasOwnProperty,po={current:null},Sd={key:!0,ref:!0,__self:!0,__source:!0};function Cd(e,t,r){var s,l={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)kd.call(t,s)&&!Sd.hasOwnProperty(s)&&(l[s]=t[s]);var c=arguments.length-2;if(c===1)l.children=r;else if(1<c){for(var i=Array(c),d=0;d<c;d++)i[d]=arguments[d+2];l.children=i}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)l[s]===void 0&&(l[s]=c[s]);return{$$typeof:ss,type:e,key:a,ref:o,props:l,_owner:po.current}}function _h(e,t){return{$$typeof:ss,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fo(e){return typeof e=="object"&&e!==null&&e.$$typeof===ss}function Rh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ki=/\/+/g;function Il(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rh(""+e.key):t.toString(36)}function Ms(e,t,r,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ss:case yh:o=!0}}if(o)return o=e,l=l(o),e=s===""?"."+Il(o,0):s,Yi(l)?(r="",e!=null&&(r=e.replace(Ki,"$&/")+"/"),Ms(l,t,r,"",function(d){return d})):l!=null&&(fo(l)&&(l=_h(l,r+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Ki,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=s===""?".":s+":",Yi(e))for(var c=0;c<e.length;c++){a=e[c];var i=s+Il(a,c);o+=Ms(a,t,r,i,l)}else if(i=Lh(e),typeof i=="function")for(e=i.call(e),c=0;!(a=e.next()).done;)a=a.value,i=s+Il(a,c++),o+=Ms(a,t,r,i,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fs(e,t,r){if(e==null)return e;var s=[],l=0;return Ms(e,s,"","",function(a){return t.call(r,a,l++)}),s}function Th(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},Ds={transition:null},Ah={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:po};function Ed(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:fs,forEach:function(e,t,r){fs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fs(e,function(){t++}),t},toArray:function(e){return fs(e,function(t){return t})||[]},only:function(e){if(!fo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=or;se.Fragment=wh;se.Profiler=bh;se.PureComponent=mo;se.StrictMode=jh;se.Suspense=Ch;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ah;se.act=Ed;se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=jd({},e.props),l=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=po.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(i in t)kd.call(t,i)&&!Sd.hasOwnProperty(i)&&(s[i]=t[i]===void 0&&c!==void 0?c[i]:t[i])}var i=arguments.length-2;if(i===1)s.children=r;else if(1<i){c=Array(i);for(var d=0;d<i;d++)c[d]=arguments[d+2];s.children=c}return{$$typeof:ss,type:e.type,key:l,ref:a,props:s,_owner:o}};se.createContext=function(e){return e={$$typeof:kh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nh,_context:e},e.Consumer=e};se.createElement=Cd;se.createFactory=function(e){var t=Cd.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:Sh,render:e}};se.isValidElement=fo;se.lazy=function(e){return{$$typeof:Ph,_payload:{_status:-1,_result:e},_init:Th}};se.memo=function(e,t){return{$$typeof:Eh,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Ds.transition;Ds.transition={};try{e()}finally{Ds.transition=t}};se.unstable_act=Ed;se.useCallback=function(e,t){return Oe.current.useCallback(e,t)};se.useContext=function(e){return Oe.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};se.useEffect=function(e,t){return Oe.current.useEffect(e,t)};se.useId=function(){return Oe.current.useId()};se.useImperativeHandle=function(e,t,r){return Oe.current.useImperativeHandle(e,t,r)};se.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Oe.current.useMemo(e,t)};se.useReducer=function(e,t,r){return Oe.current.useReducer(e,t,r)};se.useRef=function(e){return Oe.current.useRef(e)};se.useState=function(e){return Oe.current.useState(e)};se.useSyncExternalStore=function(e,t,r){return Oe.current.useSyncExternalStore(e,t,r)};se.useTransition=function(){return Oe.current.useTransition()};se.version="18.3.1";yd.exports=se;var p=yd.exports;const qn=vh(p),Mh=gh({__proto__:null,default:qn},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh=p,zh=Symbol.for("react.element"),Fh=Symbol.for("react.fragment"),Ih=Object.prototype.hasOwnProperty,Uh=Dh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$h={key:!0,ref:!0,__self:!0,__source:!0};function Pd(e,t,r){var s,l={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Ih.call(t,s)&&!$h.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:zh,type:e,key:a,ref:o,props:l,_owner:Uh.current}}gl.Fragment=Fh;gl.jsx=Pd;gl.jsxs=Pd;vd.exports=gl;var n=vd.exports,ma={},Ld={exports:{}},et={},_d={exports:{}},Rd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,E){var _=R.length;R.push(E);e:for(;0<_;){var D=_-1>>>1,V=R[D];if(0<l(V,E))R[D]=E,R[_]=V,_=D;else break e}}function r(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var E=R[0],_=R.pop();if(_!==E){R[0]=_;e:for(var D=0,V=R.length,W=V>>>1;D<W;){var X=2*(D+1)-1,ne=R[X],te=X+1,B=R[te];if(0>l(ne,_))te<V&&0>l(B,ne)?(R[D]=B,R[te]=_,D=te):(R[D]=ne,R[X]=_,D=X);else if(te<V&&0>l(B,_))R[D]=B,R[te]=_,D=te;else break e}}return E}function l(R,E){var _=R.sortIndex-E.sortIndex;return _!==0?_:R.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var i=[],d=[],x=1,h=null,g=3,b=!1,y=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function u(R){for(var E=r(d);E!==null;){if(E.callback===null)s(d);else if(E.startTime<=R)s(d),E.sortIndex=E.expirationTime,t(i,E);else break;E=r(d)}}function N(R){if(j=!1,u(R),!y)if(r(i)!==null)y=!0,le(w);else{var E=r(d);E!==null&&Z(N,E.startTime-R)}}function w(R,E){y=!1,j&&(j=!1,f(S),S=-1),b=!0;var _=g;try{for(u(E),h=r(i);h!==null&&(!(h.expirationTime>E)||R&&!G());){var D=h.callback;if(typeof D=="function"){h.callback=null,g=h.priorityLevel;var V=D(h.expirationTime<=E);E=e.unstable_now(),typeof V=="function"?h.callback=V:h===r(i)&&s(i),u(E)}else s(i);h=r(i)}if(h!==null)var W=!0;else{var X=r(d);X!==null&&Z(N,X.startTime-E),W=!1}return W}finally{h=null,g=_,b=!1}}var P=!1,L=null,S=-1,M=5,z=-1;function G(){return!(e.unstable_now()-z<M)}function oe(){if(L!==null){var R=e.unstable_now();z=R;var E=!0;try{E=L(!0,R)}finally{E?H():(P=!1,L=null)}}else P=!1}var H;if(typeof m=="function")H=function(){m(oe)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,U=Y.port2;Y.port1.onmessage=oe,H=function(){U.postMessage(null)}}else H=function(){k(oe,0)};function le(R){L=R,P||(P=!0,H())}function Z(R,E){S=k(function(){R(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||b||(y=!0,le(w))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(i)},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var E=3;break;default:E=g}var _=g;g=E;try{return R()}finally{g=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,E){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var _=g;g=R;try{return E()}finally{g=_}},e.unstable_scheduleCallback=function(R,E,_){var D=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?D+_:D):_=D,R){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=_+V,R={id:x++,callback:E,priorityLevel:R,startTime:_,expirationTime:V,sortIndex:-1},_>D?(R.sortIndex=_,t(d,R),r(i)===null&&R===r(d)&&(j?(f(S),S=-1):j=!0,Z(N,_-D))):(R.sortIndex=V,t(i,R),y||b||(y=!0,le(w))),R},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(R){var E=g;return function(){var _=g;g=E;try{return R.apply(this,arguments)}finally{g=_}}}})(Rd);_d.exports=Rd;var Bh=_d.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh=p,Ze=Bh;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Td=new Set,Ur={};function Pn(e,t){er(e,t),er(e+"Capture",t)}function er(e,t){for(Ur[e]=t,e=0;e<t.length;e++)Td.add(t[e])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=Object.prototype.hasOwnProperty,Wh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xi={},Ji={};function Vh(e){return ha.call(Ji,e)?!0:ha.call(Xi,e)?!1:Wh.test(e)?Ji[e]=!0:(Xi[e]=!0,!1)}function Hh(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qh(e,t,r,s){if(t===null||typeof t>"u"||Hh(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,r,s,l,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var xo=/[\-:]([a-z])/g;function go(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xo,go);Ae[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xo,go);Ae[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xo,go);Ae[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function vo(e,t,r,s){var l=Ae.hasOwnProperty(t)?Ae[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qh(t,r,l,s)&&(r=null),s||l===null?Vh(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,s=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var $t=Oh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xs=Symbol.for("react.element"),Dn=Symbol.for("react.portal"),zn=Symbol.for("react.fragment"),yo=Symbol.for("react.strict_mode"),pa=Symbol.for("react.profiler"),Ad=Symbol.for("react.provider"),Md=Symbol.for("react.context"),wo=Symbol.for("react.forward_ref"),fa=Symbol.for("react.suspense"),xa=Symbol.for("react.suspense_list"),jo=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),Dd=Symbol.for("react.offscreen"),Zi=Symbol.iterator;function fr(e){return e===null||typeof e!="object"?null:(e=Zi&&e[Zi]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,Ul;function Cr(e){if(Ul===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ul=t&&t[1]||""}return`
`+Ul+e}var $l=!1;function Bl(e,t){if(!e||$l)return"";$l=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),a=s.stack.split(`
`),o=l.length-1,c=a.length-1;1<=o&&0<=c&&l[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(l[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||l[o]!==a[c]){var i=`
`+l[o].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=o&&0<=c);break}}}finally{$l=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Cr(e):""}function qh(e){switch(e.tag){case 5:return Cr(e.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 2:case 15:return e=Bl(e.type,!1),e;case 11:return e=Bl(e.type.render,!1),e;case 1:return e=Bl(e.type,!0),e;default:return""}}function ga(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zn:return"Fragment";case Dn:return"Portal";case pa:return"Profiler";case yo:return"StrictMode";case fa:return"Suspense";case xa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Md:return(e.displayName||"Context")+".Consumer";case Ad:return(e._context.displayName||"Context")+".Provider";case wo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jo:return t=e.displayName||null,t!==null?t:ga(e.type)||"Memo";case Qt:t=e._payload,e=e._init;try{return ga(e(t))}catch{}}return null}function Gh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ga(t);case 8:return t===yo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yh(e){var t=zd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gs(e){e._valueTracker||(e._valueTracker=Yh(e))}function Fd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=zd(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function va(e,t){var r=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ec(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=cn(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Id(e,t){t=t.checked,t!=null&&vo(e,"checked",t,!1)}function ya(e,t){Id(e,t);var r=cn(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wa(e,t.type,r):t.hasOwnProperty("defaultValue")&&wa(e,t.type,cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function wa(e,t,r){(t!=="number"||Qs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Er=Array.isArray;function Gn(e,t,r,s){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&s&&(e[r].defaultSelected=!0)}else{for(r=""+cn(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ja(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(Er(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:cn(r)}}function Ud(e,t){var r=cn(t.value),s=cn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function rc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $d(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ba(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$d(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vs,Bd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vs=vs||document.createElement("div"),vs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $r(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kh=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(e){Kh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_r[t]=_r[e]})});function Od(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||_r.hasOwnProperty(e)&&_r[e]?(""+t).trim():t+"px"}function Wd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,l=Od(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,l):e[r]=l}}var Xh=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Na(e,t){if(t){if(Xh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function ka(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sa=null;function bo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ca=null,Yn=null,Kn=null;function sc(e){if(e=os(e)){if(typeof Ca!="function")throw Error(T(280));var t=e.stateNode;t&&(t=bl(t),Ca(e.stateNode,e.type,t))}}function Vd(e){Yn?Kn?Kn.push(e):Kn=[e]:Yn=e}function Hd(){if(Yn){var e=Yn,t=Kn;if(Kn=Yn=null,sc(e),t)for(e=0;e<t.length;e++)sc(t[e])}}function Qd(e,t){return e(t)}function qd(){}var Ol=!1;function Gd(e,t,r){if(Ol)return e(t,r);Ol=!0;try{return Qd(e,t,r)}finally{Ol=!1,(Yn!==null||Kn!==null)&&(qd(),Hd())}}function Br(e,t){var r=e.stateNode;if(r===null)return null;var s=bl(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var Ea=!1;if(zt)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Ea=!1}function Jh(e,t,r,s,l,a,o,c,i){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(x){this.onError(x)}}var Rr=!1,qs=null,Gs=!1,Pa=null,Zh={onError:function(e){Rr=!0,qs=e}};function e0(e,t,r,s,l,a,o,c,i){Rr=!1,qs=null,Jh.apply(Zh,arguments)}function t0(e,t,r,s,l,a,o,c,i){if(e0.apply(this,arguments),Rr){if(Rr){var d=qs;Rr=!1,qs=null}else throw Error(T(198));Gs||(Gs=!0,Pa=d)}}function Ln(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Yd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lc(e){if(Ln(e)!==e)throw Error(T(188))}function n0(e){var t=e.alternate;if(!t){if(t=Ln(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,s=t;;){var l=r.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){r=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===r)return lc(l),e;if(a===s)return lc(l),t;a=a.sibling}throw Error(T(188))}if(r.return!==s.return)r=l,s=a;else{for(var o=!1,c=l.child;c;){if(c===r){o=!0,r=l,s=a;break}if(c===s){o=!0,s=l,r=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===r){o=!0,r=a,s=l;break}if(c===s){o=!0,s=a,r=l;break}c=c.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==s)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function Kd(e){return e=n0(e),e!==null?Xd(e):null}function Xd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xd(e);if(t!==null)return t;e=e.sibling}return null}var Jd=Ze.unstable_scheduleCallback,ac=Ze.unstable_cancelCallback,r0=Ze.unstable_shouldYield,s0=Ze.unstable_requestPaint,ye=Ze.unstable_now,l0=Ze.unstable_getCurrentPriorityLevel,No=Ze.unstable_ImmediatePriority,Zd=Ze.unstable_UserBlockingPriority,Ys=Ze.unstable_NormalPriority,a0=Ze.unstable_LowPriority,eu=Ze.unstable_IdlePriority,vl=null,bt=null;function o0(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(vl,e,void 0,(e.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:d0,i0=Math.log,c0=Math.LN2;function d0(e){return e>>>=0,e===0?32:31-(i0(e)/c0|0)|0}var ys=64,ws=4194304;function Pr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ks(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~l;c!==0?s=Pr(c):(a&=o,a!==0&&(s=Pr(a)))}else o=r&~l,o!==0?s=Pr(o):a!==0&&(s=Pr(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-ft(t),l=1<<r,s|=e[r],t&=~l;return s}function u0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m0(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ft(a),c=1<<o,i=l[o];i===-1?(!(c&r)||c&s)&&(l[o]=u0(c,t)):i<=t&&(e.expiredLanes|=c),a&=~c}}function La(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tu(){var e=ys;return ys<<=1,!(ys&4194240)&&(ys=64),e}function Wl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ls(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ft(t),e[t]=r}function h0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-ft(r),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,r&=~a}}function ko(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-ft(r),l=1<<s;l&t|e[s]&t&&(e[s]|=t),r&=~l}}var ce=0;function nu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ru,So,su,lu,au,_a=!1,js=[],Zt=null,en=null,tn=null,Or=new Map,Wr=new Map,Gt=[],p0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oc(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Or.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(t.pointerId)}}function gr(e,t,r,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=os(t),t!==null&&So(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function f0(e,t,r,s,l){switch(t){case"focusin":return Zt=gr(Zt,e,t,r,s,l),!0;case"dragenter":return en=gr(en,e,t,r,s,l),!0;case"mouseover":return tn=gr(tn,e,t,r,s,l),!0;case"pointerover":var a=l.pointerId;return Or.set(a,gr(Or.get(a)||null,e,t,r,s,l)),!0;case"gotpointercapture":return a=l.pointerId,Wr.set(a,gr(Wr.get(a)||null,e,t,r,s,l)),!0}return!1}function ou(e){var t=vn(e.target);if(t!==null){var r=Ln(t);if(r!==null){if(t=r.tag,t===13){if(t=Yd(r),t!==null){e.blockedOn=t,au(e.priority,function(){su(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ra(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Sa=s,r.target.dispatchEvent(s),Sa=null}else return t=os(r),t!==null&&So(t),e.blockedOn=r,!1;t.shift()}return!0}function ic(e,t,r){zs(e)&&r.delete(t)}function x0(){_a=!1,Zt!==null&&zs(Zt)&&(Zt=null),en!==null&&zs(en)&&(en=null),tn!==null&&zs(tn)&&(tn=null),Or.forEach(ic),Wr.forEach(ic)}function vr(e,t){e.blockedOn===t&&(e.blockedOn=null,_a||(_a=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,x0)))}function Vr(e){function t(l){return vr(l,e)}if(0<js.length){vr(js[0],e);for(var r=1;r<js.length;r++){var s=js[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Zt!==null&&vr(Zt,e),en!==null&&vr(en,e),tn!==null&&vr(tn,e),Or.forEach(t),Wr.forEach(t),r=0;r<Gt.length;r++)s=Gt[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Gt.length&&(r=Gt[0],r.blockedOn===null);)ou(r),r.blockedOn===null&&Gt.shift()}var Xn=$t.ReactCurrentBatchConfig,Xs=!0;function g0(e,t,r,s){var l=ce,a=Xn.transition;Xn.transition=null;try{ce=1,Co(e,t,r,s)}finally{ce=l,Xn.transition=a}}function v0(e,t,r,s){var l=ce,a=Xn.transition;Xn.transition=null;try{ce=4,Co(e,t,r,s)}finally{ce=l,Xn.transition=a}}function Co(e,t,r,s){if(Xs){var l=Ra(e,t,r,s);if(l===null)Zl(e,t,s,Js,r),oc(e,s);else if(f0(l,e,t,r,s))s.stopPropagation();else if(oc(e,s),t&4&&-1<p0.indexOf(e)){for(;l!==null;){var a=os(l);if(a!==null&&ru(a),a=Ra(e,t,r,s),a===null&&Zl(e,t,s,Js,r),a===l)break;l=a}l!==null&&s.stopPropagation()}else Zl(e,t,s,null,r)}}var Js=null;function Ra(e,t,r,s){if(Js=null,e=bo(s),e=vn(e),e!==null)if(t=Ln(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Yd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Js=e,null}function iu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l0()){case No:return 1;case Zd:return 4;case Ys:case a0:return 16;case eu:return 536870912;default:return 16}default:return 16}}var Kt=null,Eo=null,Fs=null;function cu(){if(Fs)return Fs;var e,t=Eo,r=t.length,s,l="value"in Kt?Kt.value:Kt.textContent,a=l.length;for(e=0;e<r&&t[e]===l[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===l[a-s];s++);return Fs=l.slice(e,1<s?1-s:void 0)}function Is(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bs(){return!0}function cc(){return!1}function tt(e){function t(r,s,l,a,o){this._reactName=r,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bs:cc,this.isPropagationStopped=cc,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),t}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=tt(ir),as=ge({},ir,{view:0,detail:0}),y0=tt(as),Vl,Hl,yr,yl=ge({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yr&&(yr&&e.type==="mousemove"?(Vl=e.screenX-yr.screenX,Hl=e.screenY-yr.screenY):Hl=Vl=0,yr=e),Vl)},movementY:function(e){return"movementY"in e?e.movementY:Hl}}),dc=tt(yl),w0=ge({},yl,{dataTransfer:0}),j0=tt(w0),b0=ge({},as,{relatedTarget:0}),Ql=tt(b0),N0=ge({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),k0=tt(N0),S0=ge({},ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),C0=tt(S0),E0=ge({},ir,{data:0}),uc=tt(E0),P0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_0[e])?!!t[e]:!1}function Lo(){return R0}var T0=ge({},as,{key:function(e){if(e.key){var t=P0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lo,charCode:function(e){return e.type==="keypress"?Is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),A0=tt(T0),M0=ge({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mc=tt(M0),D0=ge({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lo}),z0=tt(D0),F0=ge({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),I0=tt(F0),U0=ge({},yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$0=tt(U0),B0=[9,13,27,32],_o=zt&&"CompositionEvent"in window,Tr=null;zt&&"documentMode"in document&&(Tr=document.documentMode);var O0=zt&&"TextEvent"in window&&!Tr,du=zt&&(!_o||Tr&&8<Tr&&11>=Tr),hc=" ",pc=!1;function uu(e,t){switch(e){case"keyup":return B0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fn=!1;function W0(e,t){switch(e){case"compositionend":return mu(t);case"keypress":return t.which!==32?null:(pc=!0,hc);case"textInput":return e=t.data,e===hc&&pc?null:e;default:return null}}function V0(e,t){if(Fn)return e==="compositionend"||!_o&&uu(e,t)?(e=cu(),Fs=Eo=Kt=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return du&&t.locale!=="ko"?null:t.data;default:return null}}var H0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H0[e.type]:t==="textarea"}function hu(e,t,r,s){Vd(s),t=Zs(t,"onChange"),0<t.length&&(r=new Po("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Ar=null,Hr=null;function Q0(e){ku(e,0)}function wl(e){var t=$n(e);if(Fd(t))return e}function q0(e,t){if(e==="change")return t}var pu=!1;if(zt){var ql;if(zt){var Gl="oninput"in document;if(!Gl){var xc=document.createElement("div");xc.setAttribute("oninput","return;"),Gl=typeof xc.oninput=="function"}ql=Gl}else ql=!1;pu=ql&&(!document.documentMode||9<document.documentMode)}function gc(){Ar&&(Ar.detachEvent("onpropertychange",fu),Hr=Ar=null)}function fu(e){if(e.propertyName==="value"&&wl(Hr)){var t=[];hu(t,Hr,e,bo(e)),Gd(Q0,t)}}function G0(e,t,r){e==="focusin"?(gc(),Ar=t,Hr=r,Ar.attachEvent("onpropertychange",fu)):e==="focusout"&&gc()}function Y0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wl(Hr)}function K0(e,t){if(e==="click")return wl(t)}function X0(e,t){if(e==="input"||e==="change")return wl(t)}function J0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:J0;function Qr(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var l=r[s];if(!ha.call(t,l)||!gt(e[l],t[l]))return!1}return!0}function vc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yc(e,t){var r=vc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vc(r)}}function xu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gu(){for(var e=window,t=Qs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qs(e.document)}return t}function Ro(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Z0(e){var t=gu(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&xu(r.ownerDocument.documentElement,r)){if(s!==null&&Ro(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=yc(r,a);var o=yc(r,s);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ep=zt&&"documentMode"in document&&11>=document.documentMode,In=null,Ta=null,Mr=null,Aa=!1;function wc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Aa||In==null||In!==Qs(s)||(s=In,"selectionStart"in s&&Ro(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Mr&&Qr(Mr,s)||(Mr=s,s=Zs(Ta,"onSelect"),0<s.length&&(t=new Po("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=In)))}function Ns(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Un={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionend:Ns("Transition","TransitionEnd")},Yl={},vu={};zt&&(vu=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function jl(e){if(Yl[e])return Yl[e];if(!Un[e])return e;var t=Un[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in vu)return Yl[e]=t[r];return e}var yu=jl("animationend"),wu=jl("animationiteration"),ju=jl("animationstart"),bu=jl("transitionend"),Nu=new Map,jc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function un(e,t){Nu.set(e,t),Pn(t,[e])}for(var Kl=0;Kl<jc.length;Kl++){var Xl=jc[Kl],tp=Xl.toLowerCase(),np=Xl[0].toUpperCase()+Xl.slice(1);un(tp,"on"+np)}un(yu,"onAnimationEnd");un(wu,"onAnimationIteration");un(ju,"onAnimationStart");un("dblclick","onDoubleClick");un("focusin","onFocus");un("focusout","onBlur");un(bu,"onTransitionEnd");er("onMouseEnter",["mouseout","mouseover"]);er("onMouseLeave",["mouseout","mouseover"]);er("onPointerEnter",["pointerout","pointerover"]);er("onPointerLeave",["pointerout","pointerover"]);Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function bc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,t0(s,t,void 0,e),e.currentTarget=null}function ku(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var c=s[o],i=c.instance,d=c.currentTarget;if(c=c.listener,i!==a&&l.isPropagationStopped())break e;bc(l,c,d),a=i}else for(o=0;o<s.length;o++){if(c=s[o],i=c.instance,d=c.currentTarget,c=c.listener,i!==a&&l.isPropagationStopped())break e;bc(l,c,d),a=i}}}if(Gs)throw e=Pa,Gs=!1,Pa=null,e}function ue(e,t){var r=t[Ia];r===void 0&&(r=t[Ia]=new Set);var s=e+"__bubble";r.has(s)||(Su(t,e,2,!1),r.add(s))}function Jl(e,t,r){var s=0;t&&(s|=4),Su(r,e,s,t)}var ks="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[ks]){e[ks]=!0,Td.forEach(function(r){r!=="selectionchange"&&(rp.has(r)||Jl(r,!1,e),Jl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ks]||(t[ks]=!0,Jl("selectionchange",!1,t))}}function Su(e,t,r,s){switch(iu(t)){case 1:var l=g0;break;case 4:l=v0;break;default:l=Co}r=l.bind(null,t,r,e),l=void 0,!Ea||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function Zl(e,t,r,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var c=s.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(o===4)for(o=s.return;o!==null;){var i=o.tag;if((i===3||i===4)&&(i=o.stateNode.containerInfo,i===l||i.nodeType===8&&i.parentNode===l))return;o=o.return}for(;c!==null;){if(o=vn(c),o===null)return;if(i=o.tag,i===5||i===6){s=a=o;continue e}c=c.parentNode}}s=s.return}Gd(function(){var d=a,x=bo(r),h=[];e:{var g=Nu.get(e);if(g!==void 0){var b=Po,y=e;switch(e){case"keypress":if(Is(r)===0)break e;case"keydown":case"keyup":b=A0;break;case"focusin":y="focus",b=Ql;break;case"focusout":y="blur",b=Ql;break;case"beforeblur":case"afterblur":b=Ql;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=j0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=z0;break;case yu:case wu:case ju:b=k0;break;case bu:b=I0;break;case"scroll":b=y0;break;case"wheel":b=$0;break;case"copy":case"cut":case"paste":b=C0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=mc}var j=(t&4)!==0,k=!j&&e==="scroll",f=j?g!==null?g+"Capture":null:g;j=[];for(var m=d,u;m!==null;){u=m;var N=u.stateNode;if(u.tag===5&&N!==null&&(u=N,f!==null&&(N=Br(m,f),N!=null&&j.push(Gr(m,N,u)))),k)break;m=m.return}0<j.length&&(g=new b(g,y,null,r,x),h.push({event:g,listeners:j}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",g&&r!==Sa&&(y=r.relatedTarget||r.fromElement)&&(vn(y)||y[Ft]))break e;if((b||g)&&(g=x.window===x?x:(g=x.ownerDocument)?g.defaultView||g.parentWindow:window,b?(y=r.relatedTarget||r.toElement,b=d,y=y?vn(y):null,y!==null&&(k=Ln(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(b=null,y=d),b!==y)){if(j=dc,N="onMouseLeave",f="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(j=mc,N="onPointerLeave",f="onPointerEnter",m="pointer"),k=b==null?g:$n(b),u=y==null?g:$n(y),g=new j(N,m+"leave",b,r,x),g.target=k,g.relatedTarget=u,N=null,vn(x)===d&&(j=new j(f,m+"enter",y,r,x),j.target=u,j.relatedTarget=k,N=j),k=N,b&&y)t:{for(j=b,f=y,m=0,u=j;u;u=An(u))m++;for(u=0,N=f;N;N=An(N))u++;for(;0<m-u;)j=An(j),m--;for(;0<u-m;)f=An(f),u--;for(;m--;){if(j===f||f!==null&&j===f.alternate)break t;j=An(j),f=An(f)}j=null}else j=null;b!==null&&Nc(h,g,b,j,!1),y!==null&&k!==null&&Nc(h,k,y,j,!0)}}e:{if(g=d?$n(d):window,b=g.nodeName&&g.nodeName.toLowerCase(),b==="select"||b==="input"&&g.type==="file")var w=q0;else if(fc(g))if(pu)w=X0;else{w=Y0;var P=G0}else(b=g.nodeName)&&b.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(w=K0);if(w&&(w=w(e,d))){hu(h,w,r,x);break e}P&&P(e,g,d),e==="focusout"&&(P=g._wrapperState)&&P.controlled&&g.type==="number"&&wa(g,"number",g.value)}switch(P=d?$n(d):window,e){case"focusin":(fc(P)||P.contentEditable==="true")&&(In=P,Ta=d,Mr=null);break;case"focusout":Mr=Ta=In=null;break;case"mousedown":Aa=!0;break;case"contextmenu":case"mouseup":case"dragend":Aa=!1,wc(h,r,x);break;case"selectionchange":if(ep)break;case"keydown":case"keyup":wc(h,r,x)}var L;if(_o)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Fn?uu(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(du&&r.locale!=="ko"&&(Fn||S!=="onCompositionStart"?S==="onCompositionEnd"&&Fn&&(L=cu()):(Kt=x,Eo="value"in Kt?Kt.value:Kt.textContent,Fn=!0)),P=Zs(d,S),0<P.length&&(S=new uc(S,e,null,r,x),h.push({event:S,listeners:P}),L?S.data=L:(L=mu(r),L!==null&&(S.data=L)))),(L=O0?W0(e,r):V0(e,r))&&(d=Zs(d,"onBeforeInput"),0<d.length&&(x=new uc("onBeforeInput","beforeinput",null,r,x),h.push({event:x,listeners:d}),x.data=L))}ku(h,t)})}function Gr(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zs(e,t){for(var r=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Br(e,r),a!=null&&s.unshift(Gr(e,a,l)),a=Br(e,t),a!=null&&s.push(Gr(e,a,l))),e=e.return}return s}function An(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nc(e,t,r,s,l){for(var a=t._reactName,o=[];r!==null&&r!==s;){var c=r,i=c.alternate,d=c.stateNode;if(i!==null&&i===s)break;c.tag===5&&d!==null&&(c=d,l?(i=Br(r,a),i!=null&&o.unshift(Gr(r,i,c))):l||(i=Br(r,a),i!=null&&o.push(Gr(r,i,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var sp=/\r\n?/g,lp=/\u0000|\uFFFD/g;function kc(e){return(typeof e=="string"?e:""+e).replace(sp,`
`).replace(lp,"")}function Ss(e,t,r){if(t=kc(t),kc(e)!==t&&r)throw Error(T(425))}function el(){}var Ma=null,Da=null;function za(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fa=typeof setTimeout=="function"?setTimeout:void 0,ap=typeof clearTimeout=="function"?clearTimeout:void 0,Sc=typeof Promise=="function"?Promise:void 0,op=typeof queueMicrotask=="function"?queueMicrotask:typeof Sc<"u"?function(e){return Sc.resolve(null).then(e).catch(ip)}:Fa;function ip(e){setTimeout(function(){throw e})}function ea(e,t){var r=t,s=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(s===0){e.removeChild(l),Vr(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=l}while(r);Vr(t)}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var cr=Math.random().toString(36).slice(2),jt="__reactFiber$"+cr,Yr="__reactProps$"+cr,Ft="__reactContainer$"+cr,Ia="__reactEvents$"+cr,cp="__reactListeners$"+cr,dp="__reactHandles$"+cr;function vn(e){var t=e[jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ft]||r[jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Cc(e);e!==null;){if(r=e[jt])return r;e=Cc(e)}return t}e=r,r=e.parentNode}return null}function os(e){return e=e[jt]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function bl(e){return e[Yr]||null}var Ua=[],Bn=-1;function mn(e){return{current:e}}function me(e){0>Bn||(e.current=Ua[Bn],Ua[Bn]=null,Bn--)}function de(e,t){Bn++,Ua[Bn]=e.current,e.current=t}var dn={},Ie=mn(dn),Qe=mn(!1),Nn=dn;function tr(e,t){var r=e.type.contextTypes;if(!r)return dn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in r)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function qe(e){return e=e.childContextTypes,e!=null}function tl(){me(Qe),me(Ie)}function Ec(e,t,r){if(Ie.current!==dn)throw Error(T(168));de(Ie,t),de(Qe,r)}function Cu(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(T(108,Gh(e)||"Unknown",l));return ge({},r,s)}function nl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,Nn=Ie.current,de(Ie,e),de(Qe,Qe.current),!0}function Pc(e,t,r){var s=e.stateNode;if(!s)throw Error(T(169));r?(e=Cu(e,t,Nn),s.__reactInternalMemoizedMergedChildContext=e,me(Qe),me(Ie),de(Ie,e)):me(Qe),de(Qe,r)}var Rt=null,Nl=!1,ta=!1;function Eu(e){Rt===null?Rt=[e]:Rt.push(e)}function up(e){Nl=!0,Eu(e)}function hn(){if(!ta&&Rt!==null){ta=!0;var e=0,t=ce;try{var r=Rt;for(ce=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Rt=null,Nl=!1}catch(l){throw Rt!==null&&(Rt=Rt.slice(e+1)),Jd(No,hn),l}finally{ce=t,ta=!1}}return null}var On=[],Wn=0,rl=null,sl=0,lt=[],at=0,kn=null,At=1,Mt="";function xn(e,t){On[Wn++]=sl,On[Wn++]=rl,rl=e,sl=t}function Pu(e,t,r){lt[at++]=At,lt[at++]=Mt,lt[at++]=kn,kn=e;var s=At;e=Mt;var l=32-ft(s)-1;s&=~(1<<l),r+=1;var a=32-ft(t)+l;if(30<a){var o=l-l%5;a=(s&(1<<o)-1).toString(32),s>>=o,l-=o,At=1<<32-ft(t)+l|r<<l|s,Mt=a+e}else At=1<<a|r<<l|s,Mt=e}function To(e){e.return!==null&&(xn(e,1),Pu(e,1,0))}function Ao(e){for(;e===rl;)rl=On[--Wn],On[Wn]=null,sl=On[--Wn],On[Wn]=null;for(;e===kn;)kn=lt[--at],lt[at]=null,Mt=lt[--at],lt[at]=null,At=lt[--at],lt[at]=null}var Je=null,Xe=null,pe=!1,pt=null;function Lu(e,t){var r=ot(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Xe=nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=kn!==null?{id:At,overflow:Mt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ot(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Je=e,Xe=null,!0):!1;default:return!1}}function $a(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ba(e){if(pe){var t=Xe;if(t){var r=t;if(!Lc(e,t)){if($a(e))throw Error(T(418));t=nn(r.nextSibling);var s=Je;t&&Lc(e,t)?Lu(s,r):(e.flags=e.flags&-4097|2,pe=!1,Je=e)}}else{if($a(e))throw Error(T(418));e.flags=e.flags&-4097|2,pe=!1,Je=e}}}function _c(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Cs(e){if(e!==Je)return!1;if(!pe)return _c(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!za(e.type,e.memoizedProps)),t&&(t=Xe)){if($a(e))throw _u(),Error(T(418));for(;t;)Lu(e,t),t=nn(t.nextSibling)}if(_c(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xe=nn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=Je?nn(e.stateNode.nextSibling):null;return!0}function _u(){for(var e=Xe;e;)e=nn(e.nextSibling)}function nr(){Xe=Je=null,pe=!1}function Mo(e){pt===null?pt=[e]:pt.push(e)}var mp=$t.ReactCurrentBatchConfig;function wr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var s=r.stateNode}if(!s)throw Error(T(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var c=l.refs;o===null?delete c[a]:c[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function Es(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rc(e){var t=e._init;return t(e._payload)}function Ru(e){function t(f,m){if(e){var u=f.deletions;u===null?(f.deletions=[m],f.flags|=16):u.push(m)}}function r(f,m){if(!e)return null;for(;m!==null;)t(f,m),m=m.sibling;return null}function s(f,m){for(f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function l(f,m){return f=an(f,m),f.index=0,f.sibling=null,f}function a(f,m,u){return f.index=u,e?(u=f.alternate,u!==null?(u=u.index,u<m?(f.flags|=2,m):u):(f.flags|=2,m)):(f.flags|=1048576,m)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function c(f,m,u,N){return m===null||m.tag!==6?(m=ia(u,f.mode,N),m.return=f,m):(m=l(m,u),m.return=f,m)}function i(f,m,u,N){var w=u.type;return w===zn?x(f,m,u.props.children,N,u.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Qt&&Rc(w)===m.type)?(N=l(m,u.props),N.ref=wr(f,m,u),N.return=f,N):(N=Hs(u.type,u.key,u.props,null,f.mode,N),N.ref=wr(f,m,u),N.return=f,N)}function d(f,m,u,N){return m===null||m.tag!==4||m.stateNode.containerInfo!==u.containerInfo||m.stateNode.implementation!==u.implementation?(m=ca(u,f.mode,N),m.return=f,m):(m=l(m,u.children||[]),m.return=f,m)}function x(f,m,u,N,w){return m===null||m.tag!==7?(m=bn(u,f.mode,N,w),m.return=f,m):(m=l(m,u),m.return=f,m)}function h(f,m,u){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ia(""+m,f.mode,u),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case xs:return u=Hs(m.type,m.key,m.props,null,f.mode,u),u.ref=wr(f,null,m),u.return=f,u;case Dn:return m=ca(m,f.mode,u),m.return=f,m;case Qt:var N=m._init;return h(f,N(m._payload),u)}if(Er(m)||fr(m))return m=bn(m,f.mode,u,null),m.return=f,m;Es(f,m)}return null}function g(f,m,u,N){var w=m!==null?m.key:null;if(typeof u=="string"&&u!==""||typeof u=="number")return w!==null?null:c(f,m,""+u,N);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case xs:return u.key===w?i(f,m,u,N):null;case Dn:return u.key===w?d(f,m,u,N):null;case Qt:return w=u._init,g(f,m,w(u._payload),N)}if(Er(u)||fr(u))return w!==null?null:x(f,m,u,N,null);Es(f,u)}return null}function b(f,m,u,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return f=f.get(u)||null,c(m,f,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case xs:return f=f.get(N.key===null?u:N.key)||null,i(m,f,N,w);case Dn:return f=f.get(N.key===null?u:N.key)||null,d(m,f,N,w);case Qt:var P=N._init;return b(f,m,u,P(N._payload),w)}if(Er(N)||fr(N))return f=f.get(u)||null,x(m,f,N,w,null);Es(m,N)}return null}function y(f,m,u,N){for(var w=null,P=null,L=m,S=m=0,M=null;L!==null&&S<u.length;S++){L.index>S?(M=L,L=null):M=L.sibling;var z=g(f,L,u[S],N);if(z===null){L===null&&(L=M);break}e&&L&&z.alternate===null&&t(f,L),m=a(z,m,S),P===null?w=z:P.sibling=z,P=z,L=M}if(S===u.length)return r(f,L),pe&&xn(f,S),w;if(L===null){for(;S<u.length;S++)L=h(f,u[S],N),L!==null&&(m=a(L,m,S),P===null?w=L:P.sibling=L,P=L);return pe&&xn(f,S),w}for(L=s(f,L);S<u.length;S++)M=b(L,f,S,u[S],N),M!==null&&(e&&M.alternate!==null&&L.delete(M.key===null?S:M.key),m=a(M,m,S),P===null?w=M:P.sibling=M,P=M);return e&&L.forEach(function(G){return t(f,G)}),pe&&xn(f,S),w}function j(f,m,u,N){var w=fr(u);if(typeof w!="function")throw Error(T(150));if(u=w.call(u),u==null)throw Error(T(151));for(var P=w=null,L=m,S=m=0,M=null,z=u.next();L!==null&&!z.done;S++,z=u.next()){L.index>S?(M=L,L=null):M=L.sibling;var G=g(f,L,z.value,N);if(G===null){L===null&&(L=M);break}e&&L&&G.alternate===null&&t(f,L),m=a(G,m,S),P===null?w=G:P.sibling=G,P=G,L=M}if(z.done)return r(f,L),pe&&xn(f,S),w;if(L===null){for(;!z.done;S++,z=u.next())z=h(f,z.value,N),z!==null&&(m=a(z,m,S),P===null?w=z:P.sibling=z,P=z);return pe&&xn(f,S),w}for(L=s(f,L);!z.done;S++,z=u.next())z=b(L,f,S,z.value,N),z!==null&&(e&&z.alternate!==null&&L.delete(z.key===null?S:z.key),m=a(z,m,S),P===null?w=z:P.sibling=z,P=z);return e&&L.forEach(function(oe){return t(f,oe)}),pe&&xn(f,S),w}function k(f,m,u,N){if(typeof u=="object"&&u!==null&&u.type===zn&&u.key===null&&(u=u.props.children),typeof u=="object"&&u!==null){switch(u.$$typeof){case xs:e:{for(var w=u.key,P=m;P!==null;){if(P.key===w){if(w=u.type,w===zn){if(P.tag===7){r(f,P.sibling),m=l(P,u.props.children),m.return=f,f=m;break e}}else if(P.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Qt&&Rc(w)===P.type){r(f,P.sibling),m=l(P,u.props),m.ref=wr(f,P,u),m.return=f,f=m;break e}r(f,P);break}else t(f,P);P=P.sibling}u.type===zn?(m=bn(u.props.children,f.mode,N,u.key),m.return=f,f=m):(N=Hs(u.type,u.key,u.props,null,f.mode,N),N.ref=wr(f,m,u),N.return=f,f=N)}return o(f);case Dn:e:{for(P=u.key;m!==null;){if(m.key===P)if(m.tag===4&&m.stateNode.containerInfo===u.containerInfo&&m.stateNode.implementation===u.implementation){r(f,m.sibling),m=l(m,u.children||[]),m.return=f,f=m;break e}else{r(f,m);break}else t(f,m);m=m.sibling}m=ca(u,f.mode,N),m.return=f,f=m}return o(f);case Qt:return P=u._init,k(f,m,P(u._payload),N)}if(Er(u))return y(f,m,u,N);if(fr(u))return j(f,m,u,N);Es(f,u)}return typeof u=="string"&&u!==""||typeof u=="number"?(u=""+u,m!==null&&m.tag===6?(r(f,m.sibling),m=l(m,u),m.return=f,f=m):(r(f,m),m=ia(u,f.mode,N),m.return=f,f=m),o(f)):r(f,m)}return k}var rr=Ru(!0),Tu=Ru(!1),ll=mn(null),al=null,Vn=null,Do=null;function zo(){Do=Vn=al=null}function Fo(e){var t=ll.current;me(ll),e._currentValue=t}function Oa(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Jn(e,t){al=e,Do=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(Do!==e)if(e={context:e,memoizedValue:t,next:null},Vn===null){if(al===null)throw Error(T(308));Vn=e,al.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}var yn=null;function Io(e){yn===null?yn=[e]:yn.push(e)}function Au(e,t,r,s){var l=t.interleaved;return l===null?(r.next=r,Io(t)):(r.next=l.next,l.next=r),t.interleaved=r,It(e,s)}function It(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qt=!1;function Uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ae&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,It(e,r)}return l=s.interleaved,l===null?(t.next=t,Io(s)):(t.next=l.next,l.next=t),s.interleaved=t,It(e,r)}function Us(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,ko(e,r)}}function Tc(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var l=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?l=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?l=a=t:a=a.next=t}else l=a=t;r={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ol(e,t,r,s){var l=e.updateQueue;qt=!1;var a=l.firstBaseUpdate,o=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var i=c,d=i.next;i.next=null,o===null?a=d:o.next=d,o=i;var x=e.alternate;x!==null&&(x=x.updateQueue,c=x.lastBaseUpdate,c!==o&&(c===null?x.firstBaseUpdate=d:c.next=d,x.lastBaseUpdate=i))}if(a!==null){var h=l.baseState;o=0,x=d=i=null,c=a;do{var g=c.lane,b=c.eventTime;if((s&g)===g){x!==null&&(x=x.next={eventTime:b,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var y=e,j=c;switch(g=t,b=r,j.tag){case 1:if(y=j.payload,typeof y=="function"){h=y.call(b,h,g);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=j.payload,g=typeof y=="function"?y.call(b,h,g):y,g==null)break e;h=ge({},h,g);break e;case 2:qt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[c]:g.push(c))}else b={eventTime:b,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},x===null?(d=x=b,i=h):x=x.next=b,o|=g;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;g=c,c=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(x===null&&(i=h),l.baseState=i,l.firstBaseUpdate=d,l.lastBaseUpdate=x,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);Cn|=o,e.lanes=o,e.memoizedState=h}}function Ac(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=r,typeof l!="function")throw Error(T(191,l));l.call(s)}}}var is={},Nt=mn(is),Kr=mn(is),Xr=mn(is);function wn(e){if(e===is)throw Error(T(174));return e}function $o(e,t){switch(de(Xr,t),de(Kr,e),de(Nt,is),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ba(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ba(t,e)}me(Nt),de(Nt,t)}function sr(){me(Nt),me(Kr),me(Xr)}function Du(e){wn(Xr.current);var t=wn(Nt.current),r=ba(t,e.type);t!==r&&(de(Kr,e),de(Nt,r))}function Bo(e){Kr.current===e&&(me(Nt),me(Kr))}var fe=mn(0);function il(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function Oo(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var $s=$t.ReactCurrentDispatcher,ra=$t.ReactCurrentBatchConfig,Sn=0,xe=null,Se=null,Pe=null,cl=!1,Dr=!1,Jr=0,hp=0;function De(){throw Error(T(321))}function Wo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gt(e[r],t[r]))return!1;return!0}function Vo(e,t,r,s,l,a){if(Sn=a,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$s.current=e===null||e.memoizedState===null?gp:vp,e=r(s,l),Dr){a=0;do{if(Dr=!1,Jr=0,25<=a)throw Error(T(301));a+=1,Pe=Se=null,t.updateQueue=null,$s.current=yp,e=r(s,l)}while(Dr)}if($s.current=dl,t=Se!==null&&Se.next!==null,Sn=0,Pe=Se=xe=null,cl=!1,t)throw Error(T(300));return e}function Ho(){var e=Jr!==0;return Jr=0,e}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?xe.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function dt(){if(Se===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Pe===null?xe.memoizedState:Pe.next;if(t!==null)Pe=t,Se=e;else{if(e===null)throw Error(T(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Pe===null?xe.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Zr(e,t){return typeof t=="function"?t(e):t}function sa(e){var t=dt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var s=Se,l=s.baseQueue,a=r.pending;if(a!==null){if(l!==null){var o=l.next;l.next=a.next,a.next=o}s.baseQueue=l=a,r.pending=null}if(l!==null){a=l.next,s=s.baseState;var c=o=null,i=null,d=a;do{var x=d.lane;if((Sn&x)===x)i!==null&&(i=i.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:x,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};i===null?(c=i=h,o=s):i=i.next=h,xe.lanes|=x,Cn|=x}d=d.next}while(d!==null&&d!==a);i===null?o=s:i.next=c,gt(s,t.memoizedState)||(He=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=i,r.lastRenderedState=s}if(e=r.interleaved,e!==null){l=e;do a=l.lane,xe.lanes|=a,Cn|=a,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function la(e){var t=dt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var s=r.dispatch,l=r.pending,a=t.memoizedState;if(l!==null){r.pending=null;var o=l=l.next;do a=e(a,o.action),o=o.next;while(o!==l);gt(a,t.memoizedState)||(He=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,s]}function zu(){}function Fu(e,t){var r=xe,s=dt(),l=t(),a=!gt(s.memoizedState,l);if(a&&(s.memoizedState=l,He=!0),s=s.queue,Qo($u.bind(null,r,s,e),[e]),s.getSnapshot!==t||a||Pe!==null&&Pe.memoizedState.tag&1){if(r.flags|=2048,es(9,Uu.bind(null,r,s,l,t),void 0,null),Le===null)throw Error(T(349));Sn&30||Iu(r,t,l)}return l}function Iu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Uu(e,t,r,s){t.value=r,t.getSnapshot=s,Bu(t)&&Ou(e)}function $u(e,t,r){return r(function(){Bu(t)&&Ou(e)})}function Bu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gt(e,r)}catch{return!0}}function Ou(e){var t=It(e,1);t!==null&&xt(t,e,1,-1)}function Mc(e){var t=wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:e},t.queue=e,e=e.dispatch=xp.bind(null,xe,e),[t.memoizedState,e]}function es(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Wu(){return dt().memoizedState}function Bs(e,t,r,s){var l=wt();xe.flags|=e,l.memoizedState=es(1|t,r,void 0,s===void 0?null:s)}function kl(e,t,r,s){var l=dt();s=s===void 0?null:s;var a=void 0;if(Se!==null){var o=Se.memoizedState;if(a=o.destroy,s!==null&&Wo(s,o.deps)){l.memoizedState=es(t,r,a,s);return}}xe.flags|=e,l.memoizedState=es(1|t,r,a,s)}function Dc(e,t){return Bs(8390656,8,e,t)}function Qo(e,t){return kl(2048,8,e,t)}function Vu(e,t){return kl(4,2,e,t)}function Hu(e,t){return kl(4,4,e,t)}function Qu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qu(e,t,r){return r=r!=null?r.concat([e]):null,kl(4,4,Qu.bind(null,t,e),r)}function qo(){}function Gu(e,t){var r=dt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Wo(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Yu(e,t){var r=dt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Wo(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Ku(e,t,r){return Sn&21?(gt(r,t)||(r=tu(),xe.lanes|=r,Cn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=r)}function pp(e,t){var r=ce;ce=r!==0&&4>r?r:4,e(!0);var s=ra.transition;ra.transition={};try{e(!1),t()}finally{ce=r,ra.transition=s}}function Xu(){return dt().memoizedState}function fp(e,t,r){var s=ln(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Ju(e))Zu(t,r);else if(r=Au(e,t,r,s),r!==null){var l=Be();xt(r,e,s,l),em(r,t,s)}}function xp(e,t,r){var s=ln(e),l={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))Zu(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,c=a(o,r);if(l.hasEagerState=!0,l.eagerState=c,gt(c,o)){var i=t.interleaved;i===null?(l.next=l,Io(t)):(l.next=i.next,i.next=l),t.interleaved=l;return}}catch{}finally{}r=Au(e,t,l,s),r!==null&&(l=Be(),xt(r,e,s,l),em(r,t,s))}}function Ju(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Zu(e,t){Dr=cl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function em(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,ko(e,r)}}var dl={readContext:ct,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},gp={readContext:ct,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Dc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bs(4194308,4,Qu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var r=wt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=wt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=fp.bind(null,xe,e),[s.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:Mc,useDebugValue:qo,useDeferredValue:function(e){return wt().memoizedState=e},useTransition:function(){var e=Mc(!1),t=e[0];return e=pp.bind(null,e[1]),wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=xe,l=wt();if(pe){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),Le===null)throw Error(T(349));Sn&30||Iu(s,t,r)}l.memoizedState=r;var a={value:r,getSnapshot:t};return l.queue=a,Dc($u.bind(null,s,a,e),[e]),s.flags|=2048,es(9,Uu.bind(null,s,a,r,t),void 0,null),r},useId:function(){var e=wt(),t=Le.identifierPrefix;if(pe){var r=Mt,s=At;r=(s&~(1<<32-ft(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jr++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=hp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vp={readContext:ct,useCallback:Gu,useContext:ct,useEffect:Qo,useImperativeHandle:qu,useInsertionEffect:Vu,useLayoutEffect:Hu,useMemo:Yu,useReducer:sa,useRef:Wu,useState:function(){return sa(Zr)},useDebugValue:qo,useDeferredValue:function(e){var t=dt();return Ku(t,Se.memoizedState,e)},useTransition:function(){var e=sa(Zr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Fu,useId:Xu,unstable_isNewReconciler:!1},yp={readContext:ct,useCallback:Gu,useContext:ct,useEffect:Qo,useImperativeHandle:qu,useInsertionEffect:Vu,useLayoutEffect:Hu,useMemo:Yu,useReducer:la,useRef:Wu,useState:function(){return la(Zr)},useDebugValue:qo,useDeferredValue:function(e){var t=dt();return Se===null?t.memoizedState=e:Ku(t,Se.memoizedState,e)},useTransition:function(){var e=la(Zr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Fu,useId:Xu,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Wa(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:ge({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sl={isMounted:function(e){return(e=e._reactInternals)?Ln(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Be(),l=ln(e),a=Dt(s,l);a.payload=t,r!=null&&(a.callback=r),t=rn(e,a,l),t!==null&&(xt(t,e,l,s),Us(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Be(),l=ln(e),a=Dt(s,l);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=rn(e,a,l),t!==null&&(xt(t,e,l,s),Us(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Be(),s=ln(e),l=Dt(r,s);l.tag=2,t!=null&&(l.callback=t),t=rn(e,l,s),t!==null&&(xt(t,e,s,r),Us(t,e,s))}};function zc(e,t,r,s,l,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!Qr(r,s)||!Qr(l,a):!0}function tm(e,t,r){var s=!1,l=dn,a=t.contextType;return typeof a=="object"&&a!==null?a=ct(a):(l=qe(t)?Nn:Ie.current,s=t.contextTypes,a=(s=s!=null)?tr(e,l):dn),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Fc(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Sl.enqueueReplaceState(t,t.state,null)}function Va(e,t,r,s){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Uo(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=ct(a):(a=qe(t)?Nn:Ie.current,l.context=tr(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Wa(e,t,a,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Sl.enqueueReplaceState(l,l.state,null),ol(e,r,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function lr(e,t){try{var r="",s=t;do r+=qh(s),s=s.return;while(s);var l=r}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function aa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ha(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wp=typeof WeakMap=="function"?WeakMap:Map;function nm(e,t,r){r=Dt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){ml||(ml=!0,to=s),Ha(e,t)},r}function rm(e,t,r){r=Dt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;r.payload=function(){return s(l)},r.callback=function(){Ha(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ha(e,t),typeof s!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ic(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new wp;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(r)||(l.add(r),e=Mp.bind(null,e,t,r),t.then(e,e))}function Uc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $c(e,t,r,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Dt(-1,1),t.tag=2,rn(r,t,1))),r.lanes|=1),e)}var jp=$t.ReactCurrentOwner,He=!1;function Ue(e,t,r,s){t.child=e===null?Tu(t,null,r,s):rr(t,e.child,r,s)}function Bc(e,t,r,s,l){r=r.render;var a=t.ref;return Jn(t,l),s=Vo(e,t,r,s,a,l),r=Ho(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ut(e,t,l)):(pe&&r&&To(t),t.flags|=1,Ue(e,t,s,l),t.child)}function Oc(e,t,r,s,l){if(e===null){var a=r.type;return typeof a=="function"&&!ti(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,sm(e,t,a,s,l)):(e=Hs(r.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Qr,r(o,s)&&e.ref===t.ref)return Ut(e,t,l)}return t.flags|=1,e=an(a,s),e.ref=t.ref,e.return=t,t.child=e}function sm(e,t,r,s,l){if(e!==null){var a=e.memoizedProps;if(Qr(a,s)&&e.ref===t.ref)if(He=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,Ut(e,t,l)}return Qa(e,t,r,s,l)}function lm(e,t,r){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Qn,Ke),Ke|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(Qn,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:r,de(Qn,Ke),Ke|=s}else a!==null?(s=a.baseLanes|r,t.memoizedState=null):s=r,de(Qn,Ke),Ke|=s;return Ue(e,t,l,r),t.child}function am(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Qa(e,t,r,s,l){var a=qe(r)?Nn:Ie.current;return a=tr(t,a),Jn(t,l),r=Vo(e,t,r,s,a,l),s=Ho(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ut(e,t,l)):(pe&&s&&To(t),t.flags|=1,Ue(e,t,r,l),t.child)}function Wc(e,t,r,s,l){if(qe(r)){var a=!0;nl(t)}else a=!1;if(Jn(t,l),t.stateNode===null)Os(e,t),tm(t,r,s),Va(t,r,s,l),s=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var i=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ct(d):(d=qe(r)?Nn:Ie.current,d=tr(t,d));var x=r.getDerivedStateFromProps,h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==s||i!==d)&&Fc(t,o,s,d),qt=!1;var g=t.memoizedState;o.state=g,ol(t,s,o,l),i=t.memoizedState,c!==s||g!==i||Qe.current||qt?(typeof x=="function"&&(Wa(t,r,x,s),i=t.memoizedState),(c=qt||zc(t,r,c,s,g,i,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=i),o.props=s,o.state=i,o.context=d,s=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Mu(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:mt(t.type,c),o.props=d,h=t.pendingProps,g=o.context,i=r.contextType,typeof i=="object"&&i!==null?i=ct(i):(i=qe(r)?Nn:Ie.current,i=tr(t,i));var b=r.getDerivedStateFromProps;(x=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==h||g!==i)&&Fc(t,o,s,i),qt=!1,g=t.memoizedState,o.state=g,ol(t,s,o,l);var y=t.memoizedState;c!==h||g!==y||Qe.current||qt?(typeof b=="function"&&(Wa(t,r,b,s),y=t.memoizedState),(d=qt||zc(t,r,d,s,g,y,i)||!1)?(x||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,i),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,i)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=y),o.props=s,o.state=y,o.context=i,s=d):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return qa(e,t,r,s,a,l)}function qa(e,t,r,s,l,a){am(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return l&&Pc(t,r,!1),Ut(e,t,a);s=t.stateNode,jp.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=rr(t,e.child,null,a),t.child=rr(t,null,c,a)):Ue(e,t,c,a),t.memoizedState=s.state,l&&Pc(t,r,!0),t.child}function om(e){var t=e.stateNode;t.pendingContext?Ec(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ec(e,t.context,!1),$o(e,t.containerInfo)}function Vc(e,t,r,s,l){return nr(),Mo(l),t.flags|=256,Ue(e,t,r,s),t.child}var Ga={dehydrated:null,treeContext:null,retryLane:0};function Ya(e){return{baseLanes:e,cachePool:null,transitions:null}}function im(e,t,r){var s=t.pendingProps,l=fe.current,a=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(l&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),de(fe,l&1),e===null)return Ba(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Pl(o,s,0,null),e=bn(e,s,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ya(r),t.memoizedState=Ga,e):Go(t,o));if(l=e.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return bp(e,t,o,s,c,l,r);if(a){a=s.fallback,o=t.mode,l=e.child,c=l.sibling;var i={mode:"hidden",children:s.children};return!(o&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=i,t.deletions=null):(s=an(l,i),s.subtreeFlags=l.subtreeFlags&14680064),c!==null?a=an(c,a):(a=bn(a,o,r,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?Ya(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Ga,s}return a=e.child,e=a.sibling,s=an(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Go(e,t){return t=Pl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ps(e,t,r,s){return s!==null&&Mo(s),rr(t,e.child,null,r),e=Go(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bp(e,t,r,s,l,a,o){if(r)return t.flags&256?(t.flags&=-257,s=aa(Error(T(422))),Ps(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=Pl({mode:"visible",children:s.children},l,0,null),a=bn(a,l,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&rr(t,e.child,null,o),t.child.memoizedState=Ya(o),t.memoizedState=Ga,a);if(!(t.mode&1))return Ps(e,t,o,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var c=s.dgst;return s=c,a=Error(T(419)),s=aa(a,s,void 0),Ps(e,t,o,s)}if(c=(o&e.childLanes)!==0,He||c){if(s=Le,s!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|o)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,It(e,l),xt(s,e,l,-1))}return ei(),s=aa(Error(T(421))),Ps(e,t,o,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Dp.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Xe=nn(l.nextSibling),Je=t,pe=!0,pt=null,e!==null&&(lt[at++]=At,lt[at++]=Mt,lt[at++]=kn,At=e.id,Mt=e.overflow,kn=t),t=Go(t,s.children),t.flags|=4096,t)}function Hc(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Oa(e.return,t,r)}function oa(e,t,r,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=r,a.tailMode=l)}function cm(e,t,r){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(Ue(e,t,s.children,r),s=fe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hc(e,r,t);else if(e.tag===19)Hc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(de(fe,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&il(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),oa(t,!1,l,r,a);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&il(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}oa(t,!0,r,null,a);break;case"together":oa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Os(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Cn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=an(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=an(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Np(e,t,r){switch(t.tag){case 3:om(t),nr();break;case 5:Du(t);break;case 1:qe(t.type)&&nl(t);break;case 4:$o(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;de(ll,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(de(fe,fe.current&1),t.flags|=128,null):r&t.child.childLanes?im(e,t,r):(de(fe,fe.current&1),e=Ut(e,t,r),e!==null?e.sibling:null);de(fe,fe.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return cm(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),de(fe,fe.current),s)break;return null;case 22:case 23:return t.lanes=0,lm(e,t,r)}return Ut(e,t,r)}var dm,Ka,um,mm;dm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ka=function(){};um=function(e,t,r,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,wn(Nt.current);var a=null;switch(r){case"input":l=va(e,l),s=va(e,s),a=[];break;case"select":l=ge({},l,{value:void 0}),s=ge({},s,{value:void 0}),a=[];break;case"textarea":l=ja(e,l),s=ja(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=el)}Na(r,s);var o;r=null;for(d in l)if(!s.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var c=l[d];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ur.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var i=s[d];if(c=l!=null?l[d]:void 0,s.hasOwnProperty(d)&&i!==c&&(i!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in i)i.hasOwnProperty(o)&&c[o]!==i[o]&&(r||(r={}),r[o]=i[o])}else r||(a||(a=[]),a.push(d,r)),r=i;else d==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,c=c?c.__html:void 0,i!=null&&c!==i&&(a=a||[]).push(d,i)):d==="children"?typeof i!="string"&&typeof i!="number"||(a=a||[]).push(d,""+i):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ur.hasOwnProperty(d)?(i!=null&&d==="onScroll"&&ue("scroll",e),a||c===i||(a=[])):(a=a||[]).push(d,i))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};mm=function(e,t,r,s){r!==s&&(t.flags|=4)};function jr(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function kp(e,t,r){var s=t.pendingProps;switch(Ao(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return qe(t.type)&&tl(),ze(t),null;case 3:return s=t.stateNode,sr(),me(Qe),me(Ie),Oo(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pt!==null&&(so(pt),pt=null))),Ka(e,t),ze(t),null;case 5:Bo(t);var l=wn(Xr.current);if(r=t.type,e!==null&&t.stateNode!=null)um(e,t,r,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(T(166));return ze(t),null}if(e=wn(Nt.current),Cs(t)){s=t.stateNode,r=t.type;var a=t.memoizedProps;switch(s[jt]=t,s[Yr]=a,e=(t.mode&1)!==0,r){case"dialog":ue("cancel",s),ue("close",s);break;case"iframe":case"object":case"embed":ue("load",s);break;case"video":case"audio":for(l=0;l<Lr.length;l++)ue(Lr[l],s);break;case"source":ue("error",s);break;case"img":case"image":case"link":ue("error",s),ue("load",s);break;case"details":ue("toggle",s);break;case"input":ec(s,a),ue("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},ue("invalid",s);break;case"textarea":nc(s,a),ue("invalid",s)}Na(r,a),l=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?s.textContent!==c&&(a.suppressHydrationWarning!==!0&&Ss(s.textContent,c,e),l=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Ss(s.textContent,c,e),l=["children",""+c]):Ur.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&ue("scroll",s)}switch(r){case"input":gs(s),tc(s,a,!0);break;case"textarea":gs(s),rc(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=el)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$d(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[jt]=t,e[Yr]=s,dm(e,t,!1,!1),t.stateNode=e;e:{switch(o=ka(r,s),r){case"dialog":ue("cancel",e),ue("close",e),l=s;break;case"iframe":case"object":case"embed":ue("load",e),l=s;break;case"video":case"audio":for(l=0;l<Lr.length;l++)ue(Lr[l],e);l=s;break;case"source":ue("error",e),l=s;break;case"img":case"image":case"link":ue("error",e),ue("load",e),l=s;break;case"details":ue("toggle",e),l=s;break;case"input":ec(e,s),l=va(e,s),ue("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=ge({},s,{value:void 0}),ue("invalid",e);break;case"textarea":nc(e,s),l=ja(e,s),ue("invalid",e);break;default:l=s}Na(r,l),c=l;for(a in c)if(c.hasOwnProperty(a)){var i=c[a];a==="style"?Wd(e,i):a==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&Bd(e,i)):a==="children"?typeof i=="string"?(r!=="textarea"||i!=="")&&$r(e,i):typeof i=="number"&&$r(e,""+i):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ur.hasOwnProperty(a)?i!=null&&a==="onScroll"&&ue("scroll",e):i!=null&&vo(e,a,i,o))}switch(r){case"input":gs(e),tc(e,s,!1);break;case"textarea":gs(e),rc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+cn(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Gn(e,!!s.multiple,a,!1):s.defaultValue!=null&&Gn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=el)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)mm(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(T(166));if(r=wn(Xr.current),wn(Nt.current),Cs(t)){if(s=t.stateNode,r=t.memoizedProps,s[jt]=t,(a=s.nodeValue!==r)&&(e=Je,e!==null))switch(e.tag){case 3:Ss(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ss(s.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[jt]=t,t.stateNode=s}return ze(t),null;case 13:if(me(fe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&Xe!==null&&t.mode&1&&!(t.flags&128))_u(),nr(),t.flags|=98560,a=!1;else if(a=Cs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(T(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(T(317));a[jt]=t}else nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),a=!1}else pt!==null&&(so(pt),pt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?Ce===0&&(Ce=3):ei())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return sr(),Ka(e,t),e===null&&qr(t.stateNode.containerInfo),ze(t),null;case 10:return Fo(t.type._context),ze(t),null;case 17:return qe(t.type)&&tl(),ze(t),null;case 19:if(me(fe),a=t.memoizedState,a===null)return ze(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)jr(a,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=il(e),o!==null){for(t.flags|=128,jr(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)a=r,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return de(fe,fe.current&1|2),t.child}e=e.sibling}a.tail!==null&&ye()>ar&&(t.flags|=128,s=!0,jr(a,!1),t.lanes=4194304)}else{if(!s)if(e=il(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!pe)return ze(t),null}else 2*ye()-a.renderingStartTime>ar&&r!==1073741824&&(t.flags|=128,s=!0,jr(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ye(),t.sibling=null,r=fe.current,de(fe,s?r&1|2:r&1),t):(ze(t),null);case 22:case 23:return Zo(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ke&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Sp(e,t){switch(Ao(t),t.tag){case 1:return qe(t.type)&&tl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sr(),me(Qe),me(Ie),Oo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bo(t),null;case 13:if(me(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(fe),null;case 4:return sr(),null;case 10:return Fo(t.type._context),null;case 22:case 23:return Zo(),null;case 24:return null;default:return null}}var Ls=!1,Fe=!1,Cp=typeof WeakSet=="function"?WeakSet:Set,I=null;function Hn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){ve(e,t,s)}else r.current=null}function Xa(e,t,r){try{r()}catch(s){ve(e,t,s)}}var Qc=!1;function Ep(e,t){if(Ma=Xs,e=gu(),Ro(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,c=-1,i=-1,d=0,x=0,h=e,g=null;t:for(;;){for(var b;h!==r||l!==0&&h.nodeType!==3||(c=o+l),h!==a||s!==0&&h.nodeType!==3||(i=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(b=h.firstChild)!==null;)g=h,h=b;for(;;){if(h===e)break t;if(g===r&&++d===l&&(c=o),g===a&&++x===s&&(i=o),(b=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=b}r=c===-1||i===-1?null:{start:c,end:i}}else r=null}r=r||{start:0,end:0}}else r=null;for(Da={focusedElem:e,selectionRange:r},Xs=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var j=y.memoizedProps,k=y.memoizedState,f=t.stateNode,m=f.getSnapshotBeforeUpdate(t.elementType===t.type?j:mt(t.type,j),k);f.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var u=t.stateNode.containerInfo;u.nodeType===1?u.textContent="":u.nodeType===9&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(N){ve(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return y=Qc,Qc=!1,y}function zr(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&Xa(t,r,a)}l=l.next}while(l!==s)}}function Cl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Ja(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function hm(e){var t=e.alternate;t!==null&&(e.alternate=null,hm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[Yr],delete t[Ia],delete t[cp],delete t[dp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pm(e){return e.tag===5||e.tag===3||e.tag===4}function qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Za(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=el));else if(s!==4&&(e=e.child,e!==null))for(Za(e,t,r),e=e.sibling;e!==null;)Za(e,t,r),e=e.sibling}function eo(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(eo(e,t,r),e=e.sibling;e!==null;)eo(e,t,r),e=e.sibling}var Re=null,ht=!1;function Ht(e,t,r){for(r=r.child;r!==null;)fm(e,t,r),r=r.sibling}function fm(e,t,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(vl,r)}catch{}switch(r.tag){case 5:Fe||Hn(r,t);case 6:var s=Re,l=ht;Re=null,Ht(e,t,r),Re=s,ht=l,Re!==null&&(ht?(e=Re,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Re.removeChild(r.stateNode));break;case 18:Re!==null&&(ht?(e=Re,r=r.stateNode,e.nodeType===8?ea(e.parentNode,r):e.nodeType===1&&ea(e,r),Vr(e)):ea(Re,r.stateNode));break;case 4:s=Re,l=ht,Re=r.stateNode.containerInfo,ht=!0,Ht(e,t,r),Re=s,ht=l;break;case 0:case 11:case 14:case 15:if(!Fe&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Xa(r,t,o),l=l.next}while(l!==s)}Ht(e,t,r);break;case 1:if(!Fe&&(Hn(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(c){ve(r,t,c)}Ht(e,t,r);break;case 21:Ht(e,t,r);break;case 22:r.mode&1?(Fe=(s=Fe)||r.memoizedState!==null,Ht(e,t,r),Fe=s):Ht(e,t,r);break;default:Ht(e,t,r)}}function Gc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Cp),t.forEach(function(s){var l=zp.bind(null,e,s);r.has(s)||(r.add(s),s.then(l,l))})}}function ut(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];try{var a=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:Re=c.stateNode,ht=!1;break e;case 3:Re=c.stateNode.containerInfo,ht=!0;break e;case 4:Re=c.stateNode.containerInfo,ht=!0;break e}c=c.return}if(Re===null)throw Error(T(160));fm(a,o,l),Re=null,ht=!1;var i=l.alternate;i!==null&&(i.return=null),l.return=null}catch(d){ve(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xm(t,e),t=t.sibling}function xm(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),yt(e),s&4){try{zr(3,e,e.return),Cl(3,e)}catch(j){ve(e,e.return,j)}try{zr(5,e,e.return)}catch(j){ve(e,e.return,j)}}break;case 1:ut(t,e),yt(e),s&512&&r!==null&&Hn(r,r.return);break;case 5:if(ut(t,e),yt(e),s&512&&r!==null&&Hn(r,r.return),e.flags&32){var l=e.stateNode;try{$r(l,"")}catch(j){ve(e,e.return,j)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,c=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Id(l,a),ka(c,o);var d=ka(c,a);for(o=0;o<i.length;o+=2){var x=i[o],h=i[o+1];x==="style"?Wd(l,h):x==="dangerouslySetInnerHTML"?Bd(l,h):x==="children"?$r(l,h):vo(l,x,h,d)}switch(c){case"input":ya(l,a);break;case"textarea":Ud(l,a);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?Gn(l,!!a.multiple,b,!1):g!==!!a.multiple&&(a.defaultValue!=null?Gn(l,!!a.multiple,a.defaultValue,!0):Gn(l,!!a.multiple,a.multiple?[]:"",!1))}l[Yr]=a}catch(j){ve(e,e.return,j)}}break;case 6:if(ut(t,e),yt(e),s&4){if(e.stateNode===null)throw Error(T(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(j){ve(e,e.return,j)}}break;case 3:if(ut(t,e),yt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Vr(t.containerInfo)}catch(j){ve(e,e.return,j)}break;case 4:ut(t,e),yt(e);break;case 13:ut(t,e),yt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Xo=ye())),s&4&&Gc(e);break;case 22:if(x=r!==null&&r.memoizedState!==null,e.mode&1?(Fe=(d=Fe)||x,ut(t,e),Fe=d):ut(t,e),yt(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!x&&e.mode&1)for(I=e,x=e.child;x!==null;){for(h=I=x;I!==null;){switch(g=I,b=g.child,g.tag){case 0:case 11:case 14:case 15:zr(4,g,g.return);break;case 1:Hn(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){s=g,r=g.return;try{t=s,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(j){ve(s,r,j)}}break;case 5:Hn(g,g.return);break;case 22:if(g.memoizedState!==null){Kc(h);continue}}b!==null?(b.return=g,I=b):Kc(h)}x=x.sibling}e:for(x=null,h=e;;){if(h.tag===5){if(x===null){x=h;try{l=h.stateNode,d?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=h.stateNode,i=h.memoizedProps.style,o=i!=null&&i.hasOwnProperty("display")?i.display:null,c.style.display=Od("display",o))}catch(j){ve(e,e.return,j)}}}else if(h.tag===6){if(x===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(j){ve(e,e.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ut(t,e),yt(e),s&4&&Gc(e);break;case 21:break;default:ut(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(pm(r)){var s=r;break e}r=r.return}throw Error(T(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&($r(l,""),s.flags&=-33);var a=qc(e);eo(e,a,l);break;case 3:case 4:var o=s.stateNode.containerInfo,c=qc(e);Za(e,c,o);break;default:throw Error(T(161))}}catch(i){ve(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pp(e,t,r){I=e,gm(e)}function gm(e,t,r){for(var s=(e.mode&1)!==0;I!==null;){var l=I,a=l.child;if(l.tag===22&&s){var o=l.memoizedState!==null||Ls;if(!o){var c=l.alternate,i=c!==null&&c.memoizedState!==null||Fe;c=Ls;var d=Fe;if(Ls=o,(Fe=i)&&!d)for(I=l;I!==null;)o=I,i=o.child,o.tag===22&&o.memoizedState!==null?Xc(l):i!==null?(i.return=o,I=i):Xc(l);for(;a!==null;)I=a,gm(a),a=a.sibling;I=l,Ls=c,Fe=d}Yc(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,I=a):Yc(e)}}function Yc(e){for(;I!==null;){var t=I;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||Cl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Fe)if(r===null)s.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:mt(t.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ac(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ac(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break;case"img":i.src&&(r.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var x=d.memoizedState;if(x!==null){var h=x.dehydrated;h!==null&&Vr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Fe||t.flags&512&&Ja(t)}catch(g){ve(t,t.return,g)}}if(t===e){I=null;break}if(r=t.sibling,r!==null){r.return=t.return,I=r;break}I=t.return}}function Kc(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var r=t.sibling;if(r!==null){r.return=t.return,I=r;break}I=t.return}}function Xc(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Cl(4,t)}catch(i){ve(t,r,i)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(i){ve(t,l,i)}}var a=t.return;try{Ja(t)}catch(i){ve(t,a,i)}break;case 5:var o=t.return;try{Ja(t)}catch(i){ve(t,o,i)}}}catch(i){ve(t,t.return,i)}if(t===e){I=null;break}var c=t.sibling;if(c!==null){c.return=t.return,I=c;break}I=t.return}}var Lp=Math.ceil,ul=$t.ReactCurrentDispatcher,Yo=$t.ReactCurrentOwner,it=$t.ReactCurrentBatchConfig,ae=0,Le=null,ke=null,Te=0,Ke=0,Qn=mn(0),Ce=0,ts=null,Cn=0,El=0,Ko=0,Fr=null,Ve=null,Xo=0,ar=1/0,_t=null,ml=!1,to=null,sn=null,_s=!1,Xt=null,hl=0,Ir=0,no=null,Ws=-1,Vs=0;function Be(){return ae&6?ye():Ws!==-1?Ws:Ws=ye()}function ln(e){return e.mode&1?ae&2&&Te!==0?Te&-Te:mp.transition!==null?(Vs===0&&(Vs=tu()),Vs):(e=ce,e!==0||(e=window.event,e=e===void 0?16:iu(e.type)),e):1}function xt(e,t,r,s){if(50<Ir)throw Ir=0,no=null,Error(T(185));ls(e,r,s),(!(ae&2)||e!==Le)&&(e===Le&&(!(ae&2)&&(El|=r),Ce===4&&Yt(e,Te)),Ge(e,s),r===1&&ae===0&&!(t.mode&1)&&(ar=ye()+500,Nl&&hn()))}function Ge(e,t){var r=e.callbackNode;m0(e,t);var s=Ks(e,e===Le?Te:0);if(s===0)r!==null&&ac(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&ac(r),t===1)e.tag===0?up(Jc.bind(null,e)):Eu(Jc.bind(null,e)),op(function(){!(ae&6)&&hn()}),r=null;else{switch(nu(s)){case 1:r=No;break;case 4:r=Zd;break;case 16:r=Ys;break;case 536870912:r=eu;break;default:r=Ys}r=Sm(r,vm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function vm(e,t){if(Ws=-1,Vs=0,ae&6)throw Error(T(327));var r=e.callbackNode;if(Zn()&&e.callbackNode!==r)return null;var s=Ks(e,e===Le?Te:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=pl(e,s);else{t=s;var l=ae;ae|=2;var a=wm();(Le!==e||Te!==t)&&(_t=null,ar=ye()+500,jn(e,t));do try{Tp();break}catch(c){ym(e,c)}while(!0);zo(),ul.current=a,ae=l,ke!==null?t=0:(Le=null,Te=0,t=Ce)}if(t!==0){if(t===2&&(l=La(e),l!==0&&(s=l,t=ro(e,l))),t===1)throw r=ts,jn(e,0),Yt(e,s),Ge(e,ye()),r;if(t===6)Yt(e,s);else{if(l=e.current.alternate,!(s&30)&&!_p(l)&&(t=pl(e,s),t===2&&(a=La(e),a!==0&&(s=a,t=ro(e,a))),t===1))throw r=ts,jn(e,0),Yt(e,s),Ge(e,ye()),r;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(T(345));case 2:gn(e,Ve,_t);break;case 3:if(Yt(e,s),(s&130023424)===s&&(t=Xo+500-ye(),10<t)){if(Ks(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Be(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Fa(gn.bind(null,e,Ve,_t),t);break}gn(e,Ve,_t);break;case 4:if(Yt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var o=31-ft(s);a=1<<o,o=t[o],o>l&&(l=o),s&=~a}if(s=l,s=ye()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Lp(s/1960))-s,10<s){e.timeoutHandle=Fa(gn.bind(null,e,Ve,_t),s);break}gn(e,Ve,_t);break;case 5:gn(e,Ve,_t);break;default:throw Error(T(329))}}}return Ge(e,ye()),e.callbackNode===r?vm.bind(null,e):null}function ro(e,t){var r=Fr;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=pl(e,t),e!==2&&(t=Ve,Ve=r,t!==null&&so(t)),e}function so(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function _p(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var l=r[s],a=l.getSnapshot;l=l.value;try{if(!gt(a(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yt(e,t){for(t&=~Ko,t&=~El,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ft(t),s=1<<r;e[r]=-1,t&=~s}}function Jc(e){if(ae&6)throw Error(T(327));Zn();var t=Ks(e,0);if(!(t&1))return Ge(e,ye()),null;var r=pl(e,t);if(e.tag!==0&&r===2){var s=La(e);s!==0&&(t=s,r=ro(e,s))}if(r===1)throw r=ts,jn(e,0),Yt(e,t),Ge(e,ye()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,Ve,_t),Ge(e,ye()),null}function Jo(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(ar=ye()+500,Nl&&hn())}}function En(e){Xt!==null&&Xt.tag===0&&!(ae&6)&&Zn();var t=ae;ae|=1;var r=it.transition,s=ce;try{if(it.transition=null,ce=1,e)return e()}finally{ce=s,it.transition=r,ae=t,!(ae&6)&&hn()}}function Zo(){Ke=Qn.current,me(Qn)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ap(r)),ke!==null)for(r=ke.return;r!==null;){var s=r;switch(Ao(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&tl();break;case 3:sr(),me(Qe),me(Ie),Oo();break;case 5:Bo(s);break;case 4:sr();break;case 13:me(fe);break;case 19:me(fe);break;case 10:Fo(s.type._context);break;case 22:case 23:Zo()}r=r.return}if(Le=e,ke=e=an(e.current,null),Te=Ke=t,Ce=0,ts=null,Ko=El=Cn=0,Ve=Fr=null,yn!==null){for(t=0;t<yn.length;t++)if(r=yn[t],s=r.interleaved,s!==null){r.interleaved=null;var l=s.next,a=r.pending;if(a!==null){var o=a.next;a.next=l,s.next=o}r.pending=s}yn=null}return e}function ym(e,t){do{var r=ke;try{if(zo(),$s.current=dl,cl){for(var s=xe.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}cl=!1}if(Sn=0,Pe=Se=xe=null,Dr=!1,Jr=0,Yo.current=null,r===null||r.return===null){Ce=1,ts=t,ke=null;break}e:{var a=e,o=r.return,c=r,i=t;if(t=Te,c.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var d=i,x=c,h=x.tag;if(!(x.mode&1)&&(h===0||h===11||h===15)){var g=x.alternate;g?(x.updateQueue=g.updateQueue,x.memoizedState=g.memoizedState,x.lanes=g.lanes):(x.updateQueue=null,x.memoizedState=null)}var b=Uc(o);if(b!==null){b.flags&=-257,$c(b,o,c,a,t),b.mode&1&&Ic(a,d,t),t=b,i=d;var y=t.updateQueue;if(y===null){var j=new Set;j.add(i),t.updateQueue=j}else y.add(i);break e}else{if(!(t&1)){Ic(a,d,t),ei();break e}i=Error(T(426))}}else if(pe&&c.mode&1){var k=Uc(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),$c(k,o,c,a,t),Mo(lr(i,c));break e}}a=i=lr(i,c),Ce!==4&&(Ce=2),Fr===null?Fr=[a]:Fr.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var f=nm(a,i,t);Tc(a,f);break e;case 1:c=i;var m=a.type,u=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(sn===null||!sn.has(u)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=rm(a,c,t);Tc(a,N);break e}}a=a.return}while(a!==null)}bm(r)}catch(w){t=w,ke===r&&r!==null&&(ke=r=r.return);continue}break}while(!0)}function wm(){var e=ul.current;return ul.current=dl,e===null?dl:e}function ei(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Le===null||!(Cn&268435455)&&!(El&268435455)||Yt(Le,Te)}function pl(e,t){var r=ae;ae|=2;var s=wm();(Le!==e||Te!==t)&&(_t=null,jn(e,t));do try{Rp();break}catch(l){ym(e,l)}while(!0);if(zo(),ae=r,ul.current=s,ke!==null)throw Error(T(261));return Le=null,Te=0,Ce}function Rp(){for(;ke!==null;)jm(ke)}function Tp(){for(;ke!==null&&!r0();)jm(ke)}function jm(e){var t=km(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?bm(e):ke=t,Yo.current=null}function bm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Sp(r,t),r!==null){r.flags&=32767,ke=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,ke=null;return}}else if(r=kp(r,t,Ke),r!==null){ke=r;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Ce===0&&(Ce=5)}function gn(e,t,r){var s=ce,l=it.transition;try{it.transition=null,ce=1,Ap(e,t,r,s)}finally{it.transition=l,ce=s}return null}function Ap(e,t,r,s){do Zn();while(Xt!==null);if(ae&6)throw Error(T(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(h0(e,a),e===Le&&(ke=Le=null,Te=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_s||(_s=!0,Sm(Ys,function(){return Zn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=it.transition,it.transition=null;var o=ce;ce=1;var c=ae;ae|=4,Yo.current=null,Ep(e,r),xm(r,e),Z0(Da),Xs=!!Ma,Da=Ma=null,e.current=r,Pp(r),s0(),ae=c,ce=o,it.transition=a}else e.current=r;if(_s&&(_s=!1,Xt=e,hl=l),a=e.pendingLanes,a===0&&(sn=null),o0(r.stateNode),Ge(e,ye()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],s(l.value,{componentStack:l.stack,digest:l.digest});if(ml)throw ml=!1,e=to,to=null,e;return hl&1&&e.tag!==0&&Zn(),a=e.pendingLanes,a&1?e===no?Ir++:(Ir=0,no=e):Ir=0,hn(),null}function Zn(){if(Xt!==null){var e=nu(hl),t=it.transition,r=ce;try{if(it.transition=null,ce=16>e?16:e,Xt===null)var s=!1;else{if(e=Xt,Xt=null,hl=0,ae&6)throw Error(T(331));var l=ae;for(ae|=4,I=e.current;I!==null;){var a=I,o=a.child;if(I.flags&16){var c=a.deletions;if(c!==null){for(var i=0;i<c.length;i++){var d=c[i];for(I=d;I!==null;){var x=I;switch(x.tag){case 0:case 11:case 15:zr(8,x,a)}var h=x.child;if(h!==null)h.return=x,I=h;else for(;I!==null;){x=I;var g=x.sibling,b=x.return;if(hm(x),x===d){I=null;break}if(g!==null){g.return=b,I=g;break}I=b}}}var y=a.alternate;if(y!==null){var j=y.child;if(j!==null){y.child=null;do{var k=j.sibling;j.sibling=null,j=k}while(j!==null)}}I=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,I=o;else e:for(;I!==null;){if(a=I,a.flags&2048)switch(a.tag){case 0:case 11:case 15:zr(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,I=f;break e}I=a.return}}var m=e.current;for(I=m;I!==null;){o=I;var u=o.child;if(o.subtreeFlags&2064&&u!==null)u.return=o,I=u;else e:for(o=m;I!==null;){if(c=I,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Cl(9,c)}}catch(w){ve(c,c.return,w)}if(c===o){I=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,I=N;break e}I=c.return}}if(ae=l,hn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(vl,e)}catch{}s=!0}return s}finally{ce=r,it.transition=t}}return!1}function Zc(e,t,r){t=lr(r,t),t=nm(e,t,1),e=rn(e,t,1),t=Be(),e!==null&&(ls(e,1,t),Ge(e,t))}function ve(e,t,r){if(e.tag===3)Zc(e,e,r);else for(;t!==null;){if(t.tag===3){Zc(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(sn===null||!sn.has(s))){e=lr(r,e),e=rm(t,e,1),t=rn(t,e,1),e=Be(),t!==null&&(ls(t,1,e),Ge(t,e));break}}t=t.return}}function Mp(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&r,Le===e&&(Te&r)===r&&(Ce===4||Ce===3&&(Te&130023424)===Te&&500>ye()-Xo?jn(e,0):Ko|=r),Ge(e,t)}function Nm(e,t){t===0&&(e.mode&1?(t=ws,ws<<=1,!(ws&130023424)&&(ws=4194304)):t=1);var r=Be();e=It(e,t),e!==null&&(ls(e,t,r),Ge(e,r))}function Dp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Nm(e,r)}function zp(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(T(314))}s!==null&&s.delete(t),Nm(e,r)}var km;km=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)He=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return He=!1,Np(e,t,r);He=!!(e.flags&131072)}else He=!1,pe&&t.flags&1048576&&Pu(t,sl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Os(e,t),e=t.pendingProps;var l=tr(t,Ie.current);Jn(t,r),l=Vo(null,t,s,e,l,r);var a=Ho();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(s)?(a=!0,nl(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Uo(t),l.updater=Sl,t.stateNode=l,l._reactInternals=t,Va(t,s,e,r),t=qa(null,t,s,!0,a,r)):(t.tag=0,pe&&a&&To(t),Ue(null,t,l,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Os(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Ip(s),e=mt(s,e),l){case 0:t=Qa(null,t,s,e,r);break e;case 1:t=Wc(null,t,s,e,r);break e;case 11:t=Bc(null,t,s,e,r);break e;case 14:t=Oc(null,t,s,mt(s.type,e),r);break e}throw Error(T(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:mt(s,l),Qa(e,t,s,l,r);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:mt(s,l),Wc(e,t,s,l,r);case 3:e:{if(om(t),e===null)throw Error(T(387));s=t.pendingProps,a=t.memoizedState,l=a.element,Mu(e,t),ol(t,s,null,r);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=lr(Error(T(423)),t),t=Vc(e,t,s,r,l);break e}else if(s!==l){l=lr(Error(T(424)),t),t=Vc(e,t,s,r,l);break e}else for(Xe=nn(t.stateNode.containerInfo.firstChild),Je=t,pe=!0,pt=null,r=Tu(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(nr(),s===l){t=Ut(e,t,r);break e}Ue(e,t,s,r)}t=t.child}return t;case 5:return Du(t),e===null&&Ba(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,o=l.children,za(s,l)?o=null:a!==null&&za(s,a)&&(t.flags|=32),am(e,t),Ue(e,t,o,r),t.child;case 6:return e===null&&Ba(t),null;case 13:return im(e,t,r);case 4:return $o(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=rr(t,null,s,r):Ue(e,t,s,r),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:mt(s,l),Bc(e,t,s,l,r);case 7:return Ue(e,t,t.pendingProps,r),t.child;case 8:return Ue(e,t,t.pendingProps.children,r),t.child;case 12:return Ue(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,o=l.value,de(ll,s._currentValue),s._currentValue=o,a!==null)if(gt(a.value,o)){if(a.children===l.children&&!Qe.current){t=Ut(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var i=c.firstContext;i!==null;){if(i.context===s){if(a.tag===1){i=Dt(-1,r&-r),i.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var x=d.pending;x===null?i.next=i:(i.next=x.next,x.next=i),d.pending=i}}a.lanes|=r,i=a.alternate,i!==null&&(i.lanes|=r),Oa(a.return,r,t),c.lanes|=r;break}i=i.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(T(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Oa(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ue(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,Jn(t,r),l=ct(l),s=s(l),t.flags|=1,Ue(e,t,s,r),t.child;case 14:return s=t.type,l=mt(s,t.pendingProps),l=mt(s.type,l),Oc(e,t,s,l,r);case 15:return sm(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:mt(s,l),Os(e,t),t.tag=1,qe(s)?(e=!0,nl(t)):e=!1,Jn(t,r),tm(t,s,l),Va(t,s,l,r),qa(null,t,s,!0,e,r);case 19:return cm(e,t,r);case 22:return lm(e,t,r)}throw Error(T(156,t.tag))};function Sm(e,t){return Jd(e,t)}function Fp(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,r,s){return new Fp(e,t,r,s)}function ti(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ip(e){if(typeof e=="function")return ti(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wo)return 11;if(e===jo)return 14}return 2}function an(e,t){var r=e.alternate;return r===null?(r=ot(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hs(e,t,r,s,l,a){var o=2;if(s=e,typeof e=="function")ti(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case zn:return bn(r.children,l,a,t);case yo:o=8,l|=8;break;case pa:return e=ot(12,r,t,l|2),e.elementType=pa,e.lanes=a,e;case fa:return e=ot(13,r,t,l),e.elementType=fa,e.lanes=a,e;case xa:return e=ot(19,r,t,l),e.elementType=xa,e.lanes=a,e;case Dd:return Pl(r,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ad:o=10;break e;case Md:o=9;break e;case wo:o=11;break e;case jo:o=14;break e;case Qt:o=16,s=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=ot(o,r,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function bn(e,t,r,s){return e=ot(7,e,s,t),e.lanes=r,e}function Pl(e,t,r,s){return e=ot(22,e,s,t),e.elementType=Dd,e.lanes=r,e.stateNode={isHidden:!1},e}function ia(e,t,r){return e=ot(6,e,null,t),e.lanes=r,e}function ca(e,t,r){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Up(e,t,r,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ni(e,t,r,s,l,a,o,c,i){return e=new Up(e,t,r,c,i),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ot(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uo(a),e}function $p(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Cm(e){if(!e)return dn;e=e._reactInternals;e:{if(Ln(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(qe(r))return Cu(e,r,t)}return t}function Em(e,t,r,s,l,a,o,c,i){return e=ni(r,s,!0,e,l,a,o,c,i),e.context=Cm(null),r=e.current,s=Be(),l=ln(r),a=Dt(s,l),a.callback=t??null,rn(r,a,l),e.current.lanes=l,ls(e,l,s),Ge(e,s),e}function Ll(e,t,r,s){var l=t.current,a=Be(),o=ln(l);return r=Cm(r),t.context===null?t.context=r:t.pendingContext=r,t=Dt(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=rn(l,t,o),e!==null&&(xt(e,l,o,a),Us(e,l,o)),o}function fl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ed(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ri(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}function Bp(){return null}var Pm=typeof reportError=="function"?reportError:function(e){console.error(e)};function si(e){this._internalRoot=e}_l.prototype.render=si.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Ll(e,t,null,null)};_l.prototype.unmount=si.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;En(function(){Ll(null,e,null,null)}),t[Ft]=null}};function _l(e){this._internalRoot=e}_l.prototype.unstable_scheduleHydration=function(e){if(e){var t=lu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gt.length&&t!==0&&t<Gt[r].priority;r++);Gt.splice(r,0,e),r===0&&ou(e)}};function li(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function td(){}function Op(e,t,r,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var d=fl(o);a.call(d)}}var o=Em(t,s,e,0,null,!1,!1,"",td);return e._reactRootContainer=o,e[Ft]=o.current,qr(e.nodeType===8?e.parentNode:e),En(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var c=s;s=function(){var d=fl(i);c.call(d)}}var i=ni(e,0,!1,null,null,!1,!1,"",td);return e._reactRootContainer=i,e[Ft]=i.current,qr(e.nodeType===8?e.parentNode:e),En(function(){Ll(t,i,r,s)}),i}function Tl(e,t,r,s,l){var a=r._reactRootContainer;if(a){var o=a;if(typeof l=="function"){var c=l;l=function(){var i=fl(o);c.call(i)}}Ll(t,o,e,l)}else o=Op(r,t,e,l,s);return fl(o)}ru=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Pr(t.pendingLanes);r!==0&&(ko(t,r|1),Ge(t,ye()),!(ae&6)&&(ar=ye()+500,hn()))}break;case 13:En(function(){var s=It(e,1);if(s!==null){var l=Be();xt(s,e,1,l)}}),ri(e,1)}};So=function(e){if(e.tag===13){var t=It(e,134217728);if(t!==null){var r=Be();xt(t,e,134217728,r)}ri(e,134217728)}};su=function(e){if(e.tag===13){var t=ln(e),r=It(e,t);if(r!==null){var s=Be();xt(r,e,t,s)}ri(e,t)}};lu=function(){return ce};au=function(e,t){var r=ce;try{return ce=e,t()}finally{ce=r}};Ca=function(e,t,r){switch(t){case"input":if(ya(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var l=bl(s);if(!l)throw Error(T(90));Fd(s),ya(s,l)}}}break;case"textarea":Ud(e,r);break;case"select":t=r.value,t!=null&&Gn(e,!!r.multiple,t,!1)}};Qd=Jo;qd=En;var Wp={usingClientEntryPoint:!1,Events:[os,$n,bl,Vd,Hd,Jo]},br={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vp={bundleType:br.bundleType,version:br.version,rendererPackageName:br.rendererPackageName,rendererConfig:br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kd(e),e===null?null:e.stateNode},findFiberByHostInstance:br.findFiberByHostInstance||Bp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{vl=Rs.inject(Vp),bt=Rs}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wp;et.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!li(t))throw Error(T(200));return $p(e,t,null,r)};et.createRoot=function(e,t){if(!li(e))throw Error(T(299));var r=!1,s="",l=Pm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ni(e,1,!1,null,null,r,!1,s,l),e[Ft]=t.current,qr(e.nodeType===8?e.parentNode:e),new si(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Kd(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return En(e)};et.hydrate=function(e,t,r){if(!Rl(t))throw Error(T(200));return Tl(null,e,t,!0,r)};et.hydrateRoot=function(e,t,r){if(!li(e))throw Error(T(405));var s=r!=null&&r.hydratedSources||null,l=!1,a="",o=Pm;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Em(t,null,e,1,r??null,l,!1,a,o),e[Ft]=t.current,qr(e),s)for(e=0;e<s.length;e++)r=s[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new _l(t)};et.render=function(e,t,r){if(!Rl(t))throw Error(T(200));return Tl(null,e,t,!1,r)};et.unmountComponentAtNode=function(e){if(!Rl(e))throw Error(T(40));return e._reactRootContainer?(En(function(){Tl(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1};et.unstable_batchedUpdates=Jo;et.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Rl(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Tl(e,t,r,!1,s)};et.version="18.3.1-next-f1338f8080-20240426";function Lm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lm)}catch(e){console.error(e)}}Lm(),Ld.exports=et;var Hp=Ld.exports,nd=Hp;ma.createRoot=nd.createRoot,ma.hydrateRoot=nd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ns.apply(this,arguments)}var Jt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Jt||(Jt={}));const rd="popstate";function Qp(e){e===void 0&&(e={});function t(s,l){let{pathname:a,search:o,hash:c}=s.location;return lo("",{pathname:a,search:o,hash:c},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:xl(l)}return Gp(t,r,null,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _m(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qp(){return Math.random().toString(36).substr(2,8)}function sd(e,t){return{usr:e.state,key:e.key,idx:t}}function lo(e,t,r,s){return r===void 0&&(r=null),ns({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?dr(t):t,{state:r,key:t&&t.key||s||qp()})}function xl(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function dr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Gp(e,t,r,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:a=!1}=s,o=l.history,c=Jt.Pop,i=null,d=x();d==null&&(d=0,o.replaceState(ns({},o.state,{idx:d}),""));function x(){return(o.state||{idx:null}).idx}function h(){c=Jt.Pop;let k=x(),f=k==null?null:k-d;d=k,i&&i({action:c,location:j.location,delta:f})}function g(k,f){c=Jt.Push;let m=lo(j.location,k,f);d=x()+1;let u=sd(m,d),N=j.createHref(m);try{o.pushState(u,"",N)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;l.location.assign(N)}a&&i&&i({action:c,location:j.location,delta:1})}function b(k,f){c=Jt.Replace;let m=lo(j.location,k,f);d=x();let u=sd(m,d),N=j.createHref(m);o.replaceState(u,"",N),a&&i&&i({action:c,location:j.location,delta:0})}function y(k){let f=l.location.origin!=="null"?l.location.origin:l.location.href,m=typeof k=="string"?k:xl(k);return m=m.replace(/ $/,"%20"),we(f,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,f)}let j={get action(){return c},get location(){return e(l,o)},listen(k){if(i)throw new Error("A history only accepts one active listener");return l.addEventListener(rd,h),i=k,()=>{l.removeEventListener(rd,h),i=null}},createHref(k){return t(l,k)},createURL:y,encodeLocation(k){let f=y(k);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:g,replace:b,go(k){return o.go(k)}};return j}var ld;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ld||(ld={}));function Yp(e,t,r){return r===void 0&&(r="/"),Kp(e,t,r)}function Kp(e,t,r,s){let l=typeof t=="string"?dr(t):t,a=ai(l.pathname||"/",r);if(a==null)return null;let o=Rm(e);Xp(o);let c=null;for(let i=0;c==null&&i<o.length;++i){let d=df(a);c=af(o[i],d)}return c}function Rm(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let l=(a,o,c)=>{let i={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};i.relativePath.startsWith("/")&&(we(i.relativePath.startsWith(s),'Absolute route path "'+i.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),i.relativePath=i.relativePath.slice(s.length));let d=on([s,i.relativePath]),x=r.concat(i);a.children&&a.children.length>0&&(we(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Rm(a.children,t,x,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:sf(d,a.index),routesMeta:x})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))l(a,o);else for(let i of Tm(a.path))l(a,o,i)}),t}function Tm(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,l=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return l?[a,""]:[a];let o=Tm(s.join("/")),c=[];return c.push(...o.map(i=>i===""?a:[a,i].join("/"))),l&&c.push(...o),c.map(i=>e.startsWith("/")&&i===""?"/":i)}function Xp(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:lf(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const Jp=/^:[\w-]+$/,Zp=3,ef=2,tf=1,nf=10,rf=-2,ad=e=>e==="*";function sf(e,t){let r=e.split("/"),s=r.length;return r.some(ad)&&(s+=rf),t&&(s+=ef),r.filter(l=>!ad(l)).reduce((l,a)=>l+(Jp.test(a)?Zp:a===""?tf:nf),s)}function lf(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function af(e,t,r){let{routesMeta:s}=e,l={},a="/",o=[];for(let c=0;c<s.length;++c){let i=s[c],d=c===s.length-1,x=a==="/"?t:t.slice(a.length)||"/",h=of({path:i.relativePath,caseSensitive:i.caseSensitive,end:d},x),g=i.route;if(!h)return null;Object.assign(l,h.params),o.push({params:l,pathname:on([a,h.pathname]),pathnameBase:pf(on([a,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(a=on([a,h.pathnameBase]))}return o}function of(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=cf(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let a=l[0],o=a.replace(/(.)\/+$/,"$1"),c=l.slice(1);return{params:s.reduce((d,x,h)=>{let{paramName:g,isOptional:b}=x;if(g==="*"){let j=c[h]||"";o=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const y=c[h];return b&&!y?d[g]=void 0:d[g]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function cf(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),_m(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,i)=>(s.push({paramName:c,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function df(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ai(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function uf(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:l=""}=typeof e=="string"?dr(e):e;return{pathname:r?r.startsWith("/")?r:mf(r,t):t,search:ff(s),hash:xf(l)}}function mf(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function da(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hf(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function oi(e,t){let r=hf(e);return t?r.map((s,l)=>l===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function ii(e,t,r,s){s===void 0&&(s=!1);let l;typeof e=="string"?l=dr(e):(l=ns({},e),we(!l.pathname||!l.pathname.includes("?"),da("?","pathname","search",l)),we(!l.pathname||!l.pathname.includes("#"),da("#","pathname","hash",l)),we(!l.search||!l.search.includes("#"),da("#","search","hash",l)));let a=e===""||l.pathname==="",o=a?"/":l.pathname,c;if(o==null)c=r;else{let h=t.length-1;if(!s&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;l.pathname=g.join("/")}c=h>=0?t[h]:"/"}let i=uf(l,c),d=o&&o!=="/"&&o.endsWith("/"),x=(a||o===".")&&r.endsWith("/");return!i.pathname.endsWith("/")&&(d||x)&&(i.pathname+="/"),i}const on=e=>e.join("/").replace(/\/\/+/g,"/"),pf=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ff=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xf=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gf(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Am=["post","put","patch","delete"];new Set(Am);const vf=["get",...Am];new Set(vf);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},rs.apply(this,arguments)}const ci=p.createContext(null),yf=p.createContext(null),pn=p.createContext(null),Al=p.createContext(null),Bt=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Mm=p.createContext(null);function wf(e,t){let{relative:r}=t===void 0?{}:t;ur()||we(!1);let{basename:s,navigator:l}=p.useContext(pn),{hash:a,pathname:o,search:c}=zm(e,{relative:r}),i=o;return s!=="/"&&(i=o==="/"?s:on([s,o])),l.createHref({pathname:i,search:c,hash:a})}function ur(){return p.useContext(Al)!=null}function fn(){return ur()||we(!1),p.useContext(Al).location}function Dm(e){p.useContext(pn).static||p.useLayoutEffect(e)}function St(){let{isDataRoute:e}=p.useContext(Bt);return e?Mf():jf()}function jf(){ur()||we(!1);let e=p.useContext(ci),{basename:t,future:r,navigator:s}=p.useContext(pn),{matches:l}=p.useContext(Bt),{pathname:a}=fn(),o=JSON.stringify(oi(l,r.v7_relativeSplatPath)),c=p.useRef(!1);return Dm(()=>{c.current=!0}),p.useCallback(function(d,x){if(x===void 0&&(x={}),!c.current)return;if(typeof d=="number"){s.go(d);return}let h=ii(d,JSON.parse(o),a,x.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:on([t,h.pathname])),(x.replace?s.replace:s.push)(h,x.state,x)},[t,s,o,a,e])}function bf(){let{matches:e}=p.useContext(Bt),t=e[e.length-1];return t?t.params:{}}function zm(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=p.useContext(pn),{matches:l}=p.useContext(Bt),{pathname:a}=fn(),o=JSON.stringify(oi(l,s.v7_relativeSplatPath));return p.useMemo(()=>ii(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function Nf(e,t){return kf(e,t)}function kf(e,t,r,s){ur()||we(!1);let{navigator:l}=p.useContext(pn),{matches:a}=p.useContext(Bt),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let i=o?o.pathnameBase:"/";o&&o.route;let d=fn(),x;if(t){var h;let k=typeof t=="string"?dr(t):t;i==="/"||(h=k.pathname)!=null&&h.startsWith(i)||we(!1),x=k}else x=d;let g=x.pathname||"/",b=g;if(i!=="/"){let k=i.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=Yp(e,{pathname:b}),j=Lf(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:on([i,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?i:on([i,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,r,s);return t&&j?p.createElement(Al.Provider,{value:{location:rs({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Jt.Pop}},j):j}function Sf(){let e=Af(),t=gf(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:l},r):null,null)}const Cf=p.createElement(Sf,null);class Ef extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Bt.Provider,{value:this.props.routeContext},p.createElement(Mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Pf(e){let{routeContext:t,match:r,children:s}=e,l=p.useContext(ci);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Bt.Provider,{value:t},s)}function Lf(e,t,r,s){var l;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=(l=r)==null?void 0:l.errors;if(c!=null){let x=o.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);x>=0||we(!1),o=o.slice(0,Math.min(o.length,x+1))}let i=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let x=0;x<o.length;x++){let h=o[x];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=x),h.route.id){let{loaderData:g,errors:b}=r,y=h.route.loader&&g[h.route.id]===void 0&&(!b||b[h.route.id]===void 0);if(h.route.lazy||y){i=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((x,h,g)=>{let b,y=!1,j=null,k=null;r&&(b=c&&h.route.id?c[h.route.id]:void 0,j=h.route.errorElement||Cf,i&&(d<0&&g===0?(Df("route-fallback"),y=!0,k=null):d===g&&(y=!0,k=h.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,g+1)),m=()=>{let u;return b?u=j:y?u=k:h.route.Component?u=p.createElement(h.route.Component,null):h.route.element?u=h.route.element:u=x,p.createElement(Pf,{match:h,routeContext:{outlet:x,matches:f,isDataRoute:r!=null},children:u})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?p.createElement(Ef,{location:r.location,revalidation:r.revalidation,component:j,error:b,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var Fm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Fm||{}),Im=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Im||{});function _f(e){let t=p.useContext(ci);return t||we(!1),t}function Rf(e){let t=p.useContext(yf);return t||we(!1),t}function Tf(e){let t=p.useContext(Bt);return t||we(!1),t}function Um(e){let t=Tf(),r=t.matches[t.matches.length-1];return r.route.id||we(!1),r.route.id}function Af(){var e;let t=p.useContext(Mm),r=Rf(),s=Um();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Mf(){let{router:e}=_f(Fm.UseNavigateStable),t=Um(Im.UseNavigateStable),r=p.useRef(!1);return Dm(()=>{r.current=!0}),p.useCallback(function(l,a){a===void 0&&(a={}),r.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,rs({fromRouteId:t},a)))},[e,t])}const od={};function Df(e,t,r){od[e]||(od[e]=!0)}function zf(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ao(e){let{to:t,replace:r,state:s,relative:l}=e;ur()||we(!1);let{future:a,static:o}=p.useContext(pn),{matches:c}=p.useContext(Bt),{pathname:i}=fn(),d=St(),x=ii(t,oi(c,a.v7_relativeSplatPath),i,l==="path"),h=JSON.stringify(x);return p.useEffect(()=>d(JSON.parse(h),{replace:r,state:s,relative:l}),[d,h,l,r,s]),null}function st(e){we(!1)}function Ff(e){let{basename:t="/",children:r=null,location:s,navigationType:l=Jt.Pop,navigator:a,static:o=!1,future:c}=e;ur()&&we(!1);let i=t.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:i,navigator:a,static:o,future:rs({v7_relativeSplatPath:!1},c)}),[i,c,a,o]);typeof s=="string"&&(s=dr(s));let{pathname:x="/",search:h="",hash:g="",state:b=null,key:y="default"}=s,j=p.useMemo(()=>{let k=ai(x,i);return k==null?null:{location:{pathname:k,search:h,hash:g,state:b,key:y},navigationType:l}},[i,x,h,g,b,y,l]);return j==null?null:p.createElement(pn.Provider,{value:d},p.createElement(Al.Provider,{children:r,value:j}))}function If(e){let{children:t,location:r}=e;return Nf(oo(t),r)}new Promise(()=>{});function oo(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(s,l)=>{if(!p.isValidElement(s))return;let a=[...t,l];if(s.type===p.Fragment){r.push.apply(r,oo(s.props.children,a));return}s.type!==st&&we(!1),!s.props.index||!s.props.children||we(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=oo(s.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},io.apply(this,arguments)}function Uf(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,a;for(a=0;a<s.length;a++)l=s[a],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function $f(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Bf(e,t){return e.button===0&&(!t||t==="_self")&&!$f(e)}function co(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(l=>[r,l]):[[r,s]])},[]))}function Of(e,t){let r=co(e);return t&&t.forEach((s,l)=>{r.has(l)||t.getAll(l).forEach(a=>{r.append(l,a)})}),r}const Wf=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Vf="6";try{window.__reactRouterVersion=Vf}catch{}const Hf="startTransition",id=Mh[Hf];function Qf(e){let{basename:t,children:r,future:s,window:l}=e,a=p.useRef();a.current==null&&(a.current=Qp({window:l,v5Compat:!0}));let o=a.current,[c,i]=p.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},x=p.useCallback(h=>{d&&id?id(()=>i(h)):i(h)},[i,d]);return p.useLayoutEffect(()=>o.listen(x),[o,x]),p.useEffect(()=>zf(s),[s]),p.createElement(Ff,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:s})}const qf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=p.forwardRef(function(t,r){let{onClick:s,relative:l,reloadDocument:a,replace:o,state:c,target:i,to:d,preventScrollReset:x,viewTransition:h}=t,g=Uf(t,Wf),{basename:b}=p.useContext(pn),y,j=!1;if(typeof d=="string"&&Gf.test(d)&&(y=d,qf))try{let u=new URL(window.location.href),N=d.startsWith("//")?new URL(u.protocol+d):new URL(d),w=ai(N.pathname,b);N.origin===u.origin&&w!=null?d=w+N.search+N.hash:j=!0}catch{}let k=wf(d,{relative:l}),f=Yf(d,{replace:o,state:c,target:i,preventScrollReset:x,relative:l,viewTransition:h});function m(u){s&&s(u),u.defaultPrevented||f(u)}return p.createElement("a",io({},g,{href:y||k,onClick:j||a?s:m,ref:r,target:i}))});var cd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cd||(cd={}));var dd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dd||(dd={}));function Yf(e,t){let{target:r,replace:s,state:l,preventScrollReset:a,relative:o,viewTransition:c}=t===void 0?{}:t,i=St(),d=fn(),x=zm(e,{relative:o});return p.useCallback(h=>{if(Bf(h,r)){h.preventDefault();let g=s!==void 0?s:xl(d)===xl(x);i(e,{replace:g,state:l,preventScrollReset:a,relative:o,viewTransition:c})}},[d,i,x,s,l,r,e,a,o,c])}function Kf(e){let t=p.useRef(co(e)),r=p.useRef(!1),s=fn(),l=p.useMemo(()=>Of(s.search,r.current?null:t.current),[s.search]),a=St(),o=p.useCallback((c,i)=>{const d=co(typeof c=="function"?c(l):c);r.current=!0,a("?"+d,i)},[a,l]);return[l,o]}const kt={WORKER_BASE_URL:"https://quickstage.tech",WEB_BASE_URL:"https://quickstage.tech",PUBLIC_BASE_URL:"https://quickstage.tech",API_BASE_URL:"/api",getSnapshotUrl:e=>`${kt.WORKER_BASE_URL}/s/${e}`,EXTENSION_DOWNLOAD_URL:"/quickstage.vsix",VERSION_INFO_URL:"/api/extensions/version",STRIPE_PUBLIC_KEY:"pk_test_YOUR_ACTUAL_KEY_HERE"},Mn=kt.WORKER_BASE_URL.replace(/\/$/,"");let $m=localStorage.getItem("quickstage_session_token");function Tt(e){$m=e,e?localStorage.setItem("quickstage_session_token",e):localStorage.removeItem("quickstage_session_token")}function Nr(){return $m}const A={async get(e){const t={"Content-Type":"application/json"},r=Nr();r&&(t.Authorization=`Bearer ${r}`),console.log("Making request to:",`${Mn}${e}`),console.log("Headers:",t);const s=await fetch(`${Mn}${e}`,{credentials:"include",headers:t});if(!s.ok)throw console.error("Request failed:",s.status,s.statusText),s.status===401?(console.log("Token invalid, clearing session..."),Tt(null),window.location.href="/login",new Error("Authentication failed - please log in again")):new Error(`API request failed: ${s.status}`);const l=await s.json();return console.log(`API GET ${e} response:`,l),l},async post(e,t){const r={},s=Nr();s&&(r.Authorization=`Bearer ${s}`);let l;t&&(t instanceof FormData?(console.log("API: Sending FormData"),console.log("FormData text:",t.get("text")),console.log("FormData state:",t.get("state")),l=t):(r["Content-Type"]="application/json",l=JSON.stringify(t),console.log("API: Sending JSON data:",l)));const a=`${Mn}${e}`,o=await fetch(a,{method:"POST",credentials:"include",headers:r,body:l});if(!o.ok){let c="";try{c=await o.text()}catch{}throw o.status===401?(console.log("Token invalid, clearing session..."),Tt(null),window.location.href="/login",new Error("Authentication failed - please log in again")):new Error(`API request failed: ${o.status}${c?": "+c:""}`)}return o.json()},async put(e,t){const r={"Content-Type":"application/json"},s=Nr();s&&(r.Authorization=`Bearer ${s}`);const l=await fetch(`${Mn}${e}`,{method:"PUT",credentials:"include",headers:r,body:t?JSON.stringify(t):void 0});if(!l.ok)throw l.status===401?(console.log("Token invalid, clearing session..."),Tt(null),window.location.href="/login",new Error("Authentication failed - please log in again")):new Error(`API request failed: ${l.status}`);return l.json()},async patch(e,t){const r={"Content-Type":"application/json"},s=Nr();s&&(r.Authorization=`Bearer ${s}`);const l=await fetch(`${Mn}${e}`,{method:"PATCH",credentials:"include",headers:r,body:t?JSON.stringify(t):void 0});if(!l.ok)throw l.status===401?(console.log("Token invalid, clearing session..."),Tt(null),window.location.href="/login",new Error("Authentication failed - please log in again")):new Error(`API request failed: ${l.status}`);return l.json()},async delete(e){const t={"Content-Type":"application/json"},r=Nr();r&&(t.Authorization=`Bearer ${r}`);const s=await fetch(`${Mn}${e}`,{method:"DELETE",credentials:"include",headers:t});if(!s.ok)throw s.status===401?(console.log("Token invalid, clearing session..."),Tt(null),window.location.href="/login",new Error("Authentication failed - please log in again")):new Error(`API request failed: ${s.status}`);return s.json()}},Bm={async deleteUser(e){return A.delete(`/admin/users/${e}`)},async deactivateUser(e){return A.post(`/admin/users/${e}/deactivate`)},async activateUser(e){return A.post(`/admin/users/${e}/activate`)},async cleanupCorruptedUsers(){return A.post("/admin/cleanup-corrupted-users")}},Om=p.createContext(void 0);function Ct(){const e=p.useContext(Om);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Xf({children:e}){const[t,r]=p.useState(null),[s,l]=p.useState(!0),[a,o]=p.useState(null),c=async()=>{try{o(null),l(!0);const m=await A.get("/me");m.user?r(m.user):r(null)}catch(m){console.error("Failed to fetch user:",m),r(null)}finally{l(!1)}},i=async m=>{try{o(null),l(!0),await A.post("/auth/dev-login",{uid:m}),await c()}catch(u){const N=u.message||"Login failed";throw o(N),r(null),u}finally{l(!1)}},d=async(m,u)=>{try{o(null),l(!0);const N=await A.post("/auth/login",{email:m,password:u});N.ok&&N.user?(N.sessionToken&&Tt(N.sessionToken),await c()):await c()}catch(N){const w=N.message||"Login failed";throw o(w),r(null),N}finally{l(!1)}},x=async m=>{try{o(null),l(!0);const u=await A.post("/auth/google",{idToken:m});u.ok&&u.user?(u.sessionToken&&Tt(u.sessionToken),await c()):await c()}catch(u){const N=u.message||"Google login failed";throw o(N),r(null),u}finally{l(!1)}},h=async(m,u,N)=>{try{o(null),l(!0);const w=await A.post("/auth/register",{email:m,password:u,name:N});w.ok&&w.user?(w.sessionToken&&Tt(w.sessionToken),await c()):await c()}catch(w){const P=w.message||"Registration failed";throw o(P),r(null),w}finally{l(!1)}},g=async()=>{try{o(null),await A.post("/auth/logout")}catch(m){console.error("Logout error:",m)}finally{Tt(null),r(null),o(null)}},b=async m=>{try{o(null),l(!0),await A.put("/auth/profile",m),await c()}catch(u){const N=u.message||"Profile update failed";throw o(N),u}finally{l(!1)}},y=async(m,u)=>{try{o(null),l(!0),await A.post("/auth/change-password",{currentPassword:m,newPassword:u})}catch(N){const w=N.message||"Password change failed";throw o(w),N}finally{l(!1)}},j=async()=>{try{o(null),l(!0);const m=await A.post("/billing/cancel");return m.ok?(await c(),{ok:!0,message:m.message||"Subscription cancelled successfully."}):{ok:!1,error:m.message||"Failed to cancel subscription."}}catch(m){const u=m.message||"Subscription cancellation failed";return o(u),{ok:!1,error:u}}finally{l(!1)}},k=()=>{o(null)};p.useEffect(()=>{localStorage.getItem("quickstage_session_token")?c():l(!1)},[]);const f={user:t,loading:s,error:a,login:i,loginWithEmailPassword:d,loginWithGoogle:x,registerWithEmailPassword:h,logout:g,refreshUser:c,clearError:k,isAuthenticated:!!t,updateProfile:b,changePassword:y,cancelSubscription:j};return n.jsx(Om.Provider,{value:f,children:e})}function di({className:e=""}){const[t,r]=p.useState([]),[s,l]=p.useState(0),[a,o]=p.useState(!1),[c,i]=p.useState(!1),d=async()=>{try{i(!0);const j=(await A.get("/api/notifications")).notifications||[];r(j),l(j.filter(k=>!k.readAt).length)}catch(y){console.error("Failed to load notifications:",y)}finally{i(!1)}};p.useEffect(()=>{d()},[]);const x=async y=>{try{await A.post(`/api/notifications/${y}/read`),r(j=>j.map(k=>k.id===y?{...k,readAt:Date.now()}:k)),l(j=>Math.max(0,j-1))}catch(j){console.error("Failed to mark notification as read:",j)}},h=async()=>{try{await A.post("/api/notifications/read-all"),r(y=>y.map(j=>({...j,readAt:Date.now()}))),l(0)}catch(y){console.error("Failed to mark all notifications as read:",y)}},g=y=>{y.readAt||x(y.id),y.actionUrl&&(window.location.href=y.actionUrl),o(!1)},b=y=>{const k=Date.now()-y,f=Math.floor(k/(1e3*60)),m=Math.floor(k/(1e3*60*60)),u=Math.floor(k/(1e3*60*60*24));return f<1?"Just now":f<60?`${f}m ago`:m<24?`${m}h ago`:`${u}d ago`};return n.jsxs("div",{className:`relative ${e}`,children:[n.jsxs("button",{onClick:()=>o(!a),className:"relative p-1.5 text-gray-600 hover:text-gray-900 focus:outline-none focus:text-gray-900 transition-colors","aria-label":`Notifications ${s>0?`(${s} unread)`:""}`,children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:n.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})}),s>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:s>99?"99+":s})]}),a&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-96 overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-inconsolata",children:"Notifications"}),s>0&&n.jsx("button",{onClick:h,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Mark all read"})]}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:c?n.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading..."}):t.length===0?n.jsxs("div",{className:"p-6 text-center text-gray-500",children:[n.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})}),n.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):t.map(y=>n.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${y.readAt?"":"bg-blue-50"}`,onClick:()=>g(y),children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${y.type==="comment_reply"?"bg-blue-100":y.type==="comment_new"?"bg-green-100":y.type==="comment_resolved"?"bg-purple-100":"bg-gray-100"}`,children:n.jsx("svg",{className:`w-4 h-4 ${y.type==="comment_reply"?"text-blue-600":y.type==="comment_new"?"text-green-600":y.type==="comment_resolved"?"text-purple-600":"text-gray-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:y.title}),!y.readAt&&n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-2 flex-shrink-0"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:y.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:b(y.createdAt)})]})]})},y.id))}),t.length>0&&n.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:n.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium w-full text-center",children:"View all notifications"})})]})]})]})}function ui({projects:e,selectedProjectId:t,onSelectProject:r,onRefreshProjects:s,user:l,isCollapsed:a=!1,onToggleCollapse:o}){const c=fn(),[i,d]=p.useState(!1),[x,h]=p.useState(""),[g,b]=p.useState("#4F46E5"),[y,j]=p.useState(!1),k=["#4F46E5","#7C3AED","#EC4899","#EF4444","#F59E0B","#10B981","#3B82F6","#6B7280"],f=async()=>{if(x.trim()){j(!0);try{await A.post("/api/projects",{name:x,color:g}),h(""),d(!1),s()}catch(w){console.error("Failed to create project:",w)}finally{j(!1)}}},m=async w=>{if(confirm("Are you sure you want to delete this project? This action cannot be undone."))try{await A.delete(`/api/projects/${w}`),t===w&&r(void 0),s()}catch(P){alert(P.error||"Failed to delete project")}},u=e.filter(w=>!w.isArchived||w.id==="__no_project__"),N=e.filter(w=>w.isArchived&&w.id!=="__no_project__");return n.jsxs("div",{className:`${a?"w-16":"w-64"} bg-white border-r border-gray-200 h-full overflow-y-auto transition-all duration-300 flex flex-col font-poppins`,children:[n.jsx("div",{className:"p-4 flex-1",children:n.jsxs("nav",{className:"space-y-1",children:[n.jsxs("button",{onClick:()=>r(void 0),className:`w-full flex items-center px-3 py-2 rounded-lg transition-colors ${c.pathname==="/dashboard"&&!t?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50 text-gray-700"}`,title:a?"Dashboard":"",children:[n.jsxs("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v0"})]}),!a&&n.jsx("span",{className:"font-medium",children:"Dashboard"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsxs("div",{className:"flex items-center px-3 py-2 rounded-lg transition-colors hover:bg-gray-50 text-gray-700",children:[n.jsx("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),!a&&n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("span",{className:"font-medium",children:"Projects"}),n.jsx("button",{onClick:()=>d(!0),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"New Project",children:n.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]}),i&&!a&&n.jsxs("div",{className:"ml-6 mt-2 mb-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("input",{type:"text",value:x,onChange:w=>h(w.target.value),placeholder:"Project name...",className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-2 text-sm",autoFocus:!0,onKeyPress:w=>w.key==="Enter"&&f()}),n.jsx("div",{className:"flex gap-1 mb-2",children:k.map(w=>n.jsx("button",{onClick:()=>b(w),className:`w-6 h-6 rounded ${g===w?"ring-2 ring-offset-1 ring-gray-400":""}`,style:{backgroundColor:w}},w))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:f,disabled:y||!x.trim(),className:"flex-1 px-3 py-1 bg-indigo-600 text-white rounded-md text-sm hover:bg-indigo-700 disabled:opacity-50",children:"Create"}),n.jsx("button",{onClick:()=>{d(!1),h("")},className:"flex-1 px-3 py-1 bg-gray-200 text-gray-700 rounded-md text-sm hover:bg-gray-300",children:"Cancel"})]})]}),!a&&n.jsx("div",{className:"ml-6 space-y-1",children:u.map(w=>n.jsxs("div",{className:`group relative flex items-center px-3 py-2 rounded-lg cursor-pointer transition-colors ${t===w.id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>r(w.id),title:w.name,children:[w.id==="__no_project__"?n.jsx("svg",{className:"w-3 h-3 mr-2 flex-shrink-0 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}):n.jsx("div",{className:"w-3 h-3 rounded-full mr-2 flex-shrink-0",style:{backgroundColor:w.color||"#6B7280"}}),n.jsx("span",{className:"flex-1 text-sm truncate",children:w.name}),n.jsx("span",{className:"text-xs text-gray-500",children:w.snapshotCount}),w.snapshotCount===0&&w.id!=="__no_project__"&&n.jsx("button",{onClick:P=>{P.stopPropagation(),m(w.id)},className:"ml-2 opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete project",children:n.jsx("svg",{className:"w-4 h-4 text-red-500 hover:text-red-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},w.id))})]}),n.jsxs($e,{to:"/settings",className:`flex items-center px-3 py-2 rounded-lg transition-colors ${c.pathname==="/settings"?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50 text-gray-700"}`,title:a?"Settings":"",children:[n.jsxs("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),!a&&n.jsx("span",{className:"font-medium",children:"Settings"})]}),(l==null?void 0:l.role)==="superadmin"&&n.jsxs($e,{to:"/admin",className:`flex items-center px-3 py-2 rounded-lg transition-colors ${c.pathname==="/admin"?"bg-red-50 text-red-700":"hover:bg-red-50 text-red-600"}`,title:a?"Admin Panel":"",children:[n.jsx("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),!a&&n.jsx("span",{className:"font-medium",children:"Admin"})]})]})}),!a&&N.length>0&&n.jsxs("div",{className:"px-4 pb-4",children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2 mt-4",children:"Archived"}),n.jsx("div",{className:"space-y-1",children:N.map(w=>n.jsxs("div",{className:`flex items-center px-3 py-2 rounded-lg cursor-pointer transition-colors opacity-50 ${t===w.id?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>r(w.id),children:[n.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:w.color||"#6B7280"}}),n.jsx("span",{className:"flex-1 text-gray-600 truncate",children:w.name}),n.jsx("span",{className:"text-xs text-gray-400",children:w.snapshotCount})]},w.id))})]}),o&&n.jsx("div",{className:"mt-auto border-t border-gray-200",children:n.jsx("div",{className:"flex justify-center p-4",children:n.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:a?"Expand sidebar":"Collapse sidebar",children:n.jsx("svg",{className:`w-4 h-4 text-gray-600 transition-transform ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})})})})]})}function Wm({onClose:e,onSubmit:t}){const[r,s]=p.useState([]),[l,a]=p.useState(""),[o,c]=p.useState(""),[i,d]=p.useState(""),[x,h]=p.useState(""),[g,b]=p.useState(null),y=()=>{if(!l.trim()||!o.trim()){b("Please enter both name and email");return}if(r.some(m=>m.userEmail===l)){b("This reviewer is already added");return}const f=`user_${l.replace(/[^a-zA-Z0-9]/g,"_")}`;s([...r,{userId:f,userName:o,userEmail:l}]),a(""),c(""),b(null)},j=f=>{s(r.filter(m=>m.userEmail!==f))},k=f=>{if(f.preventDefault(),r.length===0){b("Please add at least one reviewer");return}const m=i?new Date(i).toISOString():void 0;t({reviewers:r,deadline:m,notes:x.trim()||void 0})};return n.jsxs("div",{children:[n.jsx("div",{className:"mb-4",children:n.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Add Reviewers"})}),n.jsxs("form",{onSubmit:k,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"space-y-2 mb-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{type:"text",placeholder:"Reviewer name",value:o,onChange:f=>c(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("input",{type:"email",placeholder:"reviewer@example.com",value:l,onChange:f=>a(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsx("button",{type:"button",onClick:y,className:"w-full px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Add"})]}),r.length>0&&n.jsx("div",{className:"space-y-2",children:r.map(f=>n.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-md",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:f.userName}),n.jsx("p",{className:"text-sm text-gray-600",children:f.userEmail})]}),n.jsx("button",{type:"button",onClick:()=>j(f.userEmail),className:"text-red-500 hover:text-red-700 p-1 rounded",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},f.userEmail))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deadline (optional)"}),n.jsx("input",{type:"datetime-local",value:i,onChange:f=>d(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (optional)"}),n.jsx("textarea",{value:x,onChange:f=>h(f.target.value),placeholder:"Add any specific instructions or context for reviewers...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),g&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:n.jsx("p",{className:"text-red-600 text-sm",children:g})}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Send Request"})]})]})]})}function Jf({snapshots:e,onRefresh:t,selectedSnapshots:r,onToggleSelect:s,onSelectAll:l}){var Ot;const[a,o]=p.useState("createdAt"),[c,i]=p.useState("desc"),[d,x]=p.useState(""),[h,g]=p.useState(!1),[b,y]=p.useState(new Set),[j,k]=p.useState(new Set),[f,m]=p.useState(new Set),[u,N]=p.useState(null),[w,P]=p.useState(""),[L,S]=p.useState(null),[M,z]=p.useState(null),[G,oe]=p.useState(null),[H,Y]=p.useState(""),[U,le]=p.useState(new Set),[Z,R]=p.useState(new Set),[E,_]=p.useState(null),[D,V]=p.useState(new Set),{user:W}=Ct();qn.useEffect(()=>{(async()=>{if(W)try{const J=(await A.get("/api/subscriptions")).subscriptions||[],F=J.filter(be=>be.isActive&&!be.commentId).map(be=>be.snapshotId),Q=J.filter(be=>!be.isActive&&!be.commentId).map(be=>be.snapshotId);le(new Set([...F,...Q])),R(new Set(Q))}catch(O){console.error("Failed to load user subscriptions:",O)}})()},[W]);const X=C=>{a===C?i(c==="asc"?"desc":"asc"):(o(C),i("asc"))},ne=p.useMemo(()=>{let C=[...e];if(d){const O=d.toLowerCase();C=C.filter(J=>{var F,Q,be,Ne;return((F=J.name)==null?void 0:F.toLowerCase().includes(O))||J.id.toLowerCase().includes(O)||((Q=J.description)==null?void 0:Q.toLowerCase().includes(O))||((be=J.clientName)==null?void 0:be.toLowerCase().includes(O))||((Ne=J.tags)==null?void 0:Ne.some(Ml=>Ml.toLowerCase().includes(O)))})}return h||(C=C.filter(O=>new Date(O.expiresAt)>new Date)),C.sort((O,J)=>{let F,Q;switch(a){case"name":F=O.name||`Snapshot ${O.id.slice(0,8)}`,Q=J.name||`Snapshot ${J.id.slice(0,8)}`;break;case"createdAt":F=new Date(O.createdAt).getTime(),Q=new Date(J.createdAt).getTime();break;case"updatedAt":F=new Date(O.lastModifiedAt||O.updatedAt||O.createdAt).getTime(),Q=new Date(J.lastModifiedAt||J.updatedAt||J.createdAt).getTime();break;case"expiresAt":F=new Date(O.expiresAt).getTime(),Q=new Date(J.expiresAt).getTime();break;case"viewCount":F=O.viewCount||0,Q=J.viewCount||0;break;case"commentCount":F=O.commentCount||0,Q=J.commentCount||0;break;default:return 0}return typeof F=="string"&&typeof Q=="string"?c==="asc"?F.localeCompare(Q):Q.localeCompare(F):c==="asc"?F-Q:Q-F}),C},[e,a,c,d,h]),te=async(C,O,J)=>{const F=`${kt.PUBLIC_BASE_URL}/s/${C}`;try{await navigator.clipboard.writeText(F),y(Q=>new Set(Q).add(C)),S({x:O.clientX,y:O.clientY,text:"URL Copied"}),setTimeout(()=>{y(Q=>{const be=new Set(Q);return be.delete(C),be}),S(null)},2e3)}catch(Q){console.error("Failed to copy:",Q)}},B=async(C,O)=>{try{await A.post(`/api/snapshots/${C}/extend`,{days:7}),k(J=>new Set(J).add(C)),S({x:O.clientX,y:O.clientY,text:"Expiration Extended"}),setTimeout(()=>{k(J=>{const F=new Set(J);return F.delete(C),F}),S(null)},2e3),t()}catch(J){console.error("Failed to extend snapshot:",J)}},ee=async(C,O)=>{const J=`${kt.PUBLIC_BASE_URL}/s/${C}`;if(O)try{await navigator.clipboard.writeText(O),console.log("Password copied to clipboard")}catch(F){console.error("Failed to copy password:",F)}window.open(J,"_blank")},re=async(C,O,J)=>{try{await navigator.clipboard.writeText(O),m(F=>new Set(F).add(C)),S({x:J.clientX,y:J.clientY,text:"Password Copied"}),setTimeout(()=>{m(F=>{const Q=new Set(F);return Q.delete(C),Q}),S(null)},2e3)}catch(F){console.error("Failed to copy password:",F)}},Ee=async C=>{if(w.trim())try{const O=await A.put(`/api/snapshots/${C}`,{password:w});await navigator.clipboard.writeText(w),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Password Copied"}),setTimeout(()=>{S(null)},2e3),N(null),P(""),t()}catch(O){console.error("Failed to change password:",O)}},_e=C=>{q(C)&&(oe(C.id),Y(C.name||`Snapshot ${C.id.slice(0,8)}`))},Et=()=>{oe(null),Y("")},vt=async C=>{if(!H.trim()){Et();return}try{await A.put(`/api/snapshots/${C}`,{name:H.trim()}),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Name updated"}),setTimeout(()=>S(null),2e3),oe(null),Y(""),t()}catch(O){console.error("Failed to rename snapshot:",O),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Failed to update name"}),setTimeout(()=>S(null),2e3)}},_n=(C,O)=>{C.key==="Enter"?vt(O):C.key==="Escape"&&Et()},mr=async C=>{if(!M){console.error("No snapshot ID provided for review request");return}console.log("Requesting review for snapshot:",M);const O=e.find(F=>F.id===M);if(!O){console.error("Snapshot not found in current list:",M),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Snapshot not found"}),setTimeout(()=>S(null),2e3);return}if(new Date(O.expiresAt)<=new Date){console.warn("Attempting to request review on expired snapshot:",M),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Cannot request review on expired snapshot"}),setTimeout(()=>S(null),3e3);return}try{console.log("Verifying snapshot exists on backend:",M),await A.get(`/api/snapshots/${M}`),console.log("Snapshot verification successful")}catch(F){if(console.error("Snapshot verification failed:",F),F.message&&F.message.includes("404")){console.error("Snapshot no longer exists on backend:",M),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Snapshot no longer exists - refreshing list..."}),setTimeout(()=>{S(null),t()},2e3);return}console.warn("Could not verify snapshot existence, proceeding with review request:",F)}try{const F=`/api/snapshots/${M}/reviews`;console.log("Making review request to:",F),console.log("Request data:",{reviewers:C.reviewers,deadline:C.deadline,notes:C.notes}),await A.post(F,{reviewers:C.reviewers,deadline:C.deadline,notes:C.notes}),console.log("Review request successful for snapshot:",M),z(null),t(),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Review Requested"}),setTimeout(()=>{S(null)},2e3)}catch(F){console.error("Failed to request review for snapshot:",M),console.error("Error details:",F),console.error("Error message:",F.message),console.error("Error response:",F.response);let Q="Review Request Failed";F.message&&(F.message.includes("404")?F.message.includes("Snapshot not found")?(console.log("Snapshot not found error detected, refreshing snapshot list"),Q="Snapshot no longer exists - refreshing list...",setTimeout(()=>{console.log("Refreshing snapshot list due to 404 error"),t()},1e3)):Q="API endpoint not found":F.message.includes("401")?Q="Authentication required":F.message.includes("403")?Q="Not authorized - you must own this snapshot to request reviews":F.message.includes("500")&&(Q="Server error")),S({x:window.innerWidth/2,y:window.innerHeight/2,text:Q}),setTimeout(()=>{S(null)},3e3)}},hr=async C=>{if(!W)return;const O=U.has(C),J=Z.has(C);V(F=>new Set(F).add(C));try{O?J?(await A.post(`/api/snapshots/${C}/subscribe`,{}),R(F=>{const Q=new Set(F);return Q.delete(C),Q}),Ye(C,"Resumed")):(await A.post(`/api/snapshots/${C}/unsubscribe`,{}),R(F=>new Set(F).add(C)),Ye(C,"Paused")):(await A.post(`/api/snapshots/${C}/subscribe`,{}),le(F=>new Set(F).add(C)),R(F=>{const Q=new Set(F);return Q.delete(C),Q}),Ye(C,"Followed"))}catch(F){console.error("Follow/unfollow error:",F);const Q=O?J?"resume":"pause":"follow";console.error(F.message||`Failed to ${Q} snapshot`)}finally{V(F=>{const Q=new Set(F);return Q.delete(C),Q})}},Ye=(C,O)=>{_({snapshotId:C,message:O}),setTimeout(()=>{_(null)},2e3)},q=C=>{if(!W)return!1;const O=W.uid||W.id;return O?C.ownerUid?C.ownerUid===O:!0:!1},ie=C=>new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),je=C=>{const O=new Date,F=new Date(C).getTime()-O.getTime();return Math.ceil(F/(1e3*60*60*24))},Rn=C=>C<0?"text-gray-500":C<=1?"text-red-600":C<=3?"text-orange-600":C<=7?"text-yellow-600":"text-green-600",Me=({field:C})=>a!==C?n.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):c==="asc"?n.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):n.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})});return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n.jsx("input",{type:"text",value:d,onChange:C=>x(C.target.value),placeholder:"Search snapshots...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:h,onChange:C=>g(C.target.checked),className:"mr-2 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Show expired"})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[ne.length," of ",e.length," snapshots"]})]})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left",children:n.jsx("input",{type:"checkbox",checked:ne.length>0&&ne.every(C=>r.has(C.id)),onChange:C=>l(C.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>X("name"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Name",n.jsx(Me,{field:"name"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>X("createdAt"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Created",n.jsx(Me,{field:"createdAt"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>X("expiresAt"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Expires",n.jsx(Me,{field:"expiresAt"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>X("viewCount"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Views",n.jsx(Me,{field:"viewCount"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Review"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ne.map(C=>{var Q,be;const O=je(C.expiresAt),J=Rn(O),F=O<0;return n.jsxs("tr",{className:`hover:bg-gray-50 ${F?"opacity-60":""}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:r.has(C.id),onChange:()=>s(C.id),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[G===C.id?n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("input",{type:"text",value:H,onChange:Ne=>Y(Ne.target.value),onKeyDown:Ne=>_n(Ne,C.id),onBlur:()=>vt(C.id),className:"text-sm font-medium text-gray-900 bg-transparent border-b border-indigo-500 focus:outline-none focus:border-indigo-700",autoFocus:!0})}):n.jsxs("div",{children:[n.jsx("div",{className:`text-sm font-medium text-gray-900 ${q(C)?"cursor-pointer hover:text-indigo-600":""}`,onClick:()=>_e(C),title:q(C)?"Click to rename":"",children:C.name||`Snapshot ${C.id.slice(0,8)}`}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["ID: ",C.id]})]}),C.tags&&C.tags.length>0&&n.jsx("div",{className:"flex gap-1 mt-1",children:C.tags.map(Ne=>n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:Ne},Ne))})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie(C.createdAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:`text-sm ${J}`,children:F?"Expired":`${O} days`})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900 cursor-default",title:"Views - Unique Viewers",children:[C.viewCount||0," - ",C.uniqueViewers||0]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(Q=C.review)!=null&&Q.isRequested?n.jsx("div",{className:"flex items-center gap-1",children:n.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${C.review.status==="completed"?"bg-green-100 text-green-800":C.review.status==="overdue"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[C.review.checkedOffCount,"/",C.review.totalReviewers]})}):n.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>ee(C.id,C.password),className:"text-indigo-600 hover:text-indigo-900",title:"View snapshot",children:n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),n.jsx("button",{onClick:Ne=>te(C.id,Ne,C.password),className:"text-gray-600 hover:text-gray-900",title:"Copy URL",children:b.has(C.id)?n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),!F&&O<=7&&n.jsx("button",{onClick:Ne=>B(C.id,Ne),className:"text-orange-600 hover:text-orange-900",title:"Extend expiration by 7 days",children:j.has(C.id)?n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),C.password&&n.jsx("button",{onClick:Ne=>re(C.id,C.password,Ne),className:"text-gray-600 hover:text-gray-900",title:"Copy password",children:f.has(C.id)?n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),q(C)&&!((be=C.review)!=null&&be.isRequested)&&n.jsx("button",{onClick:()=>z(C.id),className:"text-purple-600 hover:text-purple-900",title:"Request review",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),n.jsx("button",{onClick:()=>N(C.id),className:"text-blue-600 hover:text-blue-900",title:"Change password",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),n.jsx("button",{onClick:()=>hr(C.id),disabled:D.has(C.id),className:`${U.has(C.id)?Z.has(C.id)?"text-yellow-600 hover:text-yellow-900":"text-green-600 hover:text-green-900":"text-gray-600 hover:text-gray-900"} ${D.has(C.id)?"opacity-50 cursor-not-allowed":""}`,title:U.has(C.id)?Z.has(C.id)?"Resume notifications (currently paused)":"Unfollow notifications (currently active)":"Follow notifications",children:D.has(C.id)?n.jsx("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):U.has(C.id)?Z.has(C.id)?n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})})]},C.id)})})]})}),ne.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 font-inconsolata",children:"No snapshots found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:d?"Try adjusting your search":"Get started by creating a new snapshot"})]}),L&&n.jsx("div",{className:"fixed z-50 bg-black text-white px-2 py-1 rounded text-sm pointer-events-none",style:{left:L.x+10,top:L.y-30},children:L.text}),E&&n.jsx("div",{className:"fixed top-4 right-4 z-50 bg-green-100 border border-green-200 text-green-800 px-4 py-2 rounded-lg shadow-lg",children:E.message}),u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4 font-inconsolata",children:"Change Password"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),n.jsx("div",{className:"p-3 bg-gray-100 rounded border text-sm text-gray-800 font-mono",children:((Ot=e.find(C=>C.id===u))==null?void 0:Ot.password)||"No password set"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),n.jsx("input",{type:"text",id:"newPassword",value:w,onChange:C=>P(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter new password",autoFocus:!0})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>{N(null),P("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg",children:"Cancel"}),n.jsx("button",{onClick:()=>Ee(u),disabled:!w.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-lg",children:"Set new password"})]})]})}),M&&n.jsx(Wm,{onClose:()=>z(null),onSubmit:mr})]})}function Zf({snapshots:e,onExtend:t}){const r=e.filter(i=>new Date(i.expiresAt)>new Date),s=r.filter(i=>{const d=Math.ceil((new Date(i.expiresAt).getTime()-Date.now())/864e5);return d<=3&&d>0}),l=e.filter(i=>{var d;return((d=i.review)==null?void 0:d.isRequested)&&i.review.status==="pending"}),a=e.filter(i=>{var d;return((d=i.review)==null?void 0:d.isRequested)&&i.review.status==="overdue"}),o=[...e].filter(i=>i.viewCount>0).sort((i,d)=>(d.viewCount||0)-(i.viewCount||0)).slice(0,5),c=[...e].filter(i=>{var d;return((d=i.analytics)==null?void 0:d.recentViewers)&&i.analytics.recentViewers.length>0}).slice(0,5);return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Review Status"}),n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})]}),n.jsxs("div",{className:"space-y-2",children:[l.length>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Pending Reviews"}),n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:l.length})]}),a.length>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Overdue Reviews"}),n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:a.length})]}),l.length===0&&a.length===0&&n.jsx("p",{className:"text-sm text-gray-500",children:"No pending reviews"}),(l.length>0||a.length>0)&&n.jsx("div",{className:"pt-2 mt-2 border-t border-gray-100",children:[...a,...l].slice(0,3).map(i=>n.jsx($e,{to:`/viewer/${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"block py-1 text-sm text-indigo-600 hover:text-indigo-800 truncate",children:i.name||`Snapshot ${i.id.slice(0,8)}`},i.id))})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Expiring Soon"}),n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),s.length>0?n.jsx("div",{className:"space-y-2",children:s.slice(0,5).map(i=>{const d=Math.ceil((new Date(i.expiresAt).getTime()-Date.now())/864e5);return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx($e,{to:`/viewer/${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-700 hover:text-indigo-600 truncate flex-1 mr-2",children:i.name||`Snapshot ${i.id.slice(0,8)}`}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:`text-xs font-medium ${d<=1?"text-red-600":"text-orange-600"}`,children:[d," day",d!==1?"s":""]}),i.viewCount>0&&n.jsx("button",{onClick:()=>t(i.id),className:"text-xs text-indigo-600 hover:text-indigo-800",children:"Extend"})]})]},i.id)})}):n.jsx("p",{className:"text-sm text-gray-500",children:"No snapshots expiring soon"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Most Viewed"}),n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})]}),o.length>0?n.jsx("div",{className:"space-y-2",children:o.map(i=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx($e,{to:`/viewer/${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-700 hover:text-indigo-600 truncate flex-1 mr-2",children:i.name||`Snapshot ${i.id.slice(0,8)}`}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),n.jsx("span",{className:"text-xs text-gray-600",children:i.viewCount})]})]},i.id))}):n.jsx("p",{className:"text-sm text-gray-500",children:"No views yet"})]}),n.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl shadow-sm p-4 text-white",children:[n.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Quick Stats"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:r.length}),n.jsx("p",{className:"text-xs opacity-90",children:"Active Snapshots"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:e.reduce((i,d)=>i+(d.viewCount||0),0)}),n.jsx("p",{className:"text-xs opacity-90",children:"Total Views"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:e.reduce((i,d)=>i+(d.commentCount||0),0)}),n.jsx("p",{className:"text-xs opacity-90",children:"Comments"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:e.filter(i=>{var d;return(d=i.review)==null?void 0:d.isRequested}).length}),n.jsx("p",{className:"text-xs opacity-90",children:"Reviews"})]})]})]}),c.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 md:col-span-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Recent Activity"}),n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),n.jsx("div",{className:"space-y-2",children:c.map(i=>{var d,x,h,g;return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx($e,{to:`/viewer/${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-700 hover:text-indigo-600 truncate flex-1 mr-2",children:i.name||`Snapshot ${i.id.slice(0,8)}`}),n.jsxs("span",{className:"text-xs text-gray-500",children:[(x=(d=i.analytics)==null?void 0:d.recentViewers)==null?void 0:x.length," recent viewer",((g=(h=i.analytics)==null?void 0:h.recentViewers)==null?void 0:g.length)!==1?"s":""]})]},i.id)})})]})]})}function ex({selectedSnapshots:e,projects:t,snapshots:r,onClearSelection:s,onRefresh:l}){const[a,o]=p.useState(!1),[c,i]=p.useState(!1),[d,x]=p.useState(!1),[h,g]=p.useState(""),[b,y]=p.useState("");if(e.size===0)return null;const j=e.size===1?r.find(w=>e.has(w.id)):null,k=async()=>{o(!0);try{const w=Array.from(e).map(P=>A.post(`/api/snapshots/${P}/extend`,{days:7}));await Promise.all(w),l(),s()}catch(w){console.error("Failed to extend snapshots:",w),alert("Some snapshots could not be extended")}finally{o(!1)}},f=async()=>{if(h){o(!0);try{const P=(await Promise.allSettled(Array.from(e).map(L=>A.put(`/api/snapshots/${L}`,{projectId:h==="__no_project__"?null:h})))).filter(L=>L.status==="rejected");P.length>0&&(console.error("Failed to move some snapshots:",P),alert(`${P.length} snapshot(s) could not be moved. They may have been deleted or you may not have permission.`)),l(),s(),i(!1)}catch(w){console.error("Failed to move snapshots:",w),alert("Failed to move snapshots")}finally{o(!1)}}},m=async()=>{const w=e.size;if(confirm(`Are you sure you want to delete ${w} snapshot${w!==1?"s":""}? This action cannot be undone.`)){o(!0);try{const P=Array.from(e).map(L=>A.delete(`/api/snapshots/${L}`));await Promise.all(P),l(),s()}catch(P){console.error("Failed to delete snapshots:",P),alert("Some snapshots could not be deleted")}finally{o(!1)}}},u=async()=>{if(!(!j||!b.trim())){o(!0);try{await A.put(`/api/snapshots/${j.id}`,{name:b.trim()}),l(),s(),x(!1),y("")}catch(w){console.error("Failed to rename snapshot:",w),alert("Failed to rename snapshot")}finally{o(!1)}}},N=()=>{j&&(y(j.name||""),x(!0))};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-sm text-gray-700",children:[e.size," snapshot",e.size!==1?"s":""," selected"]}),n.jsxs("div",{className:"flex gap-2",children:[e.size===1&&n.jsx("button",{onClick:N,disabled:a,className:"px-3 py-1 text-sm bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:"Rename"}),n.jsx("button",{onClick:()=>i(!0),disabled:a,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Move to Project"}),n.jsx("button",{onClick:k,disabled:a,className:"px-3 py-1 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:"Extend Expiry"}),n.jsx("button",{onClick:m,disabled:a,className:"px-3 py-1 text-sm bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:"Delete"}),n.jsx("button",{onClick:s,className:"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"})]})]}),a&&n.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-600",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Processing..."]})]})}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Move to Project"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Move ",e.size," snapshot",e.size!==1?"s":""," to:"]}),n.jsxs("select",{value:h,onChange:w=>g(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 mb-4",children:[n.jsx("option",{value:"",children:"Select project..."}),n.jsx("option",{value:"__no_project__",children:"No Project"}),t.filter(w=>!w.isArchived).map(w=>n.jsx("option",{value:w.id,children:w.name},w.id))]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:f,disabled:!h||a,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:a?"Moving...":"Move"}),n.jsx("button",{onClick:()=>{i(!1),g("")},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"})]})]})}),d&&j&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rename Snapshot"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:['Enter a new name for "',j.name,'":']}),n.jsx("input",{type:"text",value:b,onChange:w=>y(w.target.value),onKeyDown:w=>{w.key==="Enter"&&b.trim()?u():w.key==="Escape"&&(x(!1),y(""))},placeholder:"Snapshot name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 mb-4",autoFocus:!0}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:u,disabled:!b.trim()||a,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:a?"Renaming...":"Rename"}),n.jsx("button",{onClick:()=>{x(!1),y("")},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"})]})]})})]})}function Vm({snapshots:e,projects:t,onRefresh:r,onExtendSnapshot:s,selectedProjectId:l,onSelectProject:a,showWidgets:o=!0,showExtensionSection:c=!1,user:i,title:d="Dashboard",subtitle:x}){var f;const[h,g]=p.useState(new Set),b=l?e.filter(m=>m.projectId===l):e,y=m=>{const u=new Set(h);u.has(m)?u.delete(m):u.add(m),g(u)},j=m=>{g(m?new Set(b.map(u=>u.id)):new Set)},k=()=>{g(new Set)};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 font-inconsolata",children:l?((f=t.find(m=>m.id===l))==null?void 0:f.name)||"Project":d}),x&&n.jsx("p",{className:"text-gray-600",children:x})]})}),!l&&o&&n.jsx(Zf,{snapshots:e,onExtend:s}),n.jsx(Jf,{snapshots:b,onRefresh:r,selectedSnapshots:h,onToggleSelect:y,onSelectAll:j}),n.jsx(ex,{selectedSnapshots:h,snapshots:b,projects:t,onClearSelection:k,onRefresh:r})]})}function tx(){St();const[e,t]=Kf(),{user:r,logout:s,refreshUser:l}=Ct(),[a,o]=p.useState([]),[c,i]=p.useState([]),[d,x]=p.useState(),[h,g]=p.useState(!0),[b,y]=p.useState(""),[j,k]=p.useState(""),[f,m]=p.useState(""),[u,N]=p.useState(!1),[w,P]=p.useState(!1),[L,S]=p.useState(!1),[M,z]=p.useState(!1),[G,oe]=p.useState(!1),[H,Y]=p.useState(!1),[U,le]=p.useState(""),[Z,R]=p.useState([]),[E,_]=p.useState(!1),[D,V]=p.useState(""),[W,X]=p.useState(""),[ne,te]=p.useState(!1);p.useEffect(()=>{const q=e.get("trial"),ie=e.get("billing"),je=e.get("success");(q==="started"||ie==="success"||je==="true")&&(console.log("Post-checkout detected, refreshing user data..."),l==null||l(),t({}),q==="started"?k("Welcome to your Pro trial! You now have access to all Pro features."):(ie==="success"||je==="true")&&k("Subscription activated! You now have full access to Pro features."),setTimeout(()=>k(""),5e3))},[e,l,t]),p.useEffect(()=>{B(),ee()},[]),p.useEffect(()=>{(async()=>{try{await A.post("/analytics/track",{eventType:"page_view",eventData:{page:"Dashboard"}})}catch(ie){console.error("Failed to track page view:",ie)}})()},[]);const B=async()=>{g(!0);try{const[q,ie]=await Promise.all([A.get("/api/snapshots/list"),A.get("/api/projects")]);i(q.snapshots||[]),o(ie.projects||[])}catch(q){y("Failed to load data"),console.error(q)}finally{g(!1)}},ee=async()=>{const q=localStorage.getItem("quickstage-downloaded-version");q&&X(q);try{const ie=await fetch(kt.VERSION_INFO_URL);if(ie.ok){const je=await ie.json();V(je.version),W&&W!==je.version&&te(!0)}}catch(ie){console.error("Failed to check for updates:",ie)}},re=async q=>{try{await A.post(`/api/snapshots/${q}/extend`),B(),Ee("Snapshot extended successfully")}catch{_e("Failed to extend snapshot")}},Ee=q=>{k(q),setTimeout(()=>k(""),3e3)},_e=q=>{m(q),setTimeout(()=>m(""),3e3)},Et=()=>{const q=`${window.location.origin}${kt.EXTENSION_DOWNLOAD_URL}`,ie=`${window.location.origin}${kt.API_BASE_URL}/extensions/download`;vt(q,ie),setTimeout(()=>{z(!0)},1e3)},vt=async(q,ie)=>{try{const je=await fetch(q,{method:"HEAD"});let Rn=q;!je.ok&&ie&&(console.warn("Primary download URL failed, using backup"),(await fetch(ie,{method:"HEAD"})).ok&&(Rn=ie));const Me=document.createElement("a");if(Me.href=Rn,Me.download=`quickstage-${D}.vsix`,document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),D){localStorage.setItem("quickstage-downloaded-version",D),X(D),te(!1);const Ot=W&&W!==D,C=Ot?"extension_upgraded":"extension_downloaded";try{await A.post("/analytics/track",{eventType:C,eventData:{page:"/dashboard",version:D,previousVersion:W||null,isUpgrade:Ot}})}catch(O){console.error("Failed to track extension download:",O)}}}catch(je){console.error("Download failed:",je)}},_n=async()=>{try{const q=await A.get("/tokens/list");R(q.pats||[]),Y(!0)}catch(q){console.error("Failed to load PATs:",q),Y(!0)}},mr=async()=>{_(!0);try{const q=await A.post("/tokens/create",{});le(q.token);const ie=await A.get("/tokens/list");R(ie.pats||[])}catch(q){console.error("Failed to generate PAT:",q)}finally{_(!1)}},hr=async q=>{try{await A.delete(`/tokens/${q}`);const ie=await A.get("/tokens/list");R(ie.pats||[])}catch(ie){console.error("Failed to revoke PAT:",ie)}},Ye=async q=>{try{await navigator.clipboard.writeText(q)}catch(ie){console.error("Failed to copy to clipboard:",ie)}};return r?n.jsxs("div",{className:"min-h-screen bg-gray-50 font-poppins",children:[n.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx($e,{to:"/dashboard",className:"flex items-center",children:n.jsx("span",{className:"text-xl font-share-tech-mono font-bold text-gray-900",children:"QuickStage"})}),n.jsx("button",{onClick:()=>S(!L),className:"ml-4 p-2 rounded-md text-gray-600 hover:bg-gray-100 lg:hidden",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(di,{}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-sm text-gray-700",children:r.name}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:r.subscriptionDisplay||"Free"}),n.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-500",title:"Sign out",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})}),(j||f)&&n.jsx("div",{className:"fixed top-4 right-4 z-50",children:n.jsx("div",{className:`p-4 rounded-md ${j?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:j||f})}),n.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[n.jsx("div",{className:`${L?"hidden":"block"} lg:block flex-shrink-0`,children:n.jsx(ui,{projects:a,selectedProjectId:d,onSelectProject:x,onRefreshProjects:B,user:r,isCollapsed:!1,onToggleCollapse:()=>{}})}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:h?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):b?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-red-600 mb-4",children:b}),n.jsx("button",{onClick:B,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):n.jsxs(n.Fragment,{children:[!d&&n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-inconsolata",children:"QuickStage Extension"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Download the VS Code/Cursor extension to start staging your projects"})]}),n.jsx("div",{className:"flex items-center space-x-3",children:r!=null&&r.canAccessPro?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:Et,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg",children:"Download Extension"}),n.jsx("button",{onClick:()=>z(!0),className:"bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-2 px-4 rounded-lg",children:"Instructions"}),n.jsx("button",{onClick:()=>oe(!0),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg",children:"AI Assistant"}),n.jsx("button",{onClick:_n,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg",children:"Tokens"})]}):n.jsx("button",{disabled:!0,className:"bg-gray-400 text-white font-medium py-2 px-4 rounded-lg cursor-not-allowed",children:"Go Pro to Download"})})]}),D&&n.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[n.jsxs("span",{children:["Current version: ",D]}),ne&&n.jsx("span",{className:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs",children:"Update Available"})]})]})}),n.jsx(Vm,{snapshots:c,projects:a,onRefresh:B,onExtendSnapshot:re,selectedProjectId:d,onSelectProject:x,showWidgets:!d,showExtensionSection:!1,user:r,title:"Dashboard"})]})})})]}),M&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 font-inconsolata",children:"Installation Instructions"}),n.jsx("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Step 1: Install the Extension"}),n.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-sm text-gray-700",children:[n.jsx("li",{children:"Open VS Code or Cursor"}),n.jsx("li",{children:"Press Ctrl+Shift+P (Windows/Linux) or Cmd+Shift+P (Mac)"}),n.jsx("li",{children:'Type "Extensions: Install from VSIX..." and press Enter'}),n.jsxs("li",{children:["Select the downloaded quickstage-",D,".vsix file"]}),n.jsx("li",{children:'Click "Install" when prompted'})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Step 2: Configure Token"}),n.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-sm text-gray-700",children:[n.jsx("li",{children:'Generate a Personal Access Token using the "Tokens" button'}),n.jsx("li",{children:"Copy the generated token (starts with qs_pat_)"}),n.jsx("li",{children:'In VS Code/Cursor, run "QuickStage: Set Token"'}),n.jsx("li",{children:"Paste your token when prompted"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Step 3: Start Staging"}),n.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-sm text-gray-700",children:[n.jsx("li",{children:"Open your project folder"}),n.jsx("li",{children:'Run "QuickStage: Stage" from the command palette'}),n.jsx("li",{children:"Your project will be built and deployed automatically"})]})]})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:()=>z(!1),className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg",children:"Got it!"})})]})})}),G&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 font-inconsolata",children:"AI Assistant Instructions"}),n.jsx("button",{onClick:()=>oe(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"🎯 How to Use This"}),n.jsx("p",{className:"text-sm text-purple-800",children:"Copy the instructions below and paste them into your AI assistant (ChatGPT, Claude, or Cursor's AI). This gives the AI perfect context to help you build interactive prototypes."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Copy-Paste Instructions"}),n.jsx("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg text-sm",children:n.jsx("div",{className:"whitespace-pre-line",children:`I want to build and deploy an interactive prototype using QuickStage. Here's what I need:

Project Goal: [DESCRIBE YOUR PROTOTYPE]
Target Users: [WHO will use this prototype]
Key Features: [LIST main interactive elements]
Design Preferences: [MENTION design style/framework preferences]

Technical Requirements:
• Web-based prototype that can be built and deployed
• Modern web technologies (React, Vue, Svelte, or vanilla HTML/CSS/JS)
• Build script in package.json for QuickStage compatibility
• Lightweight and fast-loading
• Modern browser compatibility

QuickStage Integration:
• Generate static files that can be served from CDN
• Compatible with QuickStage's build and deployment process
• Include all necessary assets in build output

Expected Output:
• Complete, working web application
• Clear build instructions
• All source code and assets
• Instructions for testing locally

Please create this step by step, ensuring it's production-ready and can be easily built and deployed.`})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("button",{onClick:()=>Ye(`I want to build and deploy an interactive prototype using QuickStage. Here's what I need:

Project Goal: [DESCRIBE YOUR PROTOTYPE]
Target Users: [WHO will use this prototype]
Key Features: [LIST main interactive elements]
Design Preferences: [MENTION design style/framework preferences]

Technical Requirements:
• Web-based prototype that can be built and deployed
• Modern web technologies (React, Vue, Svelte, or vanilla HTML/CSS/JS)
• Build script in package.json for QuickStage compatibility
• Lightweight and fast-loading
• Modern browser compatibility

QuickStage Integration:
• Generate static files that can be served from CDN
• Compatible with QuickStage's build and deployment process
• Include all necessary assets in build output

Expected Output:
• Complete, working web application
• Clear build instructions
• All source code and assets
• Instructions for testing locally

Please create this step by step, ensuring it's production-ready and can be easily built and deployed.`),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg",children:"Copy Instructions"}),n.jsx("button",{onClick:()=>oe(!1),className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg",children:"Got it!"})]})]})]})})}),H&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 font-inconsolata",children:"Personal Access Tokens"}),n.jsx("button",{onClick:()=>{Y(!1),le("")},className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"🔑 How to Use PATs"}),n.jsx("p",{className:"text-sm text-blue-800",children:"Generate a Personal Access Token and use it in your VS Code/Cursor extension. This authenticates your extension with QuickStage permanently."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Generate New Token"}),n.jsx("button",{onClick:mr,disabled:E,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg",children:E?"Generating...":"Generate New Token"})]}),U&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"New Token Generated"}),n.jsx("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-sm break-all",children:U}),n.jsx("p",{className:"text-sm text-red-600 mt-2",children:"⚠️ Copy this token now! It won't be shown again."}),n.jsx("button",{onClick:()=>Ye(U),className:"mt-2 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg",children:"Copy Token"})]}),Z.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Existing Tokens"}),n.jsx("div",{className:"space-y-3",children:Z.map(q=>n.jsx("div",{className:"border rounded-lg p-3 bg-gray-50",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:q.description}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(q.createdAt).toLocaleDateString()]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Expires: ",new Date(q.expiresAt).toLocaleDateString()]}),q.lastUsed&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Last used: ",new Date(q.lastUsed).toLocaleDateString()]})]}),n.jsx("button",{onClick:()=>hr(q.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Revoke"})]})},q.id))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>{Y(!1),le("")},className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg",children:"Close"})})]})]})})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})}function Hm(){const e=St(),[t,r]=p.useState([]),[s,l]=p.useState(),[a,o]=p.useState(!1),c=async()=>{try{const x=await A.get("/api/projects");r(x.projects||[])}catch(x){console.error("Failed to load projects:",x)}},i=x=>{l(x),e("/dashboard")},d=()=>{o(!a)};return p.useEffect(()=>{c()},[]),{projects:t,selectedProjectId:s,isSidebarCollapsed:a,loadProjects:c,handleSelectProject:i,handleToggleSidebar:d,setSelectedProjectId:l}}function nx({className:e=""}){const[t,r]=p.useState([]),[s,l]=p.useState(!0),[a,o]=p.useState(null),c=async()=>{try{l(!0),o(null);const h=await A.get("/api/subscriptions");r(h.subscriptions||[])}catch(h){console.error("Failed to load subscriptions:",h),o("Failed to load subscriptions")}finally{l(!1)}};p.useEffect(()=>{c()},[]);const i=async h=>{try{await A.delete(`/api/subscriptions/${h}`),r(g=>g.filter(b=>b.id!==h));try{await A.post("/analytics/track",{eventType:"comment_subscription_removed",eventData:{subscriptionId:h,method:"settings_page"}})}catch(g){console.error("Failed to track unsubscription analytics:",g)}}catch(g){console.error("Failed to unsubscribe:",g),alert("Failed to unsubscribe. Please try again.")}},d=async(h,g)=>{try{await A.patch(`/api/subscriptions/${h}`,{isActive:!g}),r(b=>b.map(y=>y.id===h?{...y,isActive:!g}:y));try{await A.post("/analytics/track",{eventType:g?"comment_subscription_paused":"comment_subscription_activated",eventData:{subscriptionId:h,method:"settings_page",newState:g?"paused":"active"}})}catch(b){console.error("Failed to track subscription toggle analytics:",b)}}catch(b){console.error("Failed to toggle subscription:",b),alert("Failed to update subscription. Please try again.")}},x=h=>new Date(h).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return s?n.jsx("div",{className:`bg-white rounded-lg shadow p-6 ${e}`,children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((h,g)=>n.jsx("div",{className:"h-16 bg-gray-100 rounded"},g))})]})}):a?n.jsx("div",{className:`bg-white rounded-lg shadow p-6 ${e}`,children:n.jsxs("div",{className:"text-center py-8",children:[n.jsx("svg",{className:"w-12 h-12 mx-auto text-red-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),n.jsx("p",{className:"text-red-600 font-medium",children:a}),n.jsx("button",{onClick:c,className:"mt-4 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:"Try Again"})]})}):n.jsxs("div",{className:`bg-white rounded-lg shadow ${e}`,children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Comment Subscriptions"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your subscriptions to comment threads and snapshots"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("span",{className:"text-sm text-gray-500",children:[t.length," subscription",t.length!==1?"s":""]})})]})}),n.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?n.jsxs("div",{className:"px-6 py-12 text-center",children:[n.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-3.405-3.405A9.048 9.048 0 0118 9a9 9 0 10-18 0 9.048 9.048 0 001.405 4.595L2 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No subscriptions yet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"You're not following any comment conversations. Start a conversation or follow existing ones to get notifications."}),n.jsx($e,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Snapshots"})]}):t.map(h=>n.jsx("div",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:h.snapshotName||`Snapshot ${h.snapshotId}`}),n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${h.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:h.isActive?"Active":"Paused"})]}),h.commentPreview&&n.jsxs("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:['"',h.commentPreview,'"']}),n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[n.jsxs("span",{children:["Subscribed ",x(h.createdAt)]}),h.lastNotified&&n.jsxs("span",{children:["Last notification ",x(h.lastNotified)]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[n.jsx("button",{onClick:()=>d(h.id,h.isActive),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${h.isActive?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,title:h.isActive?"Pause notifications":"Resume notifications",children:h.isActive?"Pause":"Resume"}),n.jsx($e,{to:`/viewer/${h.snapshotId}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 text-xs font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 rounded-md transition-colors",title:"View snapshot",children:"View"}),n.jsx("button",{onClick:()=>i(h.id),className:"px-3 py-1.5 text-xs font-medium text-red-700 bg-red-100 hover:bg-red-200 rounded-md transition-colors",title:"Unsubscribe from this conversation",children:"Unsubscribe"})]})]})},h.id))}),t.length>0&&n.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200 rounded-b-lg",children:n.jsx("p",{className:"text-xs text-gray-600",children:"You'll receive email notifications when new comments are added to conversations you're following. You can pause or unsubscribe from individual conversations at any time."})})]})}function rx(){var M,z,G,oe,H,Y,U,le,Z,R;const e=St(),{user:t,logout:r,loading:s,cancelSubscription:l}=Ct(),[a,o]=p.useState(!1),[c,i]=p.useState(null),[d,x]=p.useState(null),[h,g]=p.useState(!1),{projects:b,selectedProjectId:y,handleSelectProject:j,loadProjects:k,isSidebarCollapsed:f,handleToggleSidebar:m}=Hm();p.useEffect(()=>{console.log("Settings - Current user object:",t),console.log("Settings - User subscription details:",{plan:t==null?void 0:t.plan,subscriptionStatus:t==null?void 0:t.subscriptionStatus,subscriptionDisplay:t==null?void 0:t.subscriptionDisplay,canAccessPro:t==null?void 0:t.canAccessPro,role:t==null?void 0:t.role})},[t]),p.useEffect(()=>{(async()=>{try{await A.post("/analytics/track",{eventType:"page_view",eventData:{page:"Settings"}})}catch(_){console.error("Failed to track page view:",_)}})()},[]);const u=()=>{var _;const E=(((_=t==null?void 0:t.subscription)==null?void 0:_.status)||(t==null?void 0:t.subscriptionStatus))==="trial"?"upgrade":"trial";e(`/pricing?mode=${E}`)},N=async()=>{try{i(null);const E=await A.post("/billing/portal");E.url?window.location.href=E.url:i("No billing portal URL received")}catch(E){console.error("Billing portal error:",E),i("Failed to open billing portal")}},w=async()=>{try{i(null);const E=await A.post("/billing/change-payment");E.url?window.location.href=E.url:i("No payment update URL received")}catch(E){console.error("Payment method update error:",E),i("Failed to update payment method")}},P=async()=>{if(confirm("Are you sure you want to cancel your Pro subscription? You will retain access until the end of your current billing period."))try{i(null);const E=await l();E.ok?(x(E.message||"Subscription cancelled successfully"),setTimeout(()=>x(null),5e3)):i(E.error||"Failed to cancel subscription")}catch(E){console.error("Cancel subscription error:",E),i("Failed to cancel subscription")}},L=()=>{r()},S=async()=>{if(!confirm(`⚠️  DANGER: Are you absolutely sure you want to PERMANENTLY DELETE your account "${(t==null?void 0:t.name)||(t==null?void 0:t.email)}"?

This will:
• Remove all your data from the system
• Delete all your snapshots
• Delete all your PATs
• Delete all your comments
• This action CANNOT be undone!

Type "DELETE" to confirm:`))return;if(prompt('Type "DELETE" to confirm permanent deletion:')!=="DELETE"){alert("Deletion cancelled. Your data is safe.");return}try{i(null),await Bm.deleteUser(t.uid),x("Your account has been completely deleted from the system. You will be redirected to the login page."),setTimeout(()=>{r(),window.location.href="/login"},3e3)}catch(_){i(_.message||"Failed to delete account")}};return s?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading settings..."})]})}):t?n.jsxs("div",{className:"min-h-screen bg-gray-50 font-poppins",children:[n.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx($e,{to:"/dashboard",className:"flex items-center",children:n.jsx("span",{className:"text-xl font-share-tech-mono font-bold text-gray-900",children:"QuickStage"})}),n.jsx("button",{onClick:()=>g(!h),className:"ml-4 p-2 rounded-md text-gray-600 hover:bg-gray-100 lg:hidden",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(di,{}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-sm text-gray-700",children:t.name}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.subscriptionDisplay||"Free"}),n.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-500",title:"Sign out",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})}),n.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[n.jsx("div",{className:`${h?"block":"hidden"} lg:block flex-shrink-0`,children:n.jsx(ui,{projects:b,selectedProjectId:y,onSelectProject:j,onRefreshProjects:k,user:t,isCollapsed:f,onToggleCollapse:m})}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"max-w-4xl mx-auto py-4 sm:py-6 px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-6 sm:mb-8",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 font-inconsolata",children:"Account Settings"}),n.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600",children:"Manage your account, plan, and preferences."})]}),c&&n.jsx("div",{className:"px-4 sm:px-0 mb-6",children:n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c})}),d&&n.jsx("div",{className:"px-4 sm:px-0 mb-4",children:n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-green-800",children:d})})]})})}),n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 sm:p-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center mb-4 sm:mb-6 space-y-3 sm:space-y-0",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mr-0 sm:mr-4 flex-shrink-0",children:n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 font-inconsolata",children:"Account Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),n.jsx("div",{className:"bg-gray-50 rounded-lg px-4 py-3",children:n.jsx("p",{className:"text-gray-900",children:t.name||"Not provided"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),n.jsx("div",{className:"bg-gray-50 rounded-lg px-4 py-3",children:n.jsx("p",{className:"text-gray-900",children:t.email})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User ID"}),n.jsx("div",{className:"bg-gray-50 rounded-lg px-4 py-3",children:n.jsx("p",{className:"text-gray-900",children:t.uid})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Staging Since"}),n.jsx("div",{className:"bg-gray-50 rounded-lg px-4 py-3",children:n.jsx("p",{className:"text-gray-900",children:new Date(t.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Plan"}),n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg px-4 py-3 border border-blue-100",children:n.jsx("p",{className:"text-blue-900 font-semibold",children:t.subscriptionDisplay||"Free"})})]}),((((M=t.subscription)==null?void 0:M.status)||t.subscriptionStatus)==="active"||(((z=t.subscription)==null?void 0:z.status)||t.subscriptionStatus)==="trial")&&t.nextBillingDate&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Next Billing"}),n.jsxs("div",{className:"bg-green-50 rounded-lg px-4 py-3 border border-green-100",children:[n.jsx("p",{className:"text-green-900 font-medium",children:new Date(t.nextBillingDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),t.nextBillingAmount!==null&&t.nextBillingAmount!==void 0&&n.jsxs("p",{className:"text-green-700 text-sm mt-1",children:["Amount: ",t.nextBillingAmount===0?"Free":`$${(t.nextBillingAmount/100).toFixed(2)}`]})]})]})]})]})}),n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4 font-inconsolata",children:"Plan Management"}),t.role==="superadmin"?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-purple-600 font-medium mb-2",children:"✓ Pro (Superadmin) - Permanent Access"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"As a superadmin, you have permanent access to all Pro features without any subscription requirements."})]}),n.jsx("div",{className:"text-sm text-gray-500",children:"No billing management needed - your access is permanent."})]}):!((G=t.subscription)!=null&&G.status||t.subscriptionStatus)||(((oe=t.subscription)==null?void 0:oe.status)||t.subscriptionStatus)==="none"?n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Upgrade to Pro for unlimited snapshots, larger file sizes, and extended expiry times."}),n.jsx("button",{onClick:u,disabled:a,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:a?"Processing...":"Upgrade to Pro"})]}):(((H=t.subscription)==null?void 0:H.status)||t.subscriptionStatus)==="trial"?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-blue-600 font-medium mb-2",children:"✓ Pro (Trial) - Active"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"You're currently on a 7-day free trial of the Pro plan. Enjoy unlimited snapshots, 100MB per snapshot, and up to 90-day expiry times."}),(((Y=t.subscription)==null?void 0:Y.trialEnd)||t.trialEndsAt)&&n.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Trial ends: ",new Date(((U=t.subscription)==null?void 0:U.trialEnd)||t.trialEndsAt).toLocaleDateString()]}),t.nextBillingDate&&n.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[n.jsxs("p",{children:["Next billing: ",new Date(t.nextBillingDate).toLocaleDateString()]}),t.nextBillingAmount!==null&&t.nextBillingAmount!==void 0&&n.jsxs("p",{children:["Amount: ",t.nextBillingAmount===0?"Free":`$${(t.nextBillingAmount/100).toFixed(2)}`]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:w,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Change Payment Method"}),n.jsx("button",{onClick:P,className:"bg-gray-300 hover:bg-gray-400 text-gray-900 font-medium py-2 px-4 rounded-lg transition-colors",children:"Cancel Subscription"})]})]}):(((le=t.subscription)==null?void 0:le.status)||t.subscriptionStatus)==="active"?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-green-600 font-medium mb-2",children:"✓ Pro - Active Subscription"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"You have full access to all Pro features: unlimited snapshots, 100MB per snapshot, and up to 90-day expiry times."}),t.nextBillingDate&&n.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[n.jsxs("p",{children:["Next billing: ",new Date(t.nextBillingDate).toLocaleDateString()]}),t.nextBillingAmount!==null&&t.nextBillingAmount!==void 0&&n.jsxs("p",{children:["Amount: ",t.nextBillingAmount===0?"Free":`$${(t.nextBillingAmount/100).toFixed(2)}`]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:w,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Change Payment Method"}),n.jsx("button",{onClick:P,className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Cancel Subscription"})]})]}):(((Z=t.subscription)==null?void 0:Z.status)||t.subscriptionStatus)==="cancelled"?n.jsxs("div",{children:[n.jsx("p",{className:"text-orange-600 font-medium mb-2",children:"⚠️ Pro (Cancelled)"}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Your subscription has been cancelled. You will retain access to Pro features until the end of your current billing period."}),n.jsx("button",{onClick:u,disabled:a,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:a?"Processing...":"Reactivate Pro"})]}):(((R=t.subscription)==null?void 0:R.status)||t.subscriptionStatus)==="past_due"?n.jsxs("div",{children:[n.jsx("p",{className:"text-red-600 font-medium mb-2",children:"⚠️ Pro (Payment Past Due)"}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Your subscription payment is past due. Please update your payment method to continue access to Pro features."}),n.jsx("button",{onClick:N,className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Update Payment Method"})]}):n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Upgrade to Pro for unlimited snapshots, larger file sizes, and extended expiry times."}),n.jsx("button",{onClick:u,disabled:a,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:a?"Processing...":"Upgrade to Pro"})]})]})}),n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsx(nx,{className:"w-full"})}),n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 sm:p-8",children:[n.jsx("div",{className:"flex items-center mb-4 sm:mb-6",children:n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 font-inconsolata",children:"Account Actions"})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[n.jsxs("button",{onClick:L,className:"bg-gray-300 hover:bg-gray-400 text-gray-900 font-medium py-3 px-6 rounded-lg transition-colors shadow-md flex items-center justify-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]}),n.jsxs("button",{onClick:S,className:"bg-gray-300 hover:bg-gray-400 text-gray-900 font-medium py-3 px-6 rounded-lg transition-colors shadow-md flex items-center justify-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Account"]})]})]})})]})})]})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-inconsolata",children:"Authentication Required"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to access your account settings."}),n.jsx($e,{to:"/login",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Go to Login"})]})})}function ud({snapshotId:e,isVisible:t,onClose:r,className:s="",user:l}){const[a,o]=p.useState([]),[c,i]=p.useState(""),[d,x]=p.useState(!1),[h,g]=p.useState(!1),[b,y]=p.useState(!1),[j,k]=p.useState(null),[f,m]=p.useState(0),u=p.useRef(null),N=p.useRef(null),w=()=>{u.current&&typeof u.current.scrollIntoView=="function"&&u.current.scrollIntoView({behavior:"smooth"})};p.useEffect(()=>{w()},[a]),p.useEffect(()=>{const H=U=>{var le,Z,R,E;if(console.log("🔍 Global error caught:",U.message,"at",U.filename,":",U.lineno),(le=U.message)!=null&&le.includes("MutationObserver")&&((Z=U.message)!=null&&Z.includes("parameter 1 is not of type 'Node'")))return console.warn("🚫 Suppressed MutationObserver error from browser extension:",U.message),U.preventDefault(),U.stopPropagation(),!1;if((R=U.message)!=null&&R.includes("observe")||(E=U.message)!=null&&E.includes("MutationObserver"))return console.warn("🚫 Suppressed potential MutationObserver-related error:",U.message),U.preventDefault(),U.stopPropagation(),!1},Y=U=>{var le,Z,R,E;console.log("🔍 Unhandled promise rejection:",U.reason),((Z=(le=U.reason)==null?void 0:le.message)!=null&&Z.includes("MutationObserver")||(E=(R=U.reason)==null?void 0:R.message)!=null&&E.includes("observe"))&&(console.warn("🚫 Suppressed MutationObserver promise rejection:",U.reason),U.preventDefault())};return window.addEventListener("error",H),window.addEventListener("unhandledrejection",Y),()=>{window.removeEventListener("error",H),window.removeEventListener("unhandledrejection",Y)}},[]),p.useEffect(()=>{t&&!b&&P()},[t,e]);const P=async()=>{var H,Y;try{const U=await A.get(`/api/snapshots/${e}/ai-chat`);(H=U==null?void 0:U.data)!=null&&H.success&&((Y=U.data.data)!=null&&Y.exists)&&(o(U.data.data.messages.map(le=>({...le,timestamp:Date.now()}))),y(!0))}catch(U){console.error("Failed to load conversation:",U)}},L=()=>{m(H=>H+1),k(null),M()},S=()=>{M(!0)},M=async(H=!1)=>{var Y,U,le,Z,R,E,_,D,V,W,X,ne;console.log("🚀 Starting AI conversation for snapshot:",e,H?"(restarting)":""),g(!0),k(null),m(0);try{if(console.log("⏳ Waiting for iframe to be ready..."),await new Promise(re=>setTimeout(re,1500)),window.parent!==window){console.log("🔍 Checking iframe context...");try{if(!window.parent.document)throw new Error("Parent document not accessible");console.log("✅ Parent document accessible");const Ee=window.parent.document.querySelector('iframe[src*="'+e+'"]');Ee&&Ee.contentDocument?(console.log("✅ Iframe found and accessible"),Ee.contentDocument.readyState!=="complete"&&(console.warn("⏳ Iframe not fully loaded, waiting..."),await new Promise(_e=>setTimeout(_e,1e3))),console.log("✅ Iframe ready state:",Ee.contentDocument.readyState)):console.warn("⚠️ Iframe not found or not accessible")}catch(re){console.warn("⚠️ Iframe access check failed:",re)}}else console.log("ℹ️ Not in iframe context, proceeding directly");console.log("📡 Making API request to start AI chat...");const B=l?null:(()=>{let re=localStorage.getItem("quickstage_anonymous_id");return re||(re="anon_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),localStorage.setItem("quickstage_anonymous_id",re)),re})();console.log("🔍 Anonymous user ID:",B);const ee=await A.post(`/api/snapshots/${e}/ai-chat/start`,{anonymousUserId:B,forceReanalysis:H});if(console.log("📡 API response received:",ee),console.log("🔍 Response type:",typeof ee),console.log("🔍 Response keys:",Object.keys(ee)),console.log("🔍 Response.data type:",typeof ee.data),console.log("🔍 Response.data keys:",ee.data?Object.keys(ee.data):"undefined"),console.log("🔍 Response success value:",(Y=ee.data)==null?void 0:Y.success),console.log("🔍 Response data:",(U=ee.data)==null?void 0:U.data),ee.success){console.log("✅ AI chat started successfully"),console.log("📊 Response data structure:",ee.data);let re=[];ee.data.data&&ee.data.data.messages?re=ee.data.data.messages:ee.data.messages?re=ee.data.messages:ee.data.data&&Array.isArray(ee.data.data)?re=ee.data.data:(console.warn("⚠️ No messages found in response, using empty array"),re=[]),console.log("📝 Messages to display:",re);const Ee=re.map(_e=>({..._e,timestamp:Date.now()}));o(Ee),y(!0)}else console.error("❌ AI chat start failed:",ee.error),console.error("❌ Response structure:",ee),k(ee.error||"Failed to start AI analysis")}catch(te){console.error("❌ Failed to start conversation:",te),console.error("❌ Error details:",{message:te.message,response:te.response,status:(le=te.response)==null?void 0:le.status,data:(Z=te.response)==null?void 0:Z.data}),((R=te.response)==null?void 0:R.status)===429?k("Rate limit exceeded. Please try again in an hour."):((E=te.response)==null?void 0:E.status)===503?k("AI service is temporarily unavailable. Please try again later."):(_=te.message)!=null&&_.includes("MutationObserver")||(D=te.message)!=null&&D.includes("observe")?k("Browser compatibility issue detected. Please refresh the page and try again."):(V=te.message)!=null&&V.includes("iframe")||(W=te.message)!=null&&W.includes("contentDocument")||(X=te.message)!=null&&X.includes("cross-origin")?k("Unable to access snapshot content. Please ensure the snapshot is fully loaded and try again."):(ne=te.message)!=null&&ne.includes("Network Error")||!navigator.onLine?k("Network connection issue. Please check your internet connection and try again."):k(`Failed to connect to AI service: ${te.message||"Unknown error"}`)}finally{console.log("🏁 AI conversation start attempt completed"),g(!1)}},z=async()=>{var U,le,Z,R,E,_,D,V;if(!c.trim()||d)return;const H={role:"user",content:c.trim(),timestamp:Date.now()};o(W=>[...W,H]);const Y=c.trim();i(""),x(!0),k(null);try{const X=l?null:(()=>{let te=localStorage.getItem("quickstage_anonymous_id");return te||(te="anon_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),localStorage.setItem("quickstage_anonymous_id",te)),te})(),ne=await A.post(`/api/snapshots/${e}/ai-chat/message`,{message:Y,anonymousUserId:X});if(ne.success){const te={role:"assistant",content:ne.data.response,timestamp:Date.now()};o(B=>[...B,te])}else k(ne.error||"Failed to get AI response")}catch(W){if(console.error("Failed to send message:",W),((U=W.response)==null?void 0:U.status)===429)k("Rate limit exceeded. Please try again in an hour.");else if(((le=W.response)==null?void 0:le.status)===503)if(f<3){m(X=>X+1),k(`AI service temporarily unavailable. Retrying... (${f+1}/3)`),setTimeout(()=>{z()},2e3);return}else k("AI service is temporarily unavailable. Please try again later.");else(Z=W.message)!=null&&Z.includes("MutationObserver")||(R=W.message)!=null&&R.includes("observe")?k("Browser compatibility issue detected. Please refresh the page and try again."):(E=W.message)!=null&&E.includes("iframe")||(_=W.message)!=null&&_.includes("contentDocument")||(D=W.message)!=null&&D.includes("cross-origin")?k("Unable to access snapshot content. Please ensure the snapshot is fully loaded and try again."):(V=W.message)!=null&&V.includes("Network Error")||!navigator.onLine?k("Network connection issue. Please check your internet connection and try again."):k("Failed to send message. Please try again.")}finally{x(!1)}},G=H=>{H.key==="Enter"&&!H.shiftKey&&(H.preventDefault(),z())},oe=H=>H.split(`
`).map((Y,U)=>Y.startsWith("**")&&Y.endsWith("**")?n.jsx("div",{className:"font-semibold text-gray-900 mt-3 mb-1",children:Y.slice(2,-2)},U):Y.startsWith("- ")?n.jsxs("div",{className:"ml-4 mb-1",children:["• ",Y.slice(2)]},U):Y.trim()===""?n.jsx("div",{className:"h-2"},U):n.jsx("div",{className:"mb-1",children:Y},U));return t?n.jsxs("div",{className:`fixed right-0 top-0 h-full w-96 bg-white shadow-2xl z-50 flex flex-col ${s}`,children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-blue-50",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-inconsolata",children:"🤖 AI UX Assistant"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get expert UI/UX feedback and suggestions"})]}),b&&n.jsx("button",{onClick:S,disabled:d||h,className:"px-3 py-1.5 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Clear and restart analysis with fresh file content",children:"🔄 Restart"})]}),b?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.map((H,Y)=>n.jsx("div",{className:`flex ${H.role==="user"?"justify-end":"justify-start"}`,children:n.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${H.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:H.role==="assistant"?n.jsx("div",{className:"text-sm leading-relaxed",children:oe(H.content)}):n.jsx("div",{className:"text-sm",children:H.content})})},Y)),d&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-gray-100 text-gray-900 p-3 rounded-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-400"}),n.jsx("span",{className:"text-sm",children:"AI is thinking..."})]})})}),n.jsx("div",{ref:u})]}),j&&n.jsxs("div",{className:"mx-4 mb-2 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:[n.jsx("div",{className:"mb-2",children:j}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{k(null),m(0)},className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors",children:"Dismiss"}),j.includes("MutationObserver")||j.includes("iframe")?n.jsx("button",{onClick:()=>window.location.reload(),className:"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:"Refresh Page"}):null]})]}),n.jsxs("div",{className:"border-t border-gray-200 p-4",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("textarea",{ref:N,value:c,onChange:H=>i(H.target.value),onKeyPress:G,placeholder:"Ask about accessibility, mobile design, user flow...",className:"flex-1 resize-none border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,disabled:d,maxLength:1e3}),n.jsx("button",{onClick:z,disabled:!c.trim()||d,className:"self-end bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),n.jsxs("div",{className:"mt-2 flex justify-between text-xs text-gray-500",children:[n.jsx("span",{children:"Press Enter to send, Shift+Enter for new line"}),n.jsxs("span",{children:[c.length,"/1000"]})]})]})]}):n.jsxs("div",{className:"p-6",children:[n.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Get instant feedback on your prototype's user experience, accessibility, design patterns, and modern UI best practices. Ask questions and get specific suggestions for improvement."}),n.jsxs("div",{className:"space-y-3 mb-6 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Accessibility & WCAG compliance"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Mobile responsiveness analysis"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Visual hierarchy & typography"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Interactive Q&A with AI expert"]})]}),n.jsx("button",{onClick:()=>M(),disabled:h,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium",children:h?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Analyzing your prototype..."]}):"🚀 Start AI Analysis"}),j&&n.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:[n.jsx("div",{className:"mb-2",children:j}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:L,className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors",children:["Try Again ",f>0&&`(${f})`]}),f>2&&n.jsx("button",{onClick:()=>{m(0),k(null)},className:"px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700 transition-colors",children:"Reset"})]})]})]})]}):null}function sx({review:e,isOwner:t,onCancel:r,onSubmitFeedback:s}){const[l,a]=p.useState(!1),[o,c]=p.useState(""),[i,d]=p.useState(!1),x=j=>{switch(j){case"pending":return"bg-gray-100 text-gray-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},h=j=>{switch(j){case"pending":return"text-gray-600";case"reviewing":return"text-blue-600";case"approved":return"text-green-600";case"changes_requested":return"text-orange-600";default:return"text-gray-600"}},g=async j=>{if(!o.trim()){alert("Please provide feedback before submitting");return}d(!0);try{await s(o,j),a(!1),c("")}catch(k){console.error("Failed to submit feedback:",k)}finally{d(!1)}},b=j=>new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=e.deadline&&Date.now()>e.deadline;return n.jsxs("div",{className:"border border-gray-200 rounded-md p-4 bg-white mb-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(e.status)}`,children:e.status.replace("_"," ").toUpperCase()}),y&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"OVERDUE"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Requested ",b(e.requestedAt),e.deadline&&n.jsxs("span",{className:"ml-2",children:["• Due ",b(e.deadline)]})]}),e.notes&&n.jsxs("p",{className:"text-sm text-gray-700 mt-2 italic",children:['"',e.notes,'"']})]}),t&&e.status!=="completed"&&n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-600 ml-4",title:"Cancel review",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Reviewers (",e.reviewers.length,")"]}),e.reviewers.map(j=>n.jsxs("div",{className:"flex items-start justify-between bg-gray-50 p-3 rounded-md mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:j.userName}),n.jsx("span",{className:`text-xs font-medium ${h(j.status)}`,children:j.status.replace("_"," ").toUpperCase()})]}),n.jsx("p",{className:"text-sm text-gray-600",children:j.userEmail}),j.feedback&&n.jsxs("div",{className:"mt-2 p-2 bg-white rounded border border-gray-200",children:[n.jsx("p",{className:"text-sm text-gray-700",children:j.feedback}),j.reviewedAt&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Reviewed ",b(j.reviewedAt)]})]})]}),j.status==="pending"&&!t&&n.jsx("button",{onClick:()=>a(!l),className:"ml-3 px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Review"})]},j.userId))]}),l&&n.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Submit Your Review"}),n.jsx("textarea",{value:o,onChange:j=>c(j.target.value),placeholder:"Provide your feedback on this design...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),n.jsxs("div",{className:"flex justify-end gap-3 mt-3",children:[n.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:i,children:"Cancel"}),n.jsx("button",{onClick:()=>g("changes_requested"),disabled:i||!o.trim(),className:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 disabled:opacity-50 transition-colors",children:"Request Changes"}),n.jsx("button",{onClick:()=>g("approved"),disabled:i||!o.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 transition-colors",children:"Approve"})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[e.reviewers.filter(j=>j.status==="approved"||j.status==="changes_requested").length," / ",e.reviewers.length," completed"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${e.reviewers.filter(j=>j.status==="approved"||j.status==="changes_requested").length/e.reviewers.length*100}%`}})})]})]})}function md({snapshotId:e,isOwner:t,currentUserId:r,onReviewUpdate:s}){const[l,a]=p.useState([]),[o,c]=p.useState(!1),[i,d]=p.useState(!1),[x,h]=p.useState(null),g=l.some(m=>m.reviewers.some(u=>u.userId===r)),b=t||g,y=async()=>{try{c(!0);const u=(await A.get(`/api/snapshots/${e}/reviews`)).reviews||[];a(u),s&&s(u)}catch(m){console.error("Failed to load reviews:",m),h("Failed to load reviews")}finally{c(!1)}},j=async m=>{try{await A.post(`/api/snapshots/${e}/reviews`,{reviewers:m.reviewers,deadline:m.deadline,notes:m.notes});try{await A.post("/analytics/track",{eventType:"review_requested",eventData:{snapshotId:e,reviewerCount:m.reviewers.length,hasDeadline:!!m.deadline,hasNotes:!!m.notes,deadlineInDays:m.deadline?Math.ceil((new Date(m.deadline).getTime()-Date.now())/(1e3*60*60*24)):null}})}catch(u){console.error("Failed to track review creation analytics:",u)}d(!1),await y()}catch(u){console.error("Failed to create review:",u),h("Failed to create review")}},k=async m=>{if(confirm("Are you sure you want to cancel this review?"))try{await A.delete(`/api/reviews/${m}`),await y();try{await A.post("/analytics/track",{eventType:"review_cancelled",eventData:{snapshotId:e,reviewId:m}})}catch(u){console.error("Failed to track review cancellation analytics:",u)}}catch(u){console.error("Failed to cancel review:",u),h("Failed to cancel review")}},f=async(m,u,N)=>{try{await A.post(`/api/reviews/${m}/submit`,{feedback:u,status:N}),await y();try{await A.post("/analytics/track",{eventType:N==="approved"?"review_approved":"review_rejected",eventData:{snapshotId:e,reviewId:m,feedbackLength:u.length,hasFeedback:u.length>0}})}catch(w){console.error("Failed to track review submission analytics:",w)}}catch(w){console.error("Failed to submit review:",w),h("Failed to submit review")}};return p.useEffect(()=>{y()},[e]),!b&&!o?null:o&&l.length===0?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"text-center text-gray-500 mt-4",children:"Loading reviews..."})]}):n.jsx("div",{className:"bg-white rounded-md border border-gray-200 p-4",children:i?n.jsx(Wm,{onClose:()=>d(!1),onSubmit:j}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex justify-between items-center mb-4",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reviews"})}),x&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-4",children:[n.jsx("p",{className:"text-red-600 text-sm",children:x}),n.jsx("button",{onClick:()=>h(null),className:"text-red-500 hover:text-red-700 text-sm underline ml-2",children:"Dismiss"})]}),l.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"text-gray-400 mb-4",children:n.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsx("p",{className:"text-gray-500 text-lg",children:"No reviews yet"}),n.jsx("p",{className:"text-gray-400 text-sm mt-1 mb-4",children:t?"Request feedback from your team":"The owner hasn't requested any reviews"}),t&&n.jsx("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Request Review"})]}):n.jsxs("div",{children:[n.jsx("div",{className:"space-y-4",children:l.map(m=>n.jsx(sx,{review:m,isOwner:t,onCancel:()=>k(m.id),onSubmitFeedback:(u,N)=>f(m.id,u,N)},m.id))}),t&&n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsx("button",{onClick:()=>d(!0),className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Request Another Review"})})]})]})})}function Qm({comment:e,replies:t,depth:r,onReply:s,onResolve:l,onDelete:a,onUpdate:o,isOwner:c,currentUserId:i,maxDepth:d=5}){var te;const[x,h]=p.useState(!1),[g,b]=p.useState(!1),[y,j]=p.useState(""),[k,f]=p.useState(e.text||""),[m,u]=p.useState(r<3),[N,w]=p.useState([]),[P,L]=p.useState(!1),[S,M]=p.useState(!1),z=r<1,G=p.useRef(null),oe=p.useRef(null),H=p.useRef(null);p.useEffect(()=>{oe.current&&(oe.current.style.height="auto",oe.current.style.height=oe.current.scrollHeight+"px")},[y]),p.useEffect(()=>{const B=ee=>{H.current&&!H.current.contains(ee.target)&&M(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]);const Y=async()=>{if(!(!y.trim()||P)){L(!0);try{await s(e.id,y.trim(),N.length>0?N:void 0),j(""),w([]),h(!1)}catch(B){console.error("Failed to reply:",B),alert("Failed to post reply. Please try again.")}finally{L(!1)}}},U=async()=>{if(!(!k.trim()||P)){L(!0);try{await o(e.id,k.trim()),b(!1)}catch(B){console.error("Failed to update comment:",B),alert("Failed to update comment. Please try again.")}finally{L(!1)}}},le=B=>{const ee=Array.from(B.target.files||[]);ee.length>0&&w(re=>[...re,...ee])},Z=B=>{w(ee=>ee.filter((re,Ee)=>Ee!==B))},R=B=>{const re=Date.now()-B,Ee=Math.floor(re/(1e3*60)),_e=Math.floor(re/(1e3*60*60)),Et=Math.floor(re/(1e3*60*60*24));return Ee<1?"Just now":Ee<60?`${Ee}m ago`:_e<24?`${_e}h ago`:Et<7?`${Et}d ago`:new Date(B).toLocaleDateString()},E=i?null:uo(),_=i&&e.author===i||!i&&e.isAnonymous&&e.author===E,D=c,V=e.text||"",W=e.authorName||"Anonymous",X=e.isAnonymous,ne=e.state||"published";return n.jsxs("div",{className:`comment-item relative ${r>0?"ml-6":""}`,children:[r>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute -left-6 top-0 w-px bg-gray-300 h-full"}),n.jsx("div",{className:"absolute -left-6 top-4 w-4 h-px bg-gray-300"})]}),n.jsxs("div",{className:`bg-white border rounded-lg p-4 mb-3 shadow-sm hover:shadow-md transition-all duration-200 ${ne==="resolved"?"opacity-75 bg-gray-50":""} ${ne==="archived"?"opacity-50 bg-gray-50":""}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[n.jsx("div",{className:"w-7 h-7 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-xs font-medium flex-shrink-0",children:((te=W.charAt(0))==null?void 0:te.toUpperCase())||"U"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",title:X?"Unauthenticated":"Authenticated",children:W}),!X&&n.jsx("div",{title:"Authenticated",children:n.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),n.jsx("p",{className:"text-xs text-gray-500 flex-shrink-0",children:R(e.createdAt||0)})]}),e.elementSelector&&n.jsxs("div",{className:"text-xs text-gray-500 flex items-center space-x-1 mt-1",children:[n.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),n.jsx("span",{children:"Pinned to element"})]})]})]}),(_||D||ne!=="resolved"&&r===0||ne==="resolved")&&n.jsxs("div",{className:"relative",ref:H,children:[n.jsx("button",{onClick:()=>M(!S),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded",title:"Comment actions",children:n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),S&&n.jsxs("div",{className:"absolute right-0 top-8 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-20",children:[_&&n.jsxs("button",{onClick:()=>{b(!g),M(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),n.jsx("span",{children:"Edit"})]}),ne!=="resolved"&&r===0&&n.jsxs("button",{onClick:()=>{l(e.id),M(!1)},className:"w-full text-left px-3 py-2 text-sm text-green-700 hover:bg-green-50 flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),n.jsx("span",{children:"Resolve"})]}),ne==="resolved"&&n.jsxs("button",{onClick:()=>{o(e.id,V),M(!1)},className:"w-full text-left px-3 py-2 text-sm text-blue-700 hover:bg-blue-50 flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n.jsx("span",{children:"Reopen"})]}),ne!=="archived"&&D&&n.jsxs("button",{onClick:()=>{o(e.id,V),M(!1)},className:"w-full text-left px-3 py-2 text-sm text-yellow-700 hover:bg-yellow-50 flex items-center space-x-2",children:[n.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[n.jsx("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),n.jsx("path",{fillRule:"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"})]}),n.jsx("span",{children:"Archive"})]}),_&&n.jsxs("button",{onClick:()=>{confirm("Are you sure you want to delete this comment? This action cannot be undone.")&&a(e.id),M(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-700 hover:bg-red-50 flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),n.jsx("span",{children:"Delete"})]})]})]})]}),n.jsx("div",{className:"mb-3",children:g?n.jsxs("div",{className:"space-y-3",children:[n.jsx("textarea",{value:k,onChange:B=>f(B.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3,placeholder:"Edit your comment..."}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>{b(!1),f(V)},className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),n.jsx("button",{onClick:U,disabled:!k.trim()||P,className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:P?"Updating...":"Update"})]})]}):n.jsx("div",{className:"prose prose-sm max-w-none",children:n.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:V})})}),e.attachments&&e.attachments.length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2 uppercase tracking-wide",children:"Attachments:"}),n.jsx("div",{className:"space-y-1",children:e.attachments.map(B=>n.jsxs("div",{className:"flex items-center space-x-2 text-sm bg-gray-50 rounded p-2",children:[n.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})}),n.jsx("a",{href:B.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex-1 truncate",onClick:ee=>{if(!B.mimeType.startsWith("image/")){ee.preventDefault();const re=document.createElement("a");re.href=B.url,re.download=B.filename,re.target="_blank",document.body.appendChild(re),re.click(),document.body.removeChild(re)}},children:B.filename}),n.jsxs("span",{className:"text-gray-500 text-xs flex-shrink-0",children:["(",Math.round(B.size/1024),"KB)"]})]},B.id))})]}),n.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 pt-2",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[!x&&ne!=="archived"&&z&&n.jsxs("button",{onClick:()=>h(!0),className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center space-x-1",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),n.jsx("span",{children:"Reply"})]}),t.length>0&&n.jsxs("button",{onClick:()=>u(!m),className:"text-sm text-gray-600 hover:text-gray-800 font-medium flex items-center space-x-1",children:[n.jsx("svg",{className:`w-4 h-4 transition-transform ${m?"rotate-90":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),n.jsxs("span",{children:[m?"Hide":"Show"," ",t.length," ",t.length===1?"reply":"replies"]})]})]}),n.jsx("div",{className:"text-xs text-gray-400"})]}),x&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md border-l-4 border-blue-200",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),n.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Replying to ",W]})]}),n.jsx("textarea",{ref:oe,value:y,onChange:B=>j(B.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:2,placeholder:"Write a reply..."}),n.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{ref:G,type:"file",multiple:!0,onChange:le,className:"hidden",accept:".png,.jpg,.jpeg,.txt,.md,.pdf,.doc,.docx"}),n.jsxs("button",{onClick:()=>{var B;return(B=G.current)==null?void 0:B.click()},className:"text-sm text-gray-600 hover:text-gray-800 flex items-center space-x-1",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})}),n.jsx("span",{children:"Attach"})]}),N.length>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:[N.length," file",N.length!==1?"s":""," attached"]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{h(!1),j(""),w([])},className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),n.jsx("button",{onClick:Y,disabled:!y.trim()||P,className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:P?"Replying...":"Reply"})]})]}),N.length>0&&n.jsx("div",{className:"mt-2 space-y-1",children:N.map((B,ee)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border text-sm",children:[n.jsx("span",{className:"truncate flex-1",children:B.name}),n.jsx("button",{onClick:()=>Z(ee),className:"ml-2 text-red-500 hover:text-red-700 font-bold",children:"×"})]},ee))})]})]}),m&&t.length>0&&r<d&&n.jsx("div",{className:"replies-container",children:t.map(B=>n.jsx(Qm,{comment:B,replies:[],depth:r+1,onReply:s,onResolve:l,onDelete:a,onUpdate:o,isOwner:c,currentUserId:i,maxDepth:d},B.id))}),r>=d&&t.length>0&&n.jsx("div",{className:"ml-6 p-3 bg-gray-50 rounded-md border-l-4 border-gray-200 text-sm text-gray-600 italic",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),n.jsxs("span",{children:["Thread continues with ",t.length," more ",t.length===1?"reply":"replies","..."]})]})})]})}const uo=()=>{if(typeof window>"u")return null;let e=localStorage.getItem("quickstage_anonymous_id");return e||(e=`anon_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("quickstage_anonymous_id",e)),e};function hd({snapshotId:e,isOwner:t=!1,className:r=""}){const{user:s}=Ct(),[l,a]=p.useState([]),[o,c]=p.useState(!0),[i,d]=p.useState(""),[x,h]=p.useState([]),[g,b]=p.useState(!1),[y,j]=p.useState(!1),[k,f]=p.useState(""),[m,u]=p.useState(!1),N=p.useRef(null),w=p.useRef(null);p.useEffect(()=>{N.current&&(N.current.style.height="auto",N.current.style.height=Math.min(N.current.scrollHeight,200)+"px")},[i]);const P=async()=>{var E;try{c(!0);const _=await A.get(`/api/snapshots/${e}/comments`),D=_.comments||((E=_.data)==null?void 0:E.comments)||[];a(D)}catch(_){console.error("Failed to load comments:",_)}finally{c(!1)}};p.useEffect(()=>{P()},[e]);const L=async()=>{const E=i.trim();if(console.log("Adding comment with text:",E),!E||g){console.log("Skipping comment submission - no text or already submitting");return}b(!0);try{const _=new FormData;if(_.append("text",E),_.append("state","published"),!s){k.trim()&&_.append("authorName",k.trim());const D=uo();D&&_.append("anonymousUserId",D)}x.length>0&&x.forEach(D=>{_.append("attachments",D)}),console.log("FormData contents:"),console.log("text:",_.get("text")),console.log("state:",_.get("state")),console.log("authorName:",_.get("authorName")),console.log("attachments count:",x.length),console.log("FormData keys:");try{for(const D of _.keys())console.log("Key:",D,"Value:",_.get(D))}catch{console.log("Could not iterate FormData keys")}console.log("Submitting comment to API..."),await A.post(`/api/snapshots/${e}/comments`,_),await P(),d(""),h([]),f(""),j(!1)}catch(_){console.error("Failed to add comment:",_),alert("Failed to add comment. Please try again.")}finally{b(!1)}},S=async(E,_,D)=>{try{const V=new FormData;V.append("text",_),V.append("parentId",E),V.append("state","published"),D&&D.length>0&&D.forEach(W=>{V.append("attachments",W)}),await A.post(`/api/snapshots/${e}/comments`,V),await P()}catch(V){throw console.error("Failed to post reply:",V),V}},M=async E=>{try{await A.put(`/api/snapshots/${e}/comments/${E}`,{state:"resolved"}),await P()}catch(_){throw console.error("Failed to resolve comment:",_),_}},z=async E=>{try{await A.delete(`/api/snapshots/${e}/comments/${E}`),await P()}catch(_){throw console.error("Failed to delete comment:",_),_}},G=async(E,_)=>{try{const D={text:_};if(!s){const V=uo();V&&(D.anonymousUserId=V)}await A.put(`/api/snapshots/${e}/comments/${E}`,D),await P()}catch(D){throw console.error("Failed to update comment:",D),D}},oe=E=>{const _=Array.from(E.target.files||[]);H(_)},H=E=>{const D=["image/png","image/jpeg","image/jpg","image/gif","image/webp","text/plain","text/markdown","text/csv","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-rar-compressed"],V=["Images: PNG, JPG, GIF, WebP","Documents: PDF, TXT, MD, CSV","Office: DOC, DOCX, XLS, XLSX","Archives: ZIP, RAR"].join(`
`),W=[],X=[];E.forEach(ne=>{ne.size>10485760?X.push(`${ne.name} is too large (max 10MB)`):D.includes(ne.type)?W.push(ne):X.push(`${ne.name} has an unsupported file type.

Supported file types:
${V}`)}),X.length>0&&alert(X.join(`
`)),W.length>0&&h(ne=>[...ne,...W])},Y=E=>{E.preventDefault(),E.stopPropagation()},U=E=>{E.preventDefault(),E.stopPropagation();const _=Array.from(E.dataTransfer.files);H(_)},le=E=>{h(_=>_.filter((D,V)=>V!==E))},Z=E=>{const _=new Map,D=[];E.forEach(W=>{_.set(W.id,{...W,replies:[]})}),E.forEach(W=>{const X=_.get(W.id);W.parentId&&_.has(W.parentId)?_.get(W.parentId).replies.push(X):D.push(X)}),D.sort((W,X)=>(X.createdAt||0)-(W.createdAt||0));const V=W=>{W.replies.sort((X,ne)=>(X.createdAt||0)-(ne.createdAt||0)),W.replies.forEach(X=>{X.replies&&X.replies.length>0&&V(X)})};return D.forEach(V),D};if(o)return n.jsx("div",{className:`bg-white rounded-lg shadow ${r}`,children:n.jsxs("div",{className:"p-6 flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-500",children:"Loading comments..."})]})});const R=Z(l);return n.jsxs("div",{className:`bg-white rounded-lg shadow flex flex-col h-full ${r}`,children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 font-inconsolata",children:["Comments (",l.length,")"]})]}),n.jsx("button",{onClick:()=>j(!y),className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:y?"Cancel":"Add Comment"})]}),y&&n.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",onDragOver:Y,onDrop:U,children:n.jsxs("form",{onSubmit:E=>{E.preventDefault(),console.log("Form submitted, text:",i),L()},className:"space-y-3",children:[!s&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"anonymous-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your name (optional)"}),n.jsx("input",{id:"anonymous-name",type:"text",value:k,onChange:E=>f(E.target.value),placeholder:"Enter your name or leave blank for Anonymous",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),n.jsx("textarea",{ref:N,value:i,onChange:E=>d(E.target.value),placeholder:"Write your comment...",className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,maxLength:5e3}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{ref:w,type:"file",multiple:!0,onChange:oe,className:"hidden",accept:".png,.jpg,.jpeg,.txt,.md,.pdf,.doc,.docx"}),n.jsxs("button",{onClick:()=>{var E;return(E=w.current)==null?void 0:E.click()},className:"text-sm text-gray-600 hover:text-gray-800 flex items-center space-x-1",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})}),n.jsx("span",{children:"Attach Files"})]}),x.length>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:[x.length," file",x.length!==1?"s":""," attached"]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{j(!1),d(""),h([]),f("")},className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),n.jsx("button",{onClick:E=>{E.preventDefault(),console.log("Comment button clicked, text:",i),L()},disabled:!i.trim()||g,className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Posting...":"Post Comment"})]})]}),x.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Attachments:"}),x.map((E,_)=>{var D;return n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[n.jsx("div",{className:"flex-shrink-0",children:E.type.startsWith("image/")?n.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}):E.type==="application/pdf"?n.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}):n.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium text-gray-900 truncate",children:E.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:[(E.size/1024/1024).toFixed(1)," MB • ",((D=E.type.split("/")[1])==null?void 0:D.toUpperCase())||"FILE"]})]})]}),n.jsx("button",{onClick:()=>le(_),className:"ml-2 text-red-500 hover:text-red-700 font-bold text-lg leading-none",title:"Remove attachment",children:"×"})]},_)})]})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 pb-16",children:R.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[n.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2 font-inconsolata",children:"No comments yet"}),n.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Start the conversation by adding the first comment!"}),n.jsx("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Add First Comment"})]}):n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Comments"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>u(!1),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${m?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white"}`,children:"Unresolved"}),n.jsx("button",{onClick:()=>u(!0),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${m?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"All Comments"})]})]})}),R.filter(E=>m?!0:E.state!=="resolved").map(E=>{var D;const _=m?E.replies:((D=E.replies)==null?void 0:D.filter(V=>E.state!=="resolved"))||[];return n.jsx(Qm,{comment:E,replies:_,depth:0,onReply:S,onResolve:M,onDelete:z,onUpdate:G,isOwner:t,currentUserId:s==null?void 0:s.uid,maxDepth:5},E.id)})]})}),R.length>0&&n.jsx("div",{className:"fixed bottom-0 left-0 right-0 border-t border-gray-200 p-3 bg-gray-50 z-10",children:n.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between text-xs text-gray-600",children:[n.jsxs("span",{children:[R.length," thread",R.length!==1?"s":""]}),n.jsxs("span",{children:[l.length," total comment",l.length!==1?"s":""]})]})})]})}function pd(){const e=St(),{user:t}=Ct(),[r,s]=p.useState(null),[l,a]=p.useState(!0),[o,c]=p.useState(null),[i,d]=p.useState(""),[x,h]=p.useState(!1),[g,b]=p.useState(null),[y,j]=p.useState(!1),{id:k}=bf(),f=window.self!==window.top,m=window.location.hash.slice(1),u=f?m:null;p.useEffect(()=>{if(!k){c("No snapshot ID provided"),a(!1);return}N()},[k]),p.useEffect(()=>{f&&u&&r&&(u==="comments"||u==="reviews"||u==="ai"&&setTimeout(()=>{j(!0)},200))},[f,u,r]),p.useEffect(()=>{x&&!l&&setTimeout(()=>{const S=document.querySelector('input[type="password"]');S&&S.focus()},100)},[x,l]);const N=async()=>{try{c(null);const S=await A.get(`/snapshots/${k}`);s(S.snapshot),S.snapshot.files.length>0&&b(S.snapshot.files[0].name),S.snapshot.public||document.cookie.split("; ").find(z=>z.startsWith(`ps_gate_${k}=`))||h(!0)}catch(S){S.message.includes("401")?h(!0):(console.error("Failed to fetch snapshot:",S),c("Failed to fetch snapshot"))}finally{a(!1)}},w=async()=>{try{c(null);const S=await fetch(`/s/${k}/gate`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:i})});if(!S.ok)throw new Error(S.status.toString());h(!1),await N()}catch(S){console.error("Password verification failed:",S),c(S.message||"Invalid password")}},P=S=>{if(S===0)return"0 B";const M=1024,z=["B","KB","MB","GB"],G=Math.floor(Math.log(S)/Math.log(M));return parseFloat((S/Math.pow(M,G)).toFixed(1))+" "+z[G]},L=S=>new Date(S).toLocaleString();return l?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading snapshot..."})]})}):o&&!x?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-6 font-poppins",children:n.jsx("div",{className:"max-w-md w-full",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2 font-inconsolata",children:"Error"}),n.jsx("p",{className:"mb-4",children:o}),n.jsx("button",{onClick:()=>e("/"),className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Back to Dashboard"})]})})}):x?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-6 font-poppins",children:n.jsxs("div",{className:"max-w-md w-full",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 font-inconsolata",children:"Password Protected"}),n.jsx("p",{className:"text-gray-600",children:"This snapshot is password protected. Please enter the password to continue."})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[o&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:o}),n.jsx("div",{className:"mb-6",children:n.jsx("input",{type:"password",value:i,onChange:S=>d(S.target.value),placeholder:"Enter password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:S=>S.key==="Enter"&&w()})}),n.jsx("button",{onClick:w,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-lg transition-colors w-full",children:"View Snapshot"})]})]})}):r?(r.files.find(S=>S.name===g),f&&u?n.jsxs("div",{className:"min-h-screen bg-white font-poppins",children:[u==="comments"&&k&&n.jsx(hd,{snapshotId:k,isOwner:!!t&&r&&(t==null?void 0:t.uid)===r.ownerUid}),u==="reviews"&&k&&n.jsx("div",{className:"p-6",children:n.jsx(md,{snapshotId:k,isOwner:!!t&&r&&(t==null?void 0:t.uid)===r.ownerUid,currentUserId:t==null?void 0:t.uid})}),u==="ai"&&k&&n.jsx(ud,{snapshotId:k,isVisible:!0,onClose:()=>{},user:t})]}):n.jsxs("div",{className:"min-h-screen bg-gray-50 font-poppins",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-xl font-bold text-gray-900 font-inconsolata",children:["Snapshot: ",r.id]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Created: ",L(r.createdAt)," | Expires: ",L(r.expiresAt)," | Size: ",P(r.totalBytes)]})]}),n.jsxs("nav",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>j(!y),className:`px-3 py-2 text-sm font-medium border rounded-lg transition-colors ${y?"bg-blue-600 text-white border-blue-600":"text-gray-600 hover:text-gray-700 border-gray-300 hover:border-gray-400"}`,children:"🤖 AI UX Assistant"}),n.jsx("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-700 px-3 py-2 text-sm font-medium border border-gray-300 rounded-lg hover:border-gray-400 transition-colors",children:"Dashboard"})]})]})})}),n.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 font-inconsolata",children:["Files (",r.files.length,")"]}),n.jsx("div",{className:"space-y-2",children:r.files.map(S=>n.jsxs("button",{onClick:()=>b(S.name),className:`w-full text-left p-3 rounded-lg border transition-colors ${g===S.name?"bg-blue-50 border-blue-200 text-blue-900":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[n.jsx("div",{className:"font-medium text-sm",children:S.name}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[P(S.size)," • ",S.type]})]},S.name))})]})}),n.jsx("div",{className:"lg:col-span-6",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-2 min-h-[600px]",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 font-inconsolata",children:"Preview"}),n.jsx("a",{href:`https://quickstage.tech/s/${k}/index.html`,target:"_blank",rel:"noreferrer",className:"text-sm text-blue-600 hover:underline",children:"Open in new tab"})]}),n.jsx("iframe",{src:`https://quickstage.tech/s/${k}/index.html`,className:"w-full h-[70vh] border-0",title:"Snapshot Preview",onLoad:()=>{console.log("Snapshot iframe loaded successfully")},onError:S=>{console.error("Failed to load snapshot iframe:",S),c("Failed to load snapshot preview. Please try refreshing the page.")}},k)]})}),n.jsxs("div",{className:"lg:col-span-3",children:[n.jsx(hd,{snapshotId:k||"",isOwner:!!t&&r&&(t==null?void 0:t.uid)===r.ownerUid}),n.jsx("div",{className:"mt-6",children:n.jsx(md,{snapshotId:k||"",isOwner:!!t&&r&&(t==null?void 0:t.uid)===r.ownerUid,currentUserId:t==null?void 0:t.uid})})]})]})}),k&&n.jsx(ud,{snapshotId:k,isVisible:y,onClose:()=>j(!1),user:t})]})):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-inconsolata",children:"Snapshot Not Found"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"The requested snapshot could not be found."}),n.jsx("button",{onClick:()=>e("/"),className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Back to Dashboard"})]})})}function lx(){const e=St(),[t,r]=p.useState([]),[s,l]=p.useState([]),[a,o]=p.useState({x:0,y:0}),[c,i]=p.useState(0),[d,x]=p.useState(!0),[h,g]=p.useState(!1),[b,y]=p.useState(!1),j=["No <strong>DevOps</strong>","No <strong>GitHub</strong>","No finnicky <strong>envs</strong>","No deployment <strong>pipelines</strong>","No <strong>configs</strong>","No <strong>DevOps</strong>"],k=()=>{e("/login")},f=()=>{e("/login?mode=signup")},m=()=>{e("/login")};return p.useEffect(()=>{(async()=>{try{await A.post("/analytics/track",{eventType:"page_view",eventData:{page:"Landing Page"}})}catch(N){console.error("Failed to track page view:",N)}})()},[]),p.useEffect(()=>{const u=()=>{const N=navigator.userAgent.toLowerCase(),w=/mobile|android|iphone|ipad|phone|tablet/i.test(N)||window.innerWidth<=768;g(w)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),p.useEffect(()=>{const u=()=>{const w=[];for(let L=0;L<50;L++)w.push({id:L,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:Math.random()*2+.5,opacity:Math.random()*.6+.2});l(w)};u();const N=()=>u();return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),p.useEffect(()=>{if(!d)return;const u=setInterval(()=>{i(N=>{const w=N+1;return w>=j.length?(x(!1),clearInterval(u),N):w})},1200);return()=>clearInterval(u)},[j.length]),p.useEffect(()=>{let u=0,N=0;const w=100,P=L=>{const S=Date.now();if(o({x:L.clientX,y:L.clientY}),S-N>w){const M=Math.floor(Math.random()*10)+5,z=[];for(let G=0;G<M;G++){const oe=Math.random()*360,H=Math.random()*100+15,Y=Math.random()*2+1,U=oe*Math.PI/180,le=L.clientX+Math.cos(U)*H,Z=L.clientY+Math.sin(U)*H;z.push({id:u++,x:le,y:Z,size:Y,opacity:1})}r(G=>[...G,...z]),N=S,setTimeout(()=>{r(G=>G.filter(oe=>!z.find(H=>H.id===oe.id)))},600)}};return window.addEventListener("mousemove",P),()=>window.removeEventListener("mousemove",P)},[]),n.jsxs("div",{className:"min-h-screen bg-black relative overflow-hidden font-poppins",children:[s.map(u=>n.jsx("div",{className:"absolute pointer-events-none z-5",style:{left:u.x,top:u.y,transform:"translate(-50%, -50%)"},children:n.jsx("div",{className:"bg-white rounded-full",style:{width:`${u.size}px`,height:`${u.size}px`,opacity:u.opacity,boxShadow:`0 0 ${u.size*3}px ${u.size}px rgba(255, 255, 255, 0.2)`}})},u.id)),t.map(u=>n.jsx("div",{className:"absolute pointer-events-none z-10",style:{left:u.x,top:u.y,transform:"translate(-50%, -50%)"},children:n.jsx("div",{className:"bg-white rounded-full animate-pulse",style:{width:`${u.size}px`,height:`${u.size}px`,opacity:u.opacity,boxShadow:`0 0 ${u.size*2}px ${u.size}px rgba(255, 255, 255, 0.3)`}})},u.id)),n.jsx("header",{className:"bg-black/95 backdrop-blur-sm border-b border-gray-800 sticky top-0 z-50 shadow-sm",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent font-share-tech-mono",children:"QuickStage"})}),n.jsxs("nav",{className:"flex items-center space-x-2 sm:space-x-6",children:[n.jsx("button",{onClick:f,className:"text-gray-300 hover:text-blue-400 px-2 sm:px-3 py-2 text-sm font-medium transition-colors duration-200 font-poppins",children:"Sign Up"}),n.jsx("button",{onClick:m,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-medium py-2 px-4 sm:px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg font-poppins",children:"Log In"})]})]})})}),n.jsxs("section",{className:"relative bg-gradient-to-br from-black via-gray-900 to-black min-h-screen flex items-center justify-center overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/10 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/10 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse"})]}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-8 leading-tight font-inconsolata",children:["Share Working",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400",children:" Prototypes"}),n.jsx("br",{}),"in One Click"]}),d&&n.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-2 leading-relaxed",dangerouslySetInnerHTML:{__html:j[c]||""}}),n.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-10 leading-relaxed",children:"Just your prototype, online in seconds."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[n.jsx("button",{onClick:k,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold py-4 px-10 rounded-xl text-lg transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl font-poppins",children:"Start Staging Free"}),n.jsxs("button",{onClick:()=>y(!0),className:"border-1 border-gray-600 hover:border-gray-500 text-gray-100 font-semibold py-4 px-10 rounded-xl text-lg transition-all duration-300 bg-gray-800/50 hover:bg-gray-700/50 shadow-lg hover:shadow-xl backdrop-blur-sm font-poppins flex items-center justify-center gap-3",children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Quick Video Explainer"]})]})]})})]}),n.jsx("section",{id:"how-it-works",className:"py-32 bg-gradient-to-b from-black/80 to-gray-900/80",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-20",children:[n.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-white mb-6 font-inconsolata",children:"How QuickStage Works"}),n.jsxs("button",{onClick:()=>y(!0),className:"text-xl text-gray-300 hover:text-blue-400 transition-colors duration-200 flex items-center justify-center gap-2 mx-auto font-poppins mb-4",children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Quick Video Explainer"]}),n.jsx("p",{className:"text-lg text-gray-400 max-w-2xl mx-auto font-poppins",children:"Three quick steps to a shareable prototype"})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[n.jsxs("div",{className:"text-center group",children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg group-hover:shadow-xl transition-all duration-300 transform group-hover:scale-110",children:n.jsx("span",{className:"text-3xl font-bold text-white",children:"1"})}),n.jsx("h3",{className:"text-3xl font-semibold text-white mb-4 font-inconsolata",children:"Build Locally"}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Turn your ideas for a new feature or product into a quick prototype – let your favorite AI agent help!"})]}),n.jsxs("div",{className:"text-center group",children:[n.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg group-hover:shadow-xl transition-all duration-300 transform group-hover:scale-110",children:n.jsx("span",{className:"text-3xl font-bold text-white",children:"2"})}),n.jsx("h3",{className:"text-3xl font-semibold text-white mb-4 font-inconsolata",children:"Deploy Instantly"}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"QuickStage adapts to the framework you've used and deploys the project to the web in seconds."})]}),n.jsxs("div",{className:"text-center group",children:[n.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-indigo-600 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg group-hover:shadow-xl transition-all duration-300 transform group-hover:scale-110",children:n.jsx("span",{className:"text-3xl font-bold text-white",children:"3"})}),n.jsx("h3",{className:"text-3xl font-semibold text-white mb-4 font-inconsolata",children:"Share Securely"}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Get a private, password-protected URL to share with your team for comments and input."})]})]})]})}),n.jsx("section",{id:"features",className:"py-32 bg-gradient-to-b from-gray-900/80 to-black/80",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-20",children:[n.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-white mb-6 font-inconsolata",children:"Built for Modern Development"}),n.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto font-poppins",children:"Everything you need to get your prototypes online quickly and securely"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"10-Second Deploys"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Deploy your first prototype in less than 10 seconds. No env management, no CI/CD, no managing environments or deconflicting repos with the development team."})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"Secure by Default"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Password-protected sharing, private by default. No public exposure of your work-in-progress."})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"Real-time Comments"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Get feedback directly on your prototypes with inline comments and real-time collaboration."})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"Framework Agnostic"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Works with React, Vue, Svelte, Next.js, and more. Detects your build system automatically."})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-500 to-purple-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"No Setup, No Config"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Install the extension in Cursor or VS Code and you're ready to go. Stage your first prototype less than 30 seconds after downloading the extension."})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-pink-500 to-pink-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"Ship Ideas, Not PRDs"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Ditch the 10-page requirements docs. If a picture is worth a thousand words, what's a working prototype worth?"})]})]})]})}),n.jsxs("section",{className:"py-24 bg-gradient-to-br from-black via-blue-900/20 to-purple-900/20 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-blue-500/10 via-transparent to-purple-500/10"}),n.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-blue-500/20 rounded-full filter blur-3xl"}),n.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-purple-500/20 rounded-full filter blur-3xl"})]}),n.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8 relative z-10",children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6 font-inconsolata",children:"Ready to Stage Your First Prototype?"}),n.jsx("p",{className:"text-xl text-gray-300 mb-10 leading-relaxed font-poppins",children:"Join dozens of designers, product managers, and developers who are already using QuickStage to shortcut the product development process."}),n.jsx("button",{onClick:k,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold py-4 px-10 rounded-xl text-lg transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl font-poppins",children:"Start Staging Free"})]})]}),b&&n.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"relative max-w-4xl w-full",children:[n.jsx("button",{onClick:()=>y(!1),className:"absolute -top-12 right-0 text-white hover:text-gray-300 text-xl font-bold z-10 bg-black/50 rounded-full w-10 h-10 flex items-center justify-center transition-colors duration-200",children:"✕"}),n.jsx("div",{className:"relative bg-black rounded-lg overflow-hidden shadow-2xl",style:{paddingBottom:"56.25%"},children:n.jsx("iframe",{src:"https://player.vimeo.com/video/1114461563?badge=0&autopause=0&player_id=0&app_id=58479&autoplay=1&dnt=1",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share",referrerPolicy:"strict-origin-when-cross-origin",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},title:"QuickStage - Shortcut the development cycle"})})]})}),n.jsx("footer",{className:"bg-black text-white py-12 font-poppins",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"QuickStage"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"The fastest way to stage and share your product prototypes."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Product"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"#how-it-works",className:"text-gray-300 hover:text-white",children:"How It Works"})}),n.jsx("li",{children:n.jsx("a",{href:"#features",className:"text-gray-300 hover:text-white",children:"Features"})}),n.jsx("li",{children:n.jsx("a",{href:"/pricing",className:"text-gray-300 hover:text-white",children:"Pricing"})}),n.jsx("li",{children:n.jsx("a",{href:"mailto:support@quickstage.tech",className:"text-gray-300 hover:text-white",children:"Contact"})})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:n.jsx("p",{className:"text-gray-400 text-sm",children:"© 2025 QuickStage. All rights reserved."})})]})})]})}function ax(){const e=St(),{user:t,loginWithEmailPassword:r,loginWithGoogle:s,registerWithEmailPassword:l,error:a,clearError:o}=Ct(),[c,i]=p.useState(!1),[d,x]=p.useState(""),[h,g]=p.useState("login"),[b,y]=p.useState(""),[j,k]=p.useState(""),[f,m]=p.useState("");p.useEffect(()=>{if(t){const P=new URLSearchParams(window.location.search),L=P.get("redirect"),S=P.get("plan");e(L==="pricing"&&S?`/pricing?plan=${S}`:"/dashboard")}},[t,e]),p.useEffect(()=>{(async()=>{try{await A.post("/analytics/track",{eventType:"page_view",eventData:{page:"Login/Signup"}})}catch(L){console.error("Failed to track page view:",L)}})()},[]),p.useEffect(()=>{new URLSearchParams(window.location.search).get("mode")==="signup"&&g("register")},[]),p.useEffect(()=>{o(),x("")},[h,o]);const u=async()=>{if(h==="register"&&(!b||!j||!f)){x("Please fill in all fields");return}if(h==="login"&&(!b||!j)){x("Please enter email and password");return}i(!0),x("");try{h==="register"?await l(b.trim(),j,f.trim()):await r(b.trim(),j)}catch(P){console.error("Authentication failed:",P),x(P.message||"Authentication failed")}finally{i(!1)}},N=async()=>{i(!0),x("");try{const P="572150791966-3grv4gjf8d5ngpklfs0b2hdet0d9vaf9.apps.googleusercontent.com";typeof window<"u"&&window.google?window.google.accounts.oauth2.initTokenClient({client_id:P,scope:"email profile",callback:async M=>{if(M.access_token)try{const z=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${M.access_token}`}});if(z.ok){const G=await z.json();await s(M.access_token)}}catch(z){console.error("Failed to get user info:",z),x("Failed to authenticate with Google")}}}).requestAccessToken():x("Google authentication is not available. Please try again later.")}catch(P){console.error("Google authentication failed:",P),x("Google authentication failed")}finally{i(!1)}},w=(P,L)=>{switch(P){case"email":y(L);break;case"password":k(L);break;case"name":m(L);break}d&&x(""),a&&o()};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center px-4 py-12 font-poppins",children:n.jsxs("div",{className:"max-w-md w-full",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl mx-auto flex items-center justify-center",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 font-inconsolata",children:h==="register"?"Create Account":"Welcome Back"}),n.jsx("p",{className:"text-gray-600",children:h==="register"?"Sign up for QuickStage to start sharing your prototypes":"Sign in to your QuickStage account"})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center font-inconsolata",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),h==="register"?"Create Account":"Sign In"]}),h==="register"&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),n.jsx("input",{type:"text",placeholder:"Enter your full name",value:f,onChange:P=>w("name",P.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",placeholder:"Enter your email",value:b,onChange:P=>w("email",P.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsx("input",{type:"password",placeholder:"Enter your password",value:j,onChange:P=>w("password",P.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),n.jsx("button",{onClick:u,disabled:c,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:from-blue-400 disabled:to-indigo-400 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-200 transform hover:scale-[1.02] disabled:transform-none",children:c?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):h==="register"?"Create Account":"Sign In"})]}),n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-200"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"or"})})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("button",{onClick:N,disabled:c,className:"w-full bg-white border-2 border-gray-200 hover:border-gray-300 hover:bg-gray-50 text-gray-700 font-semibold py-3 px-4 rounded-xl transition-all duration-200 transform hover:scale-[1.02] disabled:transform-none flex items-center justify-center",children:[n.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),n.jsx("div",{className:"text-center mb-6",children:n.jsx("button",{onClick:()=>g(h==="login"?"register":"login"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium hover:underline transition-colors duration-200",children:h==="login"?"Don't have an account? Sign up":"Already have an account? Sign in"})}),(d||a)&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d||a]}),n.jsx("div",{className:"text-center",children:n.jsxs("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-700 text-sm font-medium hover:underline transition-colors duration-200 flex items-center justify-center mx-auto",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to landing page"]})})]})]})})}function ox(){var yi,wi,ji,bi,Ni,ki,Si,Ci,Ei,Pi,Li,_i,Ri,Ti,Ai,Mi,Di,zi;const{user:e}=Ct(),[t,r]=p.useState([]),[s,l]=p.useState(!0),[a,o]=p.useState(null),[c,i]=p.useState(!1),[d,x]=p.useState({name:"",email:"",password:"",role:"user"}),[h,g]=p.useState(null),{projects:b,selectedProjectId:y,isSidebarCollapsed:j,loadProjects:k,handleSelectProject:f,handleToggleSidebar:m}=Hm(),[u,N]=p.useState(null),[w,P]=p.useState(!1),[L,S]=p.useState("users"),[M,z]=p.useState(!1),[G,oe]=p.useState([]),[H,Y]=p.useState(!1),[U,le]=p.useState(null),[Z,R]=p.useState("all"),[E,_]=p.useState(!1),[D,V]=p.useState(null),[W,X]=p.useState(null),[ne,te]=p.useState(null),[B,ee]=p.useState([]),[re,Ee]=p.useState("24h"),[_e,Et]=p.useState(null),[vt,_n]=p.useState("asc"),mr=v=>{_e===v?_n(vt==="asc"?"desc":"asc"):(Et(v),_n("asc"))},hr=qn.useMemo(()=>!_e||!t.length?t:[...t].sort((v,$)=>{var nt,Vt,Lt,rt;let K,he;switch(_e){case"name":K=((nt=v.name)==null?void 0:nt.toLowerCase())||"",he=((Vt=$.name)==null?void 0:Vt.toLowerCase())||"";break;case"email":K=((Lt=v.email)==null?void 0:Lt.toLowerCase())||"",he=((rt=$.email)==null?void 0:rt.toLowerCase())||"";break;case"status":K=v.status||"",he=$.status||"";break;case"plan":K=v.plan||"",he=$.plan||"";break;case"createdAt":K=new Date(v.createdAt||0).getTime(),he=new Date($.createdAt||0).getTime();break;case"lastLoginAt":K=new Date(v.lastLoginAt||0).getTime(),he=new Date($.lastLoginAt||0).getTime();break;case"totalSnapshots":K=v.totalSnapshots||0,he=$.totalSnapshots||0;break;default:return 0}return K<he?vt==="asc"?-1:1:K>he?vt==="asc"?1:-1:0}),[t,_e,vt]),Ye=({field:v,children:$})=>n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none",onClick:()=>mr(v),children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{children:$}),_e===v&&n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:vt==="asc"?n.jsx("path",{d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"}):n.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})}),_e!==v&&n.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]})}),[q,ie]=p.useState("all"),[je,Rn]=p.useState("all"),[Me,Ot]=p.useState("all"),[C,O]=p.useState("all"),[J,F]=p.useState(""),[Q,be]=p.useState(""),[Ne,Ml]=p.useState(""),[cs,Jm]=p.useState(""),[Zm,mi]=p.useState(!1),[eh,hi]=p.useState(!1),[th,pi]=p.useState(!1);p.useEffect(()=>{const v=$=>{$.target.closest(".custom-dropdown")||(mi(!1),_(!1),hi(!1),pi(!1))};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const[Pt,nh]=p.useState(null),[Wt,fi]=p.useState(!1),[Tn,rh]=p.useState(null);if(!e||e.role!=="superadmin")return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4 font-inconsolata",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})});p.useEffect(()=>{pr(),us(),Fl(),ds(),(async()=>{try{await A.post("/analytics/track",{eventType:"page_view",eventData:{page:"Admin Dashboard"}})}catch($){console.error("Failed to track page view:",$)}})()},[]),p.useEffect(()=>{re&&us()},[re]);const pr=async()=>{try{l(!0),o(null);const v=await A.get("/admin/users");r(v.users)}catch(v){o(v.message||"Failed to load users")}finally{l(!1)}},ds=async()=>{try{Y(!0),le(null);const v=await A.get("/admin/snapshots");oe(v.snapshots||[])}catch(v){le(v.message||"Failed to load snapshots")}finally{Y(!1)}},us=async()=>{try{P(!0);const[v,$,K]=await Promise.all([A.get("/debug/stats"),A.get("/debug/users"),A.get("/debug/snapshots")]);N(v),V($),X(K),te(v),console.log("Loading most recent analytics events...");const he=await A.get("/debug/analytics/events?limit=500"),nt=(he==null?void 0:he.events)||[];console.log(`Loaded ${nt.length} recent events`),ee(nt)}catch(v){console.error("Failed to load analytics:",v)}finally{P(!1)}},sh=async v=>{v.preventDefault();try{o(null),await A.post("/admin/users",d),g("User created successfully!"),i(!1),x({name:"",email:"",password:"",role:"user"}),pr()}catch($){o($.message||"Failed to create user")}},lh=async v=>{if(confirm("Are you sure you want to deactivate this user?"))try{o(null),await A.post(`/admin/users/${v}/deactivate`),g("User deactivated successfully!"),pr()}catch($){o($.message||"Failed to deactivate user")}},ah=async v=>{try{o(null),await A.post(`/admin/users/${v}/activate`),g("User activated successfully!"),pr()}catch($){o($.message||"Failed to activate user")}},oh=async(v,$)=>{if(!confirm(`⚠️  DANGER: Are you absolutely sure you want to PERMANENTLY DELETE user "${$}"?

This will:
• Remove all their data from the system
• Delete all their snapshots
• Delete all their PATs
• Delete all their comments
• This action CANNOT be undone!

Type "DELETE" to confirm:`))return;if(prompt('Type "DELETE" to confirm permanent deletion:')!=="DELETE"){alert("Deletion cancelled. User data is safe.");return}try{o(null),await Bm.deleteUser(v),g(`User "${$}" has been completely deleted from the system!`),pr()}catch(he){o(he.message||"Failed to delete user")}},ms=v=>new Date(v).toLocaleDateString(),xi=v=>{switch(v){case"Superadmin":return"text-purple-600 bg-purple-100";case"Pro":return"text-green-600 bg-green-100";case"Free Trial":return"text-blue-600 bg-blue-100";case"Cancelled":return"text-red-600 bg-red-100";case"Past Due":return"text-orange-600 bg-orange-100";case"None":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},ih=v=>v.canAccessPro?n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${xi(v.subscriptionStatus)}`,children:v.subscriptionStatus}),v.trialEndsAt&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Trial ends: ",ms(v.trialEndsAt)]}),v.subscriptionStartedAt&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Started: ",ms(v.subscriptionStartedAt)]})]}):n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${xi(v.subscriptionStatus)}`,children:v.subscriptionStatus}),ch=v=>v==="active"?"text-green-600":"text-red-600",Dl=v=>v>=1e6?(v/1e6).toFixed(1)+"M":v>=1e3?(v/1e3).toFixed(1)+"K":v.toString(),dh=v=>({"24h":"Last 24 Hours","7d":"Last 7 Days","30d":"Last 30 Days"})[v]||v,zl=B.filter(v=>{var $;if(!v||!v.eventType||q!=="all"&&v.eventType!==q)return!1;if(je!=="all"){if(je.includes("(")&&je.includes(")")){const K=je.match(/\(([^)]+)\)/);if(K&&v.userId!==K[1])return console.log("Filtered out by user filter (email format):",v.userId,"vs",K[1]),!1}else if(v.userId!==je)return console.log("Filtered out by user filter:",v.userId,"vs",je),!1}if(Me!=="all"){const K=v.page||(($=v.eventData)==null?void 0:$.page);if(K!==Me)return console.log("Filtered out by page filter:",K,"vs",Me),!1}if(C!=="all"&&v.timestamp){const K=v.timestamp;switch(C){case"before":if(J&&K>=new Date(J).getTime())return console.log("Filtered out by time (before):",K,"vs",new Date(J).getTime()),!1;break;case"after":if(Q&&K<=new Date(Q).getTime())return console.log("Filtered out by time (after):",K,"vs",new Date(Q).getTime()),!1;break;case"between":if(Ne&&K<new Date(Ne).getTime())return console.log("Filtered out by time (between start):",K,"vs",new Date(Ne).getTime()),!1;if(cs&&K>new Date(cs).getTime())return console.log("Filtered out by time (between end):",K,"vs",new Date(cs).getTime()),!1;break}}return!0});console.log("Recent Events Debug:"),console.log("- Total recentEvents:",B.length),console.log("- Filtered events:",zl.length),console.log("- Current filters:",{eventTypeFilter:q,userFilter:je,pageFilter:Me,timeFilterType:C}),B.length>0&&console.log("- Sample event:",B[0]);const hs=({label:v,value:$,options:K,onChange:he,isOpen:nt,setIsOpen:Vt})=>{const Lt=K.find(rt=>rt.value===$);return n.jsxs("div",{className:"relative custom-dropdown",children:[n.jsxs("button",{type:"button",onClick:()=>Vt(!nt),className:"inline-flex items-center justify-between w-full px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 min-w-[200px]",children:[n.jsx("span",{className:"text-gray-700",children:(Lt==null?void 0:Lt.label)||v}),n.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${nt?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),nt&&n.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:n.jsx("div",{className:"py-1 max-h-60 overflow-auto",children:K.map(rt=>n.jsx("button",{type:"button",onClick:()=>{he(rt.value),Vt(!1)},className:`w-full px-4 py-2 text-sm text-left hover:bg-gray-50 transition-colors duration-150 first:rounded-t-lg last:rounded-b-lg ${rt.value===$?"bg-blue-50 text-blue-700 font-medium":"text-gray-700"}`,children:rt.label},rt.value))})})]})},uh=v=>{switch(v){case"user_login":return"bg-blue-100 text-blue-800 border-blue-200";case"user_logout":return"bg-slate-100 text-slate-800 border-slate-200";case"user_registered":return"bg-green-100 text-green-800 border-green-200";case"user_deleted":return"bg-red-100 text-red-800 border-red-200";case"snapshot_created":return"bg-purple-100 text-purple-800 border-purple-200";case"snapshot_viewed":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"snapshot_downloaded":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"snapshot_deleted":return"bg-red-100 text-red-800 border-red-200";case"snapshot_expired":return"bg-amber-100 text-amber-800 border-amber-200";case"page_view":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"comment_created":case"comment_posted":return"bg-teal-100 text-teal-800 border-teal-200";case"comment_replied":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"comment_edited":case"comment_updated":return"bg-teal-100 text-teal-800 border-teal-200";case"comment_deleted":return"bg-red-100 text-red-800 border-red-200";case"comment_resolved":return"bg-green-100 text-green-800 border-green-200";case"comment_archived":return"bg-amber-100 text-amber-800 border-amber-200";case"comments_bulk_resolved":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"comment_subscription_added":return"bg-blue-100 text-blue-800 border-blue-200";case"comment_subscription_removed":return"bg-orange-100 text-orange-800 border-orange-200";case"comment_subscription_activated":return"bg-green-100 text-green-800 border-green-200";case"comment_subscription_paused":return"bg-gray-100 text-gray-800 border-gray-200";case"project_created":return"bg-purple-100 text-purple-800 border-purple-200";case"project_updated":return"bg-blue-100 text-blue-800 border-blue-200";case"project_deleted":return"bg-red-100 text-red-800 border-red-200";case"project_archived":return"bg-amber-100 text-amber-800 border-amber-200";case"project_unarchived":return"bg-lime-100 text-lime-800 border-lime-200";case"review_requested":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"review_approved":return"bg-green-100 text-green-800 border-green-200";case"review_rejected":return"bg-red-100 text-red-800 border-red-200";case"review_submitted":return"bg-green-100 text-green-800 border-green-200";case"review_cancelled":return"bg-orange-100 text-orange-800 border-orange-200";case"review_reminder_sent":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"subscription_started":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"subscription_cancelled":return"bg-orange-100 text-orange-800 border-orange-200";case"subscription_expired":return"bg-red-100 text-red-800 border-red-200";case"payment_succeeded":return"bg-green-100 text-green-800 border-green-200";case"payment_failed":return"bg-red-100 text-red-800 border-red-200";case"migration_completed":return"bg-blue-100 text-blue-800 border-blue-200";case"user_migration_completed":return"bg-blue-100 text-blue-800 border-blue-200";case"snapshot_migration_completed":return"bg-blue-100 text-blue-800 border-blue-200";case"system_backup":return"bg-violet-100 text-violet-800 border-violet-200";case"system_maintenance":return"bg-amber-100 text-amber-800 border-amber-200";case"extension_downloaded":return"bg-green-100 text-green-800 border-green-200";case"extension_upgraded":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"error_occurred":return"bg-red-100 text-red-800 border-red-200";case"unauthorized_access":return"bg-red-100 text-red-800 border-red-200";case"rate_limit_exceeded":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},mh=v=>{var K,he,nt,Vt,Lt,rt,Fi,Ii,Ui,$i,Bi,Oi,Wi,Vi,Hi,Qi,qi;if(!v||!v.eventType)return"Unknown event";const $=v.description;if($)return $;switch(v.eventType){case"page_view":return`Viewed page: ${v.page||((K=v.eventData)==null?void 0:K.page)||"Unknown page"}`;case"user_login":return"User logged in";case"user_logout":return"User logged out";case"user_registered":return"New user registered";case"snapshot_created":return"Snapshot created";case"snapshot_viewed":return"Snapshot viewed";case"snapshot_downloaded":return"Snapshot downloaded";case"comment_posted":return"Comment posted";case"comment_updated":return"Comment updated";case"comment_resolved":return"Comment resolved";case"comments_bulk_resolved":return"Multiple comments resolved";case"project_created":return`Project created: ${((he=v.eventData)==null?void 0:he.projectName)||"Unknown project"}`;case"project_updated":return`Project updated: ${((nt=v.eventData)==null?void 0:nt.projectName)||"Unknown project"}`;case"project_deleted":return`Project deleted: ${((Vt=v.eventData)==null?void 0:Vt.projectName)||"Unknown project"}`;case"project_archived":return`Project archived: ${((Lt=v.eventData)==null?void 0:Lt.projectName)||"Unknown project"}`;case"project_unarchived":return`Project unarchived: ${((rt=v.eventData)==null?void 0:rt.projectName)||"Unknown project"}`;case"review_requested":return`Review requested for snapshot: ${((Fi=v.eventData)==null?void 0:Fi.snapshotName)||((Ii=v.eventData)==null?void 0:Ii.snapshotId)||"Unknown snapshot"}`;case"review_submitted":return`Review submitted for snapshot: ${((Ui=v.eventData)==null?void 0:Ui.snapshotName)||(($i=v.eventData)==null?void 0:$i.snapshotId)||"Unknown snapshot"}`;case"review_cancelled":return`Review cancelled for snapshot: ${((Bi=v.eventData)==null?void 0:Bi.snapshotName)||((Oi=v.eventData)==null?void 0:Oi.snapshotId)||"Unknown snapshot"}`;case"review_reminder_sent":return`Review reminder sent for snapshot: ${((Wi=v.eventData)==null?void 0:Wi.snapshotName)||((Vi=v.eventData)==null?void 0:Vi.snapshotId)||"Unknown snapshot"}`;case"subscription_started":return"Subscription started";case"subscription_cancelled":return"Subscription cancelled";case"payment_succeeded":return"Payment successful";case"payment_failed":return"Payment failed";case"extension_downloaded":return`Extension downloaded: ${((Hi=v.metadata)==null?void 0:Hi.version)||"Unknown version"}`;case"extension_upgraded":return`Extension upgraded: ${((Qi=v.metadata)==null?void 0:Qi.version)||"Unknown version"}`;case"error_occurred":return`Error: ${((qi=v.metadata)==null?void 0:qi.error)||"Unknown error"}`;case"unauthorized_access":return"Unauthorized access attempt";default:return`${v.eventType.charAt(0).toUpperCase()+v.eventType.slice(1).replace(/_/g," ")}`}},hh=["all","user_login","user_logout","user_registered","user_deleted","snapshot_created","snapshot_viewed","snapshot_downloaded","snapshot_deleted","snapshot_expired","page_view","comment_posted","comment_deleted","comment_updated","comment_resolved","comments_bulk_resolved","project_created","project_updated","project_deleted","project_archived","project_unarchived","review_requested","review_submitted","review_cancelled","review_reminder_sent","subscription_started","subscription_cancelled","subscription_expired","payment_succeeded","payment_failed","migration_completed","user_migration_completed","snapshot_migration_completed","system_backup","system_maintenance","extension_downloaded","extension_upgraded","error_occurred","unauthorized_access","rate_limit_exceeded",...Array.from(new Set(B.map(v=>v==null?void 0:v.type).filter(Boolean)))],ph=["all",...Array.from(new Set(B.map(v=>v!=null&&v.userId&&(v==null?void 0:v.userId)!=="system"&&(v==null?void 0:v.userId)!=="anonymous"?`${v.userEmail||"Unknown"} (${v.userId})`:v==null?void 0:v.userId).filter(Boolean)))],fh=(()=>{const v=B.map(K=>K==null?void 0:K.page).filter(Boolean);return["all",...Array.from(new Set(v))]})(),gi=qn.useMemo(()=>Z==="all"?G:G.filter(v=>v.ownerUid===Z),[G,Z]),vi=qn.useMemo(()=>{const v=new Map;return G.forEach($=>{$.ownerUid&&$.ownerName&&v.set($.ownerUid,{uid:$.ownerUid,name:$.ownerName,email:$.ownerEmail||"Unknown Email"})}),Array.from(v.values()).sort(($,K)=>$.name.localeCompare(K.name))},[G]),Fl=async()=>{try{const v=await A.get("/debug/migration/stats");nh(v)}catch(v){console.error("Failed to load migration stats:",v)}},ps=async(v,$=!0)=>{try{fi(!0),o(null);const K=v==="full"?"/debug/migration/run":v==="users"?"/debug/migration/users":"/debug/migration/snapshots",he=await A.post(K,{dryRun:$,batchSize:50,skipErrors:!0,verbose:!0});rh(he),g(`${v} migration ${$?"dry run":"completed"}: ${he.result.migrated} migrated, ${he.result.errors} errors`),await Fl()}catch(K){o(K.message||`Failed to run ${v} migration`)}finally{fi(!1)}};if(s)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})});const xh=()=>{};return n.jsxs("div",{className:"min-h-screen bg-gray-50 font-poppins",children:[n.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx($e,{to:"/dashboard",className:"flex items-center",children:n.jsx("span",{className:"text-xl font-share-tech-mono font-bold text-gray-900",children:"QuickStage"})}),n.jsx("button",{onClick:()=>z(!M),className:"ml-4 p-2 rounded-md text-gray-600 hover:bg-gray-100 lg:hidden",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(di,{}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-sm text-gray-700",children:e.name}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Superadmin"}),n.jsx("button",{onClick:xh,className:"text-gray-400 hover:text-gray-500",title:"Sign out",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})}),n.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[n.jsx("div",{className:`${M?"block":"hidden"} lg:block flex-shrink-0`,children:n.jsx(ui,{projects:b,selectedProjectId:y,onSelectProject:f,onRefreshProjects:k,user:e,isCollapsed:j,onToggleCollapse:m})}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-inconsolata",children:"Admin Dashboard"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Manage QuickStage users and accounts"})]})})}),h&&n.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm font-medium text-green-800",children:h})}),n.jsx("div",{className:"ml-auto pl-3",children:n.jsxs("button",{onClick:()=>g(null),className:"inline-flex bg-green-50 rounded-md p-1.5 text-green-500 hover:bg-green-100",children:[n.jsx("span",{className:"sr-only",children:"Dismiss"}),n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}),a&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm font-medium text-red-800",children:a})}),n.jsx("div",{className:"ml-auto pl-3",children:n.jsxs("button",{onClick:()=>o(null),className:"inline-flex bg-red-50 rounded-md p-1.5 text-red-500 hover:bg-red-100",children:[n.jsx("span",{className:"sr-only",children:"Dismiss"}),n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}),n.jsx("div",{className:"mb-6 border-b border-gray-200",children:n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsxs("button",{onClick:()=>S("users"),className:`py-2 px-1 border-b-2 font-medium text-sm ${L==="users"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Users (",t.length,")"]}),n.jsxs("button",{onClick:()=>S("snapshots"),className:`py-2 px-1 border-b-2 font-medium text-sm ${L==="snapshots"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📸 Snapshots (",G.length,")"]}),n.jsx("button",{onClick:()=>S("analytics"),className:`py-2 px-1 border-b-2 font-medium text-sm ${L==="analytics"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"📊 Analytics & System Stats"})]})}),c&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4 font-inconsolata",children:"Create New User"}),n.jsxs("form",{onSubmit:sh,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),n.jsx("input",{type:"text",required:!0,value:d.name,onChange:v=>x({...d,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",required:!0,value:d.email,onChange:v=>x({...d,email:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsx("input",{type:"password",required:!0,value:d.password,onChange:v=>x({...d,password:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),n.jsxs("select",{value:d.role,onChange:v=>x({...d,role:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:"Create User"})]})]})]})})}),L==="users"?n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[n.jsx("div",{className:"px-4 py-5 sm:px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:["Users (",t.length,")"]}),n.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors",children:"Create New User"})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx(Ye,{field:"name",children:"User"}),n.jsx(Ye,{field:"status",children:"Account Status"}),n.jsx(Ye,{field:"plan",children:"Subscription"}),n.jsx(Ye,{field:"createdAt",children:"First Login"}),n.jsx(Ye,{field:"lastLoginAt",children:"Last Login"}),n.jsx(Ye,{field:"totalSnapshots",children:"Snapshots"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:hr.map(v=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),n.jsx("div",{className:"text-sm text-gray-500",children:v.email}),n.jsxs("div",{className:"text-xs text-gray-400",children:["Role: ",v.role]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ch(v.status)}`,children:v.status==="active"?"Active":"Deactivated"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ih(v)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ms(v.createdAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.lastLoginAt?ms(v.lastLoginAt):"Never"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{children:[v.activeSnapshots,"/",v.totalSnapshots]}),v.totalSnapshots>0&&v.activeSnapshots===0&&n.jsx("span",{className:"text-xs text-amber-600",title:"Debug: Check snapshot status and expiration",children:"⚠️ All snapshots show as inactive"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex flex-col space-y-2",children:[v.status==="active"?n.jsx("button",{onClick:()=>lh(v.uid),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md text-amber-700 bg-amber-100 hover:bg-amber-200 border border-amber-300 transition-colors",title:"Temporarily disable user account (reversible)",children:"⏸️ Deactivate"}):n.jsx("button",{onClick:()=>ah(v.uid),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 border border-green-300 transition-colors",title:"Re-enable user account",children:"▶️ Activate"}),v.role!=="superadmin"&&n.jsx("button",{onClick:()=>oh(v.uid,v.name),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md text-gray-700 bg-gray-100 hover:bg-gray-200 border border-gray-300 transition-colors",title:"Permanently delete user and all their data (irreversible)",children:"🗑️ Delete"})]})})]},v.uid))})]})})]}):L==="snapshots"?n.jsx("div",{className:"space-y-6",children:H?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):U?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-red-600 mb-4",children:U}),n.jsx("button",{onClick:ds,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):n.jsxs(n.Fragment,{children:[(e==null?void 0:e.role)==="superadmin"&&n.jsxs("div",{className:"bg-white shadow rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 font-inconsolata",children:"Filter by User"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Showing ",gi.length," of ",G.length," snapshots"]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative custom-dropdown",children:[n.jsxs("button",{type:"button",onClick:()=>_(!E),className:"inline-flex items-center justify-between w-full px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 min-w-[300px]",children:[n.jsx("span",{className:"text-gray-700",children:Z==="all"?"All Users":((yi=vi.find(v=>v.uid===Z))==null?void 0:yi.name)||"Unknown User"}),n.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${E?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),E&&n.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:n.jsxs("div",{className:"py-1 max-h-60 overflow-auto",children:[n.jsx("button",{type:"button",onClick:()=>{R("all"),_(!1)},className:`w-full px-4 py-2 text-sm text-left hover:bg-gray-50 transition-colors duration-150 first:rounded-t-lg ${Z==="all"?"bg-blue-50 text-blue-700 font-medium":"text-gray-700"}`,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:"All Users"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Show all snapshots"})]})}),vi.map(v=>n.jsx("button",{type:"button",onClick:()=>{R(v.uid),_(!1)},className:`w-full px-4 py-2 text-sm text-left hover:bg-gray-50 transition-colors duration-150 last:rounded-b-lg ${Z===v.uid?"bg-blue-50 text-blue-700 font-medium":"text-gray-700"}`,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:v.name}),n.jsx("span",{className:"text-xs text-gray-500",children:v.email})]})},v.uid))]})})]}),Z!=="all"&&n.jsx("button",{onClick:()=>R("all"),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Clear Filter"})]})]}),n.jsx(Vm,{snapshots:gi,projects:b,onRefresh:ds,onExtendSnapshot:async v=>{try{await A.post(`/api/snapshots/${v}/extend`),ds(),g("Snapshot extended successfully")}catch{o("Failed to extend snapshot")}},selectedProjectId:y,onSelectProject:f,showWidgets:!0,showExtensionSection:!1,user:e,title:"All Snapshots"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:"🚀 System Overview"}),n.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Real-time system statistics and performance metrics"})]}),n.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:w?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading comprehensive analytics..."})]}):u?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-blue-600 font-inconsolata",children:"Total Users"}),n.jsx("p",{className:"text-2xl font-bold text-blue-900",children:Dl(((wi=u.system)==null?void 0:wi.totalUsers)||0)})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6l.586-.586a2 2 0 012.828 0L20 8m-6-6L12.586 1.586a2 2 0 00-2.828 0L6 2m-6-6L1.586 1.586a2 2 0 00-2.828 0L2 2"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-purple-600 font-inconsolata",children:"Total Snapshots"}),n.jsx("p",{className:"text-2xl font-bold text-purple-900",children:Dl(((ji=u.system)==null?void 0:ji.totalSnapshots)||0)})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-green-600 font-inconsolata",children:"Active Sessions"}),n.jsx("p",{className:"text-2xl font-bold text-green-900",children:Dl(((bi=u.system)==null?void 0:bi.activeSessions)||0)})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-orange-600 font-inconsolata",children:"System Health"}),n.jsx("p",{className:"text-2xl font-bold text-orange-900",children:w?"⏳ Loading...":u?"🟢 Healthy":"❌ Error"})]})]})})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-600",children:"No analytics data available"}),n.jsx("button",{onClick:us,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Refresh Analytics"})]})})]}),n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsx("div",{className:"px-4 py-5 sm:px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:"💳 Subscription Analytics"}),n.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Detailed subscription breakdown and revenue insights"})]}),n.jsx("div",{className:"flex space-x-2",children:["24h","7d","30d"].map(v=>n.jsx("button",{onClick:()=>Ee(v),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${re===v?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:dh(v)},v))})]})}),n.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:u?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-lg p-4 border border-emerald-200",children:[n.jsx("h4",{className:"text-sm font-medium text-emerald-900 font-inconsolata mb-3",children:"📊 Subscription Status"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:"🆓 Free:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((Ni=u.subscriptions)==null?void 0:Ni.free)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:"🧪 Trial:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((ki=u.subscriptions)==null?void 0:ki.trial)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:"✅ Active:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((Si=u.subscriptions)==null?void 0:Si.active)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:"❌ Cancelled:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((Ci=u.subscriptions)==null?void 0:Ci.cancelled)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:"⚠️ Past Due:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((Ei=u.subscriptions)==null?void 0:Ei.pastDue)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:"👑 Superadmin:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((Pi=u.subscriptions)==null?void 0:Pi.superadmin)||0})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-900 font-inconsolata mb-3",children:"💰 Revenue Metrics"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-blue-700",children:"Trial Users:"}),n.jsx("span",{className:"font-semibold text-blue-900",children:((Li=u.subscriptions)==null?void 0:Li.trial)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-blue-700",children:"Conversion Rate:"}),n.jsxs("span",{className:"font-semibold text-blue-900",children:[(_i=u.subscriptions)!=null&&_i.active&&((Ri=u.subscriptions)!=null&&Ri.trial)?Math.round(u.subscriptions.active/(u.subscriptions.active+u.subscriptions.trial)*100):0,"%"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-blue-700",children:"Churn Rate:"}),n.jsxs("span",{className:"font-semibold text-blue-900",children:[(Ti=u.subscriptions)!=null&&Ti.cancelled&&((Ai=u.subscriptions)!=null&&Ai.active)?Math.round(u.subscriptions.cancelled/(u.subscriptions.active+u.subscriptions.cancelled)*100):0,"%"]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[n.jsx("h4",{className:"text-sm font-medium text-purple-900 font-inconsolata mb-3",children:"📈 Growth Trends"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-purple-700",children:"Total Users:"}),n.jsx("span",{className:"font-semibold text-purple-900",children:((Mi=u.system)==null?void 0:Mi.totalUsers)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-purple-700",children:"Active Subscriptions:"}),n.jsx("span",{className:"font-semibold text-purple-900",children:((Di=u.subscriptions)==null?void 0:Di.active)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-purple-700",children:"Trial Users:"}),n.jsx("span",{className:"font-semibold text-purple-900",children:((zi=u.subscriptions)==null?void 0:zi.trial)||0})]})]})]})]}):null})]}),n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:"📋 Recent Activity Feed"}),n.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Live feed of system events and user activities"})]}),n.jsx("button",{onClick:async()=>{try{P(!0),console.log("Refreshing with most recent events...");const v=await A.get("/debug/analytics/events?limit=500&fullRetrieval=true"),$=(v==null?void 0:v.events)||[];console.log(`Refresh found ${$.length} recent events`),ee($)}catch(v){console.error("Failed to refresh activity feed:",v)}finally{P(!1)}},disabled:w,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:w?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin -ml-1 mr-2 h-4 w-4 border-2 border-gray-300 border-t-blue-600 rounded-full"}),"Refreshing..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"-ml-1 mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh All"]})})]}),n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx(hs,{label:"All Event Types",value:q,options:hh.map(v=>({value:v,label:v==="all"?"All Event Types":v})),onChange:ie,isOpen:Zm,setIsOpen:mi}),n.jsx(hs,{label:"All Users",value:je,options:ph.map(v=>({value:v,label:v==="all"?"All Users":v})),onChange:Rn,isOpen:E,setIsOpen:_}),n.jsx(hs,{label:"All Pages",value:Me,options:fh.map(v=>({value:v,label:v==="all"?"All Pages":v})),onChange:Ot,isOpen:eh,setIsOpen:hi})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx(hs,{label:"All Time",value:C,options:[{value:"all",label:"All Time"},{value:"before",label:"Before"},{value:"after",label:"After"},{value:"between",label:"Between"}],onChange:v=>O(v),isOpen:th,setIsOpen:pi}),C==="before"&&n.jsx("input",{type:"datetime-local",value:J,onChange:v=>F(v.target.value),className:"px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Select date and time"}),C==="after"&&n.jsx("input",{type:"datetime-local",value:Q,onChange:v=>be(v.target.value),className:"px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Select date and time"}),C==="between"&&n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"datetime-local",value:Ne,onChange:v=>Ml(v.target.value),className:"px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Start date and time"}),n.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"to"}),n.jsx("input",{type:"datetime-local",value:cs,onChange:v=>Jm(v.target.value),className:"px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"End date and time"})]})]})]})]}),n.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:w?n.jsx("div",{className:"text-center py-8",children:n.jsxs("div",{className:"inline-flex items-center",children:[n.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-gray-300 border-t-blue-600 rounded-full"}),n.jsx("span",{className:"text-gray-600",children:"Loading recent activity..."})]})}):zl.length>0?n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:zl.map((v,$)=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium border ${uh(v.eventType)}`,children:v.eventType}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-900 font-medium",children:mh(v)}),v.userId&&v.userId!=="system"&&v.userId!=="anonymous"&&n.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-xs text-gray-500",children:[n.jsxs("span",{children:["User: ",v.userName||"Unknown"]}),n.jsxs("span",{children:["ID: ",v.userId]}),v.userEmail&&n.jsxs("span",{children:["Email: ",v.userEmail]})]})]}),n.jsx("div",{className:"text-xs text-gray-500 ml-4",children:new Date(v.timestamp).toLocaleString()})]})})]},$))}):n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-600",children:B.length===0?"No recent events available":"No events match the current filters"})})})]}),n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:"🔄 Data Migration System"}),n.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Migrate legacy user and snapshot data to new schema"})]}),n.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:Pt?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-900 font-inconsolata mb-3",children:"📊 Migration Status"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-blue-700 mb-2",children:"Users"}),n.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[Pt.stats.migratedUsers,"/",Pt.stats.totalUsers]}),n.jsxs("div",{className:"text-xs text-blue-600",children:[Pt.stats.legacyUsers," legacy users remaining"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-blue-700 mb-2",children:"Snapshots"}),n.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[Pt.stats.migratedSnapshots,"/",Pt.stats.totalSnapshots]}),n.jsxs("div",{className:"text-xs text-blue-600",children:[Pt.stats.legacySnapshots," legacy snapshots remaining"]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex justify-between text-sm text-blue-700 mb-1",children:[n.jsx("span",{children:"Overall Progress"}),n.jsxs("span",{children:[Pt.summary.migrationProgress,"%"]})]}),n.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Pt.summary.migrationProgress}%`}})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:()=>ps("users",!0),disabled:Wt,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 disabled:opacity-50 transition-colors",children:[Wt?"⏳":"👥"," Test User Migration"]}),n.jsxs("button",{onClick:()=>ps("snapshots",!0),disabled:Wt,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-purple-700 bg-purple-100 hover:bg-purple-200 disabled:opacity-50 transition-colors",children:[Wt?"⏳":"📸"," Test Snapshot Migration"]}),n.jsxs("button",{onClick:()=>ps("full",!0),disabled:Wt,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 disabled:opacity-50 transition-colors",children:[Wt?"⏳":"🚀"," Test Full Migration"]}),n.jsxs("button",{onClick:()=>{confirm("⚠️  FINAL CONFIRMATION: This will run the ACTUAL migration and update all legacy data to the new schema. This action cannot be undone. Are you absolutely sure?")&&confirm('🚨 LAST CHANCE: This will permanently modify your database. Type "MIGRATE" to confirm:')&&(prompt('Type "MIGRATE" to confirm actual migration:')==="MIGRATE"?ps("full",!1):alert("Migration cancelled. Data is safe."))},disabled:Wt,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 disabled:opacity-50 transition-colors font-bold",children:[Wt?"⏳":"🔥"," RUN ACTUAL MIGRATION"]})]}),Tn&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 font-inconsolata mb-3",children:"📋 Migration Results"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Migrated:"}),n.jsx("span",{className:"font-semibold text-green-600",children:Tn.result.migrated})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Errors:"}),n.jsx("span",{className:"font-semibold text-red-600",children:Tn.result.errors})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Duration:"}),n.jsxs("span",{className:"font-semibold text-gray-900",children:[Tn.result.duration,"ms"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Success:"}),n.jsx("span",{className:`font-semibold ${Tn.result.success?"text-green-600":"text-red-600"}`,children:Tn.result.success?"✅ Yes":"❌ No"})]})]})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-600",children:"Loading migration statistics..."}),n.jsx("button",{onClick:Fl,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Refresh Migration Stats"})]})})]}),n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:"🚀 Quick Actions & Debug Tools"}),n.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Direct access to system tools and data export"})]}),n.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx("button",{onClick:async()=>{try{const v=await A.get("/debug/stats"),$=window.open("","_blank");$&&$.document.write(`
                            <html>
                              <head><title>Raw Stats API</title></head>
                              <body>
                                <h1>Raw Stats API Response</h1>
                                <pre>${JSON.stringify(v,null,2)}</pre>
                              </body>
                            </html>
                          `)}catch(v){alert("Failed to fetch stats: "+v)}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 transition-colors",children:"📊 Raw Stats API"}),n.jsx("button",{onClick:async()=>{try{const v=await A.get("/debug/analytics/events?limit=500"),$=window.open("","_blank");$&&$.document.write(`
                            <html>
                              <head><title>Analytics Events</title></head>
                              <body>
                                <h1>Analytics Events</h1>
                                <pre>${JSON.stringify(v,null,2)}</pre>
                              </body>
                            </html>
                          `)}catch(v){alert("Failed to fetch analytics events: "+v)}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 transition-colors",children:"📊 Analytics Events"}),n.jsx("button",{onClick:async()=>{try{const v=await A.get("/debug/health"),$=window.open("","_blank");$&&$.document.write(`
                            <html>
                              <head><title>System Health</title></head>
                              <body>
                                <h1>System Health</h1>
                                <pre>${JSON.stringify(v,null,2)}</pre>
                              </body>
                            </html>
                          `)}catch(v){alert("Failed to fetch system health: "+v)}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-purple-700 bg-purple-100 hover:bg-purple-200 transition-colors",children:"🏥 System Health"}),n.jsx("button",{onClick:us,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-orange-700 bg-orange-100 hover:bg-orange-200 transition-colors",children:"🔄 Refresh All Data"})]})})]})]})]})})]})]})}var qm="basil",ix=function(t){return t===3?"v3":t},Gm="https://js.stripe.com",cx="".concat(Gm,"/").concat(qm,"/stripe.js"),dx=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,ux=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var mx=function(t){return dx.test(t)||ux.test(t)},hx=function(){for(var t=document.querySelectorAll('script[src^="'.concat(Gm,'"]')),r=0;r<t.length;r++){var s=t[r];if(mx(s.src))return s}return null},fd=function(t){var r="",s=document.createElement("script");s.src="".concat(cx).concat(r);var l=document.head||document.body;if(!l)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return l.appendChild(s),s},px=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:r})},kr=null,Ts=null,As=null,fx=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},xx=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},gx=function(t){return kr!==null?kr:(kr=new Promise(function(r,s){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var l=hx();if(!(l&&t)){if(!l)l=fd(t);else if(l&&As!==null&&Ts!==null){var a;l.removeEventListener("load",As),l.removeEventListener("error",Ts),(a=l.parentNode)===null||a===void 0||a.removeChild(l),l=fd(t)}}As=xx(r,s),Ts=fx(s),l.addEventListener("load",As),l.addEventListener("error",Ts)}catch(o){s(o);return}}),kr.catch(function(r){return kr=null,Promise.reject(r)}))},vx=function(t,r,s){if(t===null)return null;var l=r[0],a=l.match(/^pk_test/),o=ix(t.version),c=qm;a&&o!==c&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(c,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var i=t.apply(void 0,r);return px(i,s),i},Sr,Ym=!1,Km=function(){return Sr||(Sr=gx(null).catch(function(t){return Sr=null,Promise.reject(t)}),Sr)};Promise.resolve().then(function(){return Km()}).catch(function(e){Ym||console.warn(e)});var xd=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];Ym=!0;var l=Date.now();return Km().then(function(a){return vx(a,r,l)})};function gd({plan:e,onSuccess:t,onError:r,disabled:s,requiresAuth:l,onAuthRequired:a}){const[o,c]=p.useState(!1),[i,d]=p.useState(!1);p.useEffect(()=>{(async()=>{try{console.log("🍎 Checking Apple Pay availability..."),console.log("🔑 Stripe public key:",kt.STRIPE_PUBLIC_KEY);const g=await xd(kt.STRIPE_PUBLIC_KEY);if(!g){console.error("❌ Stripe failed to load");return}console.log("✅ Stripe loaded successfully");const y=await g.paymentRequest({country:"US",currency:"usd",total:{label:`QuickStage Pro - ${e==="monthly"?"Monthly":"Annual"}`,amount:e==="monthly"?600:6e3},requestPayerName:!0,requestPayerEmail:!0}).canMakePayment();console.log("🔍 Payment request result:",y),console.log("🍎 Apple Pay available:",!!(y!=null&&y.applePay)),c(!!(y!=null&&y.applePay))}catch(g){console.error("❌ Error checking Apple Pay availability:",g)}})()},[e]);const x=async()=>{if(!(s||i)){if(l){a==null||a();return}d(!0);try{const h=await xd(kt.STRIPE_PUBLIC_KEY);if(!h)throw new Error("Stripe not loaded");const g=h.paymentRequest({country:"US",currency:"usd",total:{label:`QuickStage Pro - ${e==="monthly"?"Monthly":"Annual"}`,amount:e==="monthly"?600:6e3},requestPayerName:!0,requestPayerEmail:!0});g.on("paymentmethod",async b=>{try{const y=await fetch("/api/billing/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({plan:e,payment_method_id:b.paymentMethod.id,payment_type:"apple_pay"})});if(!y.ok){const k=await y.json();throw new Error(k.details||"Failed to create subscription")}if((await y.json()).success)b.complete("success"),t==null||t();else throw new Error("Subscription creation failed")}catch(y){console.error("Apple Pay payment failed:",y),b.complete("fail"),r==null||r(y.message)}}),g.show()}catch(h){console.error("Apple Pay error:",h),r==null||r(h.message)}finally{d(!1)}}};return o?n.jsx("button",{onClick:x,disabled:s||i,className:"w-full mt-4 bg-black hover:bg-gray-800 text-white font-medium py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",style:{backgroundColor:"#000",borderRadius:"8px"},children:i?"Processing...":n.jsxs("div",{className:"flex items-center",children:[n.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M13.25 7.5c-.414 0-.75.336-.75.75s.336.75.75.75c1.792 0 3.25 1.458 3.25 3.25S15.042 15.5 13.25 15.5c-1.792 0-3.25-1.458-3.25-3.25V8.25c0-.414-.336-.75-.75-.75s-.75.336-.75.75V12.25C8.5 15.564 11.186 18.25 14.5 18.25S20.5 15.564 20.5 12.25 17.814 6.25 14.5 6.25h-1.25z"}),n.jsx("path",{d:"M6.75 12.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75c-1.792 0-3.25-1.458-3.25-3.25S4.958 4.5 6.75 4.5c1.792 0 3.25 1.458 3.25 3.25v4c0 .414.336.75.75.75s.75-.336.75-.75v-4C11.5 4.436 8.814 1.75 5.5 1.75S-.5 4.436-.5 7.75 2.186 13.75 5.5 13.75h1.25z"})]}),"Pay"]})}):null}function yx(){const e=St(),t=fn(),{user:r}=Ct(),[s,l]=p.useState(!1),a=new URLSearchParams(t.search),o=a.get("mode")||"upgrade",c=a.get("plan"),i=o==="trial";p.useEffect(()=>{r&&c&&(c==="monthly"||c==="annual")&&setTimeout(()=>{d(c)},500)},[r,c]);const d=async b=>{if(!r){e(`/login?mode=signup&plan=${b}&redirect=pricing`);return}l(!0);try{const y=i?"/billing/start-trial":"/billing/subscribe",j={plan:b},k=await A.post(y,j);if(k.url)window.location.href=k.url;else throw new Error("No checkout URL received")}catch(y){console.error("Failed to create checkout session:",y),alert(`Failed to start checkout: ${y.message}`)}finally{l(!1)}},x=6,h=60,g=Math.round((x*12-h)/(x*12)*100);return n.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8 font-poppins",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-inconsolata",children:"Choose Your QuickStage Pro Plan"}),n.jsx("p",{className:"mt-4 text-lg text-gray-600",children:i?"Start your 7-day free trial with either plan - cancel anytime":r?"Upgrade to QuickStage Pro for unlimited snapshots and features":"Create an account and upgrade to QuickStage Pro for unlimited snapshots and features"}),!r&&n.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-2xl mx-auto",children:n.jsxs("p",{className:"text-sm text-blue-700",children:["💡 ",n.jsx("strong",{children:"New to QuickStage?"})," Select your plan below and we'll create your account in the next step."]})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8 relative",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 font-inconsolata",children:"Monthly"}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",x]}),n.jsx("span",{className:"text-gray-500",children:"/month"})]}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Billed monthly"})]}),n.jsxs("ul",{className:"mt-8 space-y-4",children:[n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"Unlimited snapshots"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"Extended expiration times"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"Cancel anytime"})]})]}),n.jsx("button",{onClick:()=>d("monthly"),disabled:s,className:"w-full mt-8 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating...":"Choose Monthly"}),n.jsx(gd,{plan:"monthly",disabled:s,onSuccess:()=>{e("/dashboard")},onError:b=>{console.error("Apple Pay error:",b),alert(`Apple Pay failed: ${b}`)},requiresAuth:!r,onAuthRequired:()=>e("/login?mode=signup&plan=monthly&redirect=pricing")})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-2 border-blue-500 p-8 relative",children:[n.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:n.jsxs("span",{className:"bg-blue-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:["Save ",g,"%"]})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 font-inconsolata",children:"Annual"}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",h]}),n.jsx("span",{className:"text-gray-500",children:"/year"})]}),n.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Billed annually • ",n.jsxs("span",{className:"text-green-600 font-medium",children:["$",x*12-h," savings"]})]})]}),n.jsxs("ul",{className:"mt-8 space-y-4",children:[n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"Everything in Monthly"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"2 months free"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"Priority support"})]})]}),n.jsx("button",{onClick:()=>d("annual"),disabled:s,className:"w-full mt-8 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating...":"Choose Annual"}),n.jsx(gd,{plan:"annual",disabled:s,onSuccess:()=>{e("/dashboard")},onError:b=>{console.error("Apple Pay error:",b),alert(`Apple Pay failed: ${b}`)},requiresAuth:!r,onAuthRequired:()=>e("/login?mode=signup&plan=annual&redirect=pricing")})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Have a promotion code?"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"You can enter it on the next step during checkout"})]})}),n.jsx("div",{className:"text-center",children:n.jsxs("button",{onClick:()=>e(r?"/dashboard":"/"),className:"text-gray-600 hover:text-gray-900 font-medium",children:["← Back ",r?"to Dashboard":"to Home"]})}),n.jsxs("div",{className:"mt-12 text-center",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Secure payment powered by Stripe"}),n.jsxs("div",{className:"flex justify-center items-center space-x-6",children:[n.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"SSL Encrypted"]}),n.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Cancel Anytime"]})]})]})]})})}function wx(){var s;const[e,t]=p.useState("getting-started"),r=[{id:"getting-started",title:"Getting Started",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Welcome to QuickStage"}),n.jsx("p",{children:"QuickStage is a lightning-fast platform for sharing and collaborating on web prototypes. Deploy your local development projects in seconds and get feedback from your team instantly."}),n.jsx("h3",{children:"Quick Setup Guide"}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 my-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-4",children:n.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-2",children:"3-Step Setup"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-800",children:[n.jsx("li",{children:"Download and install the QuickStage extension for VS Code or Cursor"}),n.jsx("li",{children:"Open your project folder in your IDE"}),n.jsx("li",{children:'Click the "Stage" button to deploy your project instantly'})]})]})]})}),n.jsx("h3",{children:"Key Features"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 my-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"⚡ Lightning Fast"}),n.jsx("p",{className:"text-gray-600",children:"Deploy your projects in under 10 seconds with optimized build processes."})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"🔒 Secure Sharing"}),n.jsx("p",{className:"text-gray-600",children:"Password-protected snapshots with role-based access control."})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"💬 Collaboration"}),n.jsx("p",{className:"text-gray-600",children:"Real-time comments, reviews, and feedback collection."})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"📱 Mobile Ready"}),n.jsx("p",{className:"text-gray-600",children:"Responsive design works perfectly on all devices."})]})]})]})},{id:"project-organization",title:"Project Organization",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Organizing Your Snapshots with Projects"}),n.jsx("p",{children:"Project folders help you organize snapshots by client, feature, or any categorization that makes sense for your workflow."}),n.jsx("h3",{children:"Creating Projects"}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-green-900 font-semibold mb-2",children:"💡 Pro Tip"}),n.jsx("p",{className:"text-green-800",children:"Use color coding to visually distinguish different types of projects (e.g., client work vs. personal projects)."})]}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[n.jsx("li",{children:"Navigate to your Dashboard"}),n.jsx("li",{children:'Click the "+" button next to "Projects" in the sidebar'}),n.jsx("li",{children:"Enter a project name and choose a color"}),n.jsx("li",{children:'Click "Create" to save your new project'})]}),n.jsx("h3",{children:"Moving Snapshots Between Projects"}),n.jsx("p",{children:"You can organize your snapshots by moving them into project folders:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Individual Move:"})," Edit a snapshot and select a different project"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Bulk Move:"}),' Select multiple snapshots and use the "Move to Project" bulk action']})]}),n.jsx("h3",{children:"Project Management"}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-yellow-900 font-semibold mb-2",children:"⚠️ Important"}),n.jsx("p",{className:"text-yellow-800",children:"You can only delete empty projects. Move or delete all snapshots before removing a project."})]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Archive:"})," Hide completed projects without deleting them"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Reorder:"})," Drag and drop projects in the sidebar to organize them"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Delete:"})," Remove empty projects permanently"]})]})]})},{id:"snapshot-management",title:"Snapshot Management",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Advanced Snapshot Features"}),n.jsx("p",{children:"QuickStage provides powerful tools for managing and organizing your snapshots with rich metadata and flexible organization options."}),n.jsx("h3",{children:"Enhanced Metadata"}),n.jsx("p",{children:"Add context to your snapshots with detailed metadata:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Name:"})," Give your snapshots meaningful names instead of using IDs"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Description:"})," Add detailed descriptions of what the snapshot contains"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Tags:"})," Use tags for easy filtering and organization"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Version:"})," Track version numbers or release names"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Client Name:"})," Associate snapshots with specific clients"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Milestone:"})," Mark project milestones or development phases"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Review Summary:"})," Add context for reviewers about what to focus on"]})]}),n.jsx("h3",{children:"Dashboard Sorting & Filtering"}),n.jsx("p",{children:"Find what you need quickly with powerful organization tools:"}),n.jsx("h4",{children:"Sortable Columns"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Created date (newest/oldest first)"}),n.jsx("li",{children:"Last modified date"}),n.jsx("li",{children:"Expiration date (expiring soon first)"}),n.jsx("li",{children:"View count (most/least popular)"}),n.jsx("li",{children:"Comment count"}),n.jsx("li",{children:"Snapshot name (alphabetical)"})]}),n.jsx("h4",{children:"Advanced Filtering"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Search:"})," Full-text search across names, descriptions, tags, and metadata"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Date Ranges:"})," Filter by creation or modification dates"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Project Folders:"})," View snapshots from specific projects"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Tags:"})," Filter by one or more tags"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Status:"})," Show active, expired, or all snapshots"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Review Status:"})," Filter by snapshots with pending reviews"]})]}),n.jsx("h3",{children:"Bulk Operations"}),n.jsx("p",{children:"Manage multiple snapshots efficiently:"}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-blue-900 font-semibold mb-2",children:"🚀 Time Saver"}),n.jsx("p",{className:"text-blue-800",children:"Select multiple snapshots using checkboxes to perform bulk operations like moving to projects, extending expiry, or adding tags."})]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Move to Project:"})," Organize snapshots into project folders"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Extend Expiry:"})," Extend expiration dates for multiple snapshots"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Bulk Tagging:"})," Add or remove tags from multiple snapshots"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Batch Delete:"})," Remove multiple expired snapshots"]})]})]})},{id:"collaboration",title:"Comments & Collaboration",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Collaborative Feedback System"}),n.jsx("p",{children:"QuickStage's advanced commenting system enables precise, contextual feedback on your prototypes with element pinning and threaded conversations."}),n.jsx("h3",{children:"Element Pinning"}),n.jsx("p",{children:"Pin comments directly to specific UI elements for precise feedback:"}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-purple-900 font-semibold mb-2",children:"✨ Interactive Comments"}),n.jsx("p",{className:"text-purple-800",children:"Click on any element in your prototype to attach comments. Comments automatically adapt to different screen sizes and device orientations."})]}),n.jsx("h4",{children:"How Element Pinning Works"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[n.jsx("li",{children:"Navigate to your snapshot in the viewer"}),n.jsx("li",{children:"Click the comment button to enter comment mode"}),n.jsx("li",{children:"Click on any UI element to pin a comment"}),n.jsx("li",{children:"Type your feedback and submit"}),n.jsx("li",{children:"Comments appear as numbered bubbles on hover"})]}),n.jsx("h3",{children:"Threaded Conversations"}),n.jsx("p",{children:"Keep discussions organized with nested reply chains:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Replies:"})," Respond to specific comments to create conversation threads"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Mentions:"})," Use @username to notify team members"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Rich Text:"})," Format comments with Markdown, code snippets, and emojis"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"File Attachments:"})," Attach images, documents, and design files"]})]}),n.jsx("h3",{children:"Comment States"}),n.jsx("p",{children:"Track the lifecycle of feedback with comment states:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Draft:"})," Work on comments before publishing"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Published:"})," Live comments visible to all team members"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Resolved:"})," Mark feedback as addressed"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Archived:"})," Hide old conversations while preserving history"]})]}),n.jsx("h3",{children:"File Attachments"}),n.jsx("p",{children:"Enhance your feedback with visual examples:"}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-green-900 font-semibold mb-2",children:"📎 Supported Formats"}),n.jsx("p",{className:"text-green-800",children:"JPG, PNG, GIF, PDF, TXT, MD, DOC, DOCX files up to 10MB each."})]})]})},{id:"review-workflows",title:"Review Workflows",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Structured Review Process"}),n.jsx("p",{children:"Streamline your feedback collection with formal review workflows, deadlines, and approval tracking."}),n.jsx("h3",{children:"Creating Review Requests"}),n.jsx("p",{children:"Request formal reviews from specific team members:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[n.jsx("li",{children:"Navigate to your snapshot"}),n.jsx("li",{children:'Click "Request Review" button'}),n.jsx("li",{children:"Select team members to review"}),n.jsx("li",{children:"Set an optional deadline"}),n.jsx("li",{children:"Add review notes or specific areas to focus on"}),n.jsx("li",{children:"Send the review request"})]}),n.jsx("h3",{children:"Review Status Tracking"}),n.jsx("p",{children:"Monitor review progress with visual indicators:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Pending:"})," Review requested but not yet started"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"In Progress:"})," Some reviewers have started"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Completed:"})," All reviewers have submitted feedback"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Overdue:"})," Review deadline has passed"]})]}),n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-orange-900 font-semibold mb-2",children:"⏰ Deadline Management"}),n.jsx("p",{className:"text-orange-800",children:"Set review deadlines to ensure timely feedback. Automatic reminders are sent 24 hours before the deadline."})]}),n.jsx("h3",{children:"Review Dashboard"}),n.jsx("p",{children:"Track all your reviews in one place:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Reviews Requested:"})," Reviews you've asked others to complete"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Reviews Assigned:"})," Reviews assigned to you by others"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Overdue Reviews:"})," Reviews past their deadline"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Completed Reviews:"})," Review history and outcomes"]})]}),n.jsx("h3",{children:"Approval Workflow"}),n.jsx("p",{children:"Each reviewer can provide one of these responses:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Approved:"})," No changes needed, ready to proceed"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Changes Requested:"})," Specific feedback provided, changes needed"]})]}),n.jsx("h3",{children:"Automated Follow-ups"}),n.jsx("p",{children:"Stay on top of reviews with automatic notifications:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Email reminders sent to reviewers before deadlines"}),n.jsx("li",{children:"Notifications when reviews are completed"}),n.jsx("li",{children:"Summary emails for review requesters"}),n.jsx("li",{children:"Escalation notifications for overdue reviews"})]})]})},{id:"best-practices",title:"Best Practices",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"QuickStage Best Practices"}),n.jsx("p",{children:"Maximize your team's productivity with these proven workflows and organizational strategies."}),n.jsx("h3",{children:"Project Organization"}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-blue-900 font-semibold mb-2",children:"🎯 Organization Strategy"}),n.jsx("p",{className:"text-blue-800",children:'Create projects for each client, product feature, or development sprint. Use consistent naming conventions like "Client-ProjectName" or "Sprint-XX-FeatureName".'})]}),n.jsx("h4",{children:"Recommended Project Structure"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"By Client:"})," Separate projects for each client or customer"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"By Feature:"})," Group related functionality together"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"By Sprint:"})," Organize by development cycles"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"By Environment:"})," Development, staging, production snapshots"]})]}),n.jsx("h3",{children:"Snapshot Naming"}),n.jsx("p",{children:"Use descriptive names that provide context:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Include Version:"}),' "User Dashboard v2.1"']}),n.jsxs("li",{children:[n.jsx("strong",{children:"Add Context:"}),' "Homepage Mobile Responsive Fix"']}),n.jsxs("li",{children:[n.jsx("strong",{children:"Use Dates:"}),' "Landing Page 2024-01-15"']}),n.jsxs("li",{children:[n.jsx("strong",{children:"Specify Purpose:"}),' "Client Review - Shopping Cart"']})]}),n.jsx("h3",{children:"Effective Tagging"}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-green-900 font-semibold mb-2",children:"🏷️ Tag Strategy"}),n.jsx("p",{className:"text-green-800",children:'Use consistent tags across your team. Create a tagging guide with standard tags like "mobile", "desktop", "bug-fix", "new-feature", "client-review".'})]}),n.jsx("h4",{children:"Tag Categories"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Platform:"})," mobile, desktop, tablet"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Status:"})," draft, review, approved, deployed"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Type:"})," bug-fix, feature, enhancement, prototype"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Priority:"})," urgent, high, medium, low"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Audience:"})," internal, client, stakeholder"]})]}),n.jsx("h3",{children:"Review Workflow"}),n.jsx("h4",{children:"Review Request Guidelines"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Be Specific:"})," Provide clear review notes about what feedback you need"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Set Realistic Deadlines:"})," Allow 24-48 hours for meaningful review"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Include Context:"})," Explain what changed since the last version"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Assign Appropriately:"})," Choose reviewers based on expertise needed"]})]}),n.jsx("h4",{children:"Giving Effective Feedback"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Be Constructive:"})," Explain the issue and suggest solutions"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Use Element Pinning:"})," Attach comments to specific UI elements"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Provide Examples:"})," Attach reference images or mockups"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Consider Context:"})," Account for device types and user scenarios"]})]}),n.jsx("h3",{children:"Collaboration Tips"}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-purple-900 font-semibold mb-2",children:"👥 Team Collaboration"}),n.jsx("p",{className:"text-purple-800",children:"Establish team conventions for commenting, reviewing, and organizing snapshots. Regular retrospectives help refine your workflow."})]}),n.jsx("h4",{children:"Team Workflow"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Daily Standup:"})," Share recent snapshots for quick feedback"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Sprint Reviews:"})," Use formal review workflow for sprint demos"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Client Presentations:"})," Create dedicated client review projects"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Retrospectives:"})," Review comment patterns and workflow efficiency"]})]})]})},{id:"troubleshooting",title:"Troubleshooting",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Common Issues & Solutions"}),n.jsx("p",{children:"Quick solutions to the most common QuickStage issues and questions."}),n.jsx("h3",{children:"Extension Issues"}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-red-900 font-semibold mb-2",children:'❌ "Stage" Button Not Appearing'}),n.jsxs("div",{className:"text-red-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Solutions:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Restart VS Code/Cursor after installing the extension"}),n.jsx("li",{children:"Check that you have a valid project folder open"}),n.jsx("li",{children:"Ensure the extension is enabled in the Extensions panel"}),n.jsx("li",{children:"Update to the latest version of the extension"})]})]})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-red-900 font-semibold mb-2",children:"⚠️ Upload Fails or Times Out"}),n.jsxs("div",{className:"text-red-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Common Causes & Solutions:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Large Files:"})," Remove or reduce large assets (images, videos)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"node_modules:"})," Ensure node_modules is in .gitignore"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Build Artifacts:"})," Clean build folders (dist/, build/) before staging"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Network Issues:"})," Check your internet connection and try again"]})]})]})]}),n.jsx("h3",{children:"Dashboard & Viewing Issues"}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-yellow-900 font-semibold mb-2",children:"🔍 Snapshots Not Loading"}),n.jsxs("div",{className:"text-yellow-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Troubleshooting Steps:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Refresh the page (Ctrl+F5 or Cmd+Shift+R)"}),n.jsx("li",{children:"Clear browser cache and cookies for quickstage.tech"}),n.jsx("li",{children:"Check if you're logged in correctly"}),n.jsx("li",{children:"Try logging out and logging back in"})]})]})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-yellow-900 font-semibold mb-2",children:"🚫 Password Protected Snapshot Access"}),n.jsxs("div",{className:"text-yellow-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"If you can't access a snapshot:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Ensure you're entering the password exactly as provided"}),n.jsx("li",{children:"Check for extra spaces or hidden characters"}),n.jsx("li",{children:"Try copying and pasting the password"}),n.jsx("li",{children:"Contact the snapshot owner for a new password"})]})]})]}),n.jsx("h3",{children:"Comments & Collaboration Issues"}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-blue-900 font-semibold mb-2",children:"💬 Comments Not Appearing"}),n.jsxs("div",{className:"text-blue-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Possible Solutions:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Refresh the snapshot viewer page"}),n.jsx("li",{children:'Check if comments are in "resolved" or "archived" state'}),n.jsx("li",{children:"Verify you have permission to view comments"}),n.jsx("li",{children:"Try disabling browser ad blockers temporarily"})]})]})]}),n.jsx("h3",{children:"Account & Billing Issues"}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-purple-900 font-semibold mb-2",children:"💳 Pro Features Not Available"}),n.jsxs("div",{className:"text-purple-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Check These Items:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Verify your subscription status in Settings"}),n.jsx("li",{children:"Ensure payment method is up to date"}),n.jsx("li",{children:"Check if your trial has expired"}),n.jsx("li",{children:"Log out and log back in to refresh permissions"})]})]})]}),n.jsx("h3",{children:"Performance & Speed"}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-green-900 font-semibold mb-2",children:"🐌 Slow Loading or Deployment"}),n.jsxs("div",{className:"text-green-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Optimization Tips:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Exclude Large Files:"})," Use .gitignore to exclude unnecessary files"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Optimize Images:"})," Compress images before including in projects"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Clean Dependencies:"})," Remove unused npm packages"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Build Optimization:"})," Use production builds when possible"]})]})]})]}),n.jsx("h3",{children:"Getting Help"}),n.jsx("p",{children:"If you're still experiencing issues:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Check Status:"})," Visit our status page for system updates"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Contact Support:"})," Email support@quickstage.tech with detailed information"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Community:"})," Join our Discord community for peer support"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Documentation:"})," Review this documentation for additional guidance"]})]}),n.jsxs("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-4 my-6",children:[n.jsx("h4",{className:"text-gray-900 font-semibold mb-2",children:"📋 When Contacting Support"}),n.jsx("p",{className:"text-gray-700 mb-2",children:"Please include:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:[n.jsx("li",{children:"Your account email address"}),n.jsx("li",{children:"Browser and version (Chrome 91, Safari 14, etc.)"}),n.jsx("li",{children:"Operating system (Windows 10, macOS Big Sur, etc.)"}),n.jsx("li",{children:"Steps to reproduce the issue"}),n.jsx("li",{children:"Screenshots or error messages if applicable"})]})]})]})}];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx($e,{to:"/",className:"flex items-center",children:n.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"QuickStage"})}),n.jsx("span",{className:"ml-4 text-gray-500",children:"/"}),n.jsx("span",{className:"ml-4 text-gray-900 font-medium",children:"Documentation"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx($e,{to:"/dashboard",className:"text-indigo-600 hover:text-indigo-800",children:"Dashboard"}),n.jsx($e,{to:"/login",className:"text-gray-600 hover:text-gray-900",children:"Sign In"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[n.jsx("div",{className:"lg:w-64 flex-shrink-0",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Documentation"}),n.jsx("nav",{className:"space-y-2",children:r.map(l=>n.jsx("button",{onClick:()=>t(l.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${e===l.id?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:l.title},l.id))})]})}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:(s=r.find(l=>l.id===e))==null?void 0:s.content})})]})})]})}const Xm=p.createContext(void 0),jx=[{id:"welcome",title:"Welcome to QuickStage",description:"Learn the basics of sharing and collaborating on web prototypes",category:"getting-started",estimatedTime:3,steps:[{id:"welcome-1",title:"Welcome!",content:"QuickStage helps you share web prototypes instantly and collaborate with your team through comments and feedback.",type:"modal"},{id:"welcome-2",title:"Create Your First Snapshot",content:"Upload your HTML, CSS, and JavaScript files or use our browser extension to capture existing websites.",type:"modal"},{id:"welcome-3",title:"Share & Collaborate",content:"Get a shareable URL instantly. Team members can view your prototype and leave contextual comments.",type:"modal"}]},{id:"dashboard-tour",title:"Dashboard Tour",description:"Learn how to organize and manage your snapshots",category:"getting-started",estimatedTime:5,prerequisites:["welcome"],steps:[{id:"dashboard-1",title:"Your Snapshots",content:"This table shows all your uploaded snapshots. You can sort, filter, and search to find specific prototypes.",type:"highlight",target:'[data-testid="snapshot-table"]',position:"top"},{id:"dashboard-2",title:"Project Organization",content:"Use projects to organize your snapshots by client, feature, or team. Create folders to keep things tidy.",type:"highlight",target:'[data-testid="project-sidebar"]',position:"right"},{id:"dashboard-3",title:"Bulk Operations",content:"Select multiple snapshots to perform bulk operations like moving to projects or extending expiry dates.",type:"info"}]},{id:"comments-tutorial",title:"Commenting System",description:"Learn how to use contextual comments for feedback",category:"feature-specific",estimatedTime:4,steps:[{id:"comments-1",title:"Contextual Comments",content:"Click anywhere on your prototype to leave contextual feedback pinned to specific elements.",type:"info"},{id:"comments-2",title:"Comment Threads",content:"Start conversations with threaded replies and mark issues as resolved when fixed.",type:"info"},{id:"comments-3",title:"File Attachments",content:"Attach images, documents, or design files to provide additional context to your feedback.",type:"info"}]}];function bx({children:e}){const{user:t,isAuthenticated:r}=Ct(),[s,l]=p.useState(null),[a,o]=p.useState(null),[c,i]=p.useState(0),[d,x]=p.useState(!1),[h,g]=p.useState(!1);p.useEffect(()=>{if(!r||!t){l(null),g(!1);return}b()},[r,t]);const b=async()=>{try{x(!0);const S=await A.get("/api/onboarding");if(S.success){l(S.data);const M=await A.get("/api/onboarding/should-show-welcome");M.success&&g(M.data.shouldShow)}}catch(S){console.error("Failed to load onboarding state:",S)}finally{x(!1)}},y=async S=>{try{const M=await A.put("/api/onboarding",S);M.success&&l(M.data)}catch(M){console.error("Failed to update onboarding state:",M)}},j=S=>{const M=jx.find(z=>z.id===S);M&&(o(M),i(0),P(S,"started"))},k=()=>{a&&(c<a.steps.length-1?i(c+1):u())},f=()=>{c>0&&i(c-1)},m=()=>{a&&(P(a.id,"skipped",c),o(null),i(0))},u=async()=>{if(!a||!s)return;const S=a.id;P(S,"completed");const M=[...s.completedTutorials,S];await y({completedTutorials:M}),o(null),i(0)},N=async()=>{s&&(await y({hasSeenWelcome:!0}),g(!1))},w=async()=>{s&&(await y({skippedWelcome:!0}),g(!1))},P=async(S,M,z)=>{try{await A.post("/api/onboarding/tutorial",{tutorialId:S,action:M,step:z})}catch(G){console.error("Failed to track tutorial event:",G)}},L={onboarding:s,activeTutorial:a,currentStep:c,isLoading:d,shouldShowWelcome:h,startTutorial:j,nextStep:k,previousStep:f,skipTutorial:m,completeTutorial:u,markWelcomeSeen:N,skipWelcome:w,trackTutorialEvent:P};return n.jsx(Xm.Provider,{value:L,children:e})}function Nx(){const e=p.useContext(Xm);if(e===void 0)throw new Error("useTutorial must be used within a TutorialProvider");return e}function kx(){var g;const{shouldShowWelcome:e,markWelcomeSeen:t,skipWelcome:r,startTutorial:s}=Nx(),[l,a]=p.useState(0);if(!e)return null;const o=[{title:"Welcome to QuickStage! 🚀",description:"Share and collaborate on web prototypes instantly",features:["Upload HTML, CSS & JavaScript files","Get shareable URLs in seconds","Collect contextual feedback with comments","Organize projects and track versions"],image:"🎨"},{title:"Lightning Fast Sharing ⚡",description:"From prototype to shareable link in 10 seconds",features:["Drag & drop file upload","Beautiful, professional URLs","Mobile-responsive viewing","Password protection available"],image:"🔗"},{title:"Collaborative Feedback 💬",description:"Get precise feedback with contextual comments",features:["Pin comments to specific UI elements","Thread conversations and replies","Attach files and screenshots","Mark issues as resolved"],image:"💡"},{title:"Team Organization 📁",description:"Keep your prototypes organized and accessible",features:["Create projects and folders","Bulk operations on snapshots","Advanced filtering and search","Analytics and usage tracking"],image:"📊"}],c=o[l],i=()=>{l<o.length-1&&a(l+1)},d=()=>{l>0&&a(l-1)},x=()=>{t(),s("dashboard-tour")},h=()=>{r()};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[n.jsx("div",{className:"px-8 py-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-inconsolata",children:c==null?void 0:c.title}),n.jsx("p",{className:"text-gray-600 mt-1",children:c==null?void 0:c.description})]}),n.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 text-sm",children:"Skip tour"})]})}),n.jsxs("div",{className:"px-8 py-6",children:[n.jsx("div",{className:"text-center mb-8",children:n.jsx("div",{className:"text-6xl mb-4",children:c==null?void 0:c.image})}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 font-inconsolata",children:"Key Features:"}),n.jsx("ul",{className:"space-y-3",children:(g=c==null?void 0:c.features)==null?void 0:g.map((b,y)=>n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mt-0.5 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-gray-700",children:b})]},y))})]}),l===o.length-1&&n.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Ready to get started?"}),n.jsx("p",{className:"text-blue-700 text-sm mb-4",children:"We'll walk you through the dashboard and show you how to create your first prototype."}),n.jsx("button",{onClick:x,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Start Dashboard Tour"})]})]})]}),n.jsx("div",{className:"px-8 py-6 border-t border-gray-200 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex space-x-2",children:o.map((b,y)=>n.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${y===l?"bg-blue-600":y<l?"bg-green-500":"bg-gray-300"}`},y))}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:d,disabled:l===0,className:"px-4 py-2 text-gray-600 disabled:text-gray-400 hover:text-gray-800 disabled:cursor-not-allowed",children:"Previous"}),l<o.length-1?n.jsx("button",{onClick:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Next"}):n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:h,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Maybe Later"}),n.jsx("button",{onClick:x,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Get Started! 🎉"})]})]})]})})]})})}function ua({children:e}){const{user:t,loading:r}=Ct();return r?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):t?n.jsx(n.Fragment,{children:e}):n.jsx(ao,{to:"/login",replace:!0})}ma.createRoot(document.getElementById("root")).render(n.jsx(qn.StrictMode,{children:n.jsx(Xf,{children:n.jsx(bx,{children:n.jsxs(Qf,{children:[n.jsxs(If,{children:[n.jsx(st,{path:"/",element:n.jsx(lx,{})}),n.jsx(st,{path:"/login",element:n.jsx(ax,{})}),n.jsx(st,{path:"/pricing",element:n.jsx(yx,{})}),n.jsx(st,{path:"/docs",element:n.jsx(wx,{})}),n.jsx(st,{path:"/dashboard",element:n.jsx(ua,{children:n.jsx(tx,{})})}),n.jsx(st,{path:"/settings",element:n.jsx(ua,{children:n.jsx(rx,{})})}),n.jsx(st,{path:"/admin",element:n.jsx(ua,{children:n.jsx(ox,{})})}),n.jsx(st,{path:"/s/:id/*",element:n.jsx(pd,{})}),n.jsx(st,{path:"/viewer/:id",element:n.jsx(pd,{})}),n.jsx(st,{path:"/app/*",element:n.jsx(ao,{to:"/dashboard",replace:!0})}),n.jsx(st,{path:"*",element:n.jsx(ao,{to:"/",replace:!0})})]}),n.jsx(kx,{})]})})})}));
//# sourceMappingURL=index-gPOK5dnS.js.map
