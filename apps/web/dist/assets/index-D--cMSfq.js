function Xm(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const i=Object.getOwnPropertyDescriptor(s,l);i&&Object.defineProperty(e,l,i.get?i:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=r(l);fetch(l.href,i)}})();function Jm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var id={exports:{}},ul={},ad={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xr=Symbol.for("react.element"),Zm=Symbol.for("react.portal"),eh=Symbol.for("react.fragment"),th=Symbol.for("react.strict_mode"),nh=Symbol.for("react.profiler"),rh=Symbol.for("react.provider"),sh=Symbol.for("react.context"),lh=Symbol.for("react.forward_ref"),ih=Symbol.for("react.suspense"),ah=Symbol.for("react.memo"),oh=Symbol.for("react.lazy"),$o=Symbol.iterator;function ch(e){return e===null||typeof e!="object"?null:(e=$o&&e[$o]||e["@@iterator"],typeof e=="function"?e:null)}var od={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cd=Object.assign,dd={};function Yn(e,t,r){this.props=e,this.context=t,this.refs=dd,this.updater=r||od}Yn.prototype.isReactComponent={};Yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ud(){}ud.prototype=Yn.prototype;function ca(e,t,r){this.props=e,this.context=t,this.refs=dd,this.updater=r||od}var da=ca.prototype=new ud;da.constructor=ca;cd(da,Yn.prototype);da.isPureReactComponent=!0;var Bo=Array.isArray,md=Object.prototype.hasOwnProperty,ua={current:null},hd={key:!0,ref:!0,__self:!0,__source:!0};function pd(e,t,r){var s,l={},i=null,a=null;if(t!=null)for(s in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)md.call(t,s)&&!hd.hasOwnProperty(s)&&(l[s]=t[s]);var c=arguments.length-2;if(c===1)l.children=r;else if(1<c){for(var o=Array(c),d=0;d<c;d++)o[d]=arguments[d+2];l.children=o}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)l[s]===void 0&&(l[s]=c[s]);return{$$typeof:Xr,type:e,key:i,ref:a,props:l,_owner:ua.current}}function dh(e,t){return{$$typeof:Xr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ma(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xr}function uh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Oo=/\/+/g;function Il(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uh(""+e.key):t.toString(36)}function Ps(e,t,r,s,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Xr:case Zm:a=!0}}if(a)return a=e,l=l(a),e=s===""?"."+Il(a,0):s,Bo(l)?(r="",e!=null&&(r=e.replace(Oo,"$&/")+"/"),Ps(l,t,r,"",function(d){return d})):l!=null&&(ma(l)&&(l=dh(l,r+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(Oo,"$&/")+"/")+e)),t.push(l)),1;if(a=0,s=s===""?".":s+":",Bo(e))for(var c=0;c<e.length;c++){i=e[c];var o=s+Il(i,c);a+=Ps(i,t,r,o,l)}else if(o=ch(e),typeof o=="function")for(e=o.call(e),c=0;!(i=e.next()).done;)i=i.value,o=s+Il(i,c++),a+=Ps(i,t,r,o,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function cs(e,t,r){if(e==null)return e;var s=[],l=0;return Ps(e,s,"","",function(i){return t.call(r,i,l++)}),s}function mh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},Ls={transition:null},hh={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:Ls,ReactCurrentOwner:ua};function fd(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:cs,forEach:function(e,t,r){cs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cs(e,function(){t++}),t},toArray:function(e){return cs(e,function(t){return t})||[]},only:function(e){if(!ma(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Yn;Q.Fragment=eh;Q.Profiler=nh;Q.PureComponent=ca;Q.StrictMode=th;Q.Suspense=ih;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hh;Q.act=fd;Q.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=cd({},e.props),l=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ua.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)md.call(t,o)&&!hd.hasOwnProperty(o)&&(s[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){c=Array(o);for(var d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}return{$$typeof:Xr,type:e.type,key:l,ref:i,props:s,_owner:a}};Q.createContext=function(e){return e={$$typeof:sh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rh,_context:e},e.Consumer=e};Q.createElement=pd;Q.createFactory=function(e){var t=pd.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:lh,render:e}};Q.isValidElement=ma;Q.lazy=function(e){return{$$typeof:oh,_payload:{_status:-1,_result:e},_init:mh}};Q.memo=function(e,t){return{$$typeof:ah,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Ls.transition;Ls.transition={};try{e()}finally{Ls.transition=t}};Q.unstable_act=fd;Q.useCallback=function(e,t){return Ae.current.useCallback(e,t)};Q.useContext=function(e){return Ae.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Ae.current.useEffect(e,t)};Q.useId=function(){return Ae.current.useId()};Q.useImperativeHandle=function(e,t,r){return Ae.current.useImperativeHandle(e,t,r)};Q.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Ae.current.useMemo(e,t)};Q.useReducer=function(e,t,r){return Ae.current.useReducer(e,t,r)};Q.useRef=function(e){return Ae.current.useRef(e)};Q.useState=function(e){return Ae.current.useState(e)};Q.useSyncExternalStore=function(e,t,r){return Ae.current.useSyncExternalStore(e,t,r)};Q.useTransition=function(){return Ae.current.useTransition()};Q.version="18.3.1";ad.exports=Q;var p=ad.exports;const ha=Jm(p),ph=Xm({__proto__:null,default:ha},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=p,xh=Symbol.for("react.element"),gh=Symbol.for("react.fragment"),vh=Object.prototype.hasOwnProperty,yh=fh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jh={key:!0,ref:!0,__self:!0,__source:!0};function xd(e,t,r){var s,l={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)vh.call(t,s)&&!jh.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:xh,type:e,key:i,ref:a,props:l,_owner:yh.current}}ul.Fragment=gh;ul.jsx=xd;ul.jsxs=xd;id.exports=ul;var n=id.exports,ui={},gd={exports:{}},He={},vd={exports:{}},yd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,M){var B=A.length;A.push(M);e:for(;0<B;){var q=B-1>>>1,ee=A[q];if(0<l(ee,M))A[q]=M,A[B]=ee,B=q;else break e}}function r(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var M=A[0],B=A.pop();if(B!==M){A[0]=B;e:for(var q=0,ee=A.length,Le=ee>>>1;q<Le;){var te=2*(q+1)-1,ut=A[te],E=te+1,U=A[E];if(0>l(ut,B))E<ee&&0>l(U,ut)?(A[q]=U,A[E]=B,q=E):(A[q]=ut,A[te]=B,q=te);else if(E<ee&&0>l(U,B))A[q]=U,A[E]=B,q=E;else break e}}return M}function l(A,M){var B=A.sortIndex-M.sortIndex;return B!==0?B:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var o=[],d=[],f=1,h=null,g=3,b=!1,j=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function u(A){for(var M=r(d);M!==null;){if(M.callback===null)s(d);else if(M.startTime<=A)s(d),M.sortIndex=M.expirationTime,t(o,M);else break;M=r(d)}}function N(A){if(y=!1,u(A),!j)if(r(o)!==null)j=!0,D(w);else{var M=r(d);M!==null&&se(N,M.startTime-A)}}function w(A,M){j=!1,y&&(y=!1,x(S),S=-1),b=!0;var B=g;try{for(u(M),h=r(o);h!==null&&(!(h.expirationTime>M)||A&&!O());){var q=h.callback;if(typeof q=="function"){h.callback=null,g=h.priorityLevel;var ee=q(h.expirationTime<=M);M=e.unstable_now(),typeof ee=="function"?h.callback=ee:h===r(o)&&s(o),u(M)}else s(o);h=r(o)}if(h!==null)var Le=!0;else{var te=r(d);te!==null&&se(N,te.startTime-M),Le=!1}return Le}finally{h=null,g=B,b=!1}}var C=!1,P=null,S=-1,T=5,_=-1;function O(){return!(e.unstable_now()-_<T)}function J(){if(P!==null){var A=e.unstable_now();_=A;var M=!0;try{M=P(!0,A)}finally{M?K():(C=!1,P=null)}}else C=!1}var K;if(typeof m=="function")K=function(){m(J)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,ge=ke.port2;ke.port1.onmessage=J,K=function(){ge.postMessage(null)}}else K=function(){k(J,0)};function D(A){P=A,C||(C=!0,K())}function se(A,M){S=k(function(){A(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){j||b||(j=!0,D(w))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(o)},e.unstable_next=function(A){switch(g){case 1:case 2:case 3:var M=3;break;default:M=g}var B=g;g=M;try{return A()}finally{g=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var B=g;g=A;try{return M()}finally{g=B}},e.unstable_scheduleCallback=function(A,M,B){var q=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?q+B:q):B=q,A){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=B+ee,A={id:f++,callback:M,priorityLevel:A,startTime:B,expirationTime:ee,sortIndex:-1},B>q?(A.sortIndex=B,t(d,A),r(o)===null&&A===r(d)&&(y?(x(S),S=-1):y=!0,se(N,B-q))):(A.sortIndex=ee,t(o,A),j||b||(j=!0,D(w))),A},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(A){var M=g;return function(){var B=g;g=M;try{return A.apply(this,arguments)}finally{g=B}}}})(yd);vd.exports=yd;var wh=vd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh=p,Ve=wh;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jd=new Set,Rr={};function yn(e,t){On(e,t),On(e+"Capture",t)}function On(e,t){for(Rr[e]=t,e=0;e<t.length;e++)jd.add(t[e])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mi=Object.prototype.hasOwnProperty,Nh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wo={},Vo={};function kh(e){return mi.call(Vo,e)?!0:mi.call(Wo,e)?!1:Nh.test(e)?Vo[e]=!0:(Wo[e]=!0,!1)}function Sh(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ch(e,t,r,s){if(t===null||typeof t>"u"||Sh(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,r,s,l,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ne[e]=new Me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ne[t]=new Me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ne[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ne[e]=new Me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ne[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ne[e]=new Me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ne[e]=new Me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ne[e]=new Me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ne[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var pa=/[\-:]([a-z])/g;function fa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pa,fa);Ne[t]=new Me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pa,fa);Ne[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pa,fa);Ne[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ne[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ne[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function xa(e,t,r,s){var l=Ne.hasOwnProperty(t)?Ne[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ch(t,r,l,s)&&(r=null),s||l===null?kh(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,s=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Tt=bh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ds=Symbol.for("react.element"),kn=Symbol.for("react.portal"),Sn=Symbol.for("react.fragment"),ga=Symbol.for("react.strict_mode"),hi=Symbol.for("react.profiler"),wd=Symbol.for("react.provider"),bd=Symbol.for("react.context"),va=Symbol.for("react.forward_ref"),pi=Symbol.for("react.suspense"),fi=Symbol.for("react.suspense_list"),ya=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),Nd=Symbol.for("react.offscreen"),Ho=Symbol.iterator;function or(e){return e===null||typeof e!="object"?null:(e=Ho&&e[Ho]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,Fl;function yr(e){if(Fl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fl=t&&t[1]||""}return`
`+Fl+e}var Ul=!1;function $l(e,t){if(!e||Ul)return"";Ul=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),i=s.stack.split(`
`),a=l.length-1,c=i.length-1;1<=a&&0<=c&&l[a]!==i[c];)c--;for(;1<=a&&0<=c;a--,c--)if(l[a]!==i[c]){if(a!==1||c!==1)do if(a--,c--,0>c||l[a]!==i[c]){var o=`
`+l[a].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=a&&0<=c);break}}}finally{Ul=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?yr(e):""}function Eh(e){switch(e.tag){case 5:return yr(e.type);case 16:return yr("Lazy");case 13:return yr("Suspense");case 19:return yr("SuspenseList");case 0:case 2:case 15:return e=$l(e.type,!1),e;case 11:return e=$l(e.type.render,!1),e;case 1:return e=$l(e.type,!0),e;default:return""}}function xi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sn:return"Fragment";case kn:return"Portal";case hi:return"Profiler";case ga:return"StrictMode";case pi:return"Suspense";case fi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bd:return(e.displayName||"Context")+".Consumer";case wd:return(e._context.displayName||"Context")+".Provider";case va:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ya:return t=e.displayName||null,t!==null?t:xi(e.type)||"Memo";case It:t=e._payload,e=e._init;try{return xi(e(t))}catch{}}return null}function Ph(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xi(t);case 8:return t===ga?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lh(e){var t=kd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function us(e){e._valueTracker||(e._valueTracker=Lh(e))}function Sd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=kd(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function $s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gi(e,t){var r=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Qo(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Zt(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Cd(e,t){t=t.checked,t!=null&&xa(e,"checked",t,!1)}function vi(e,t){Cd(e,t);var r=Zt(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yi(e,t.type,r):t.hasOwnProperty("defaultValue")&&yi(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qo(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function yi(e,t,r){(t!=="number"||$s(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jr=Array.isArray;function zn(e,t,r,s){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Zt(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ji(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Go(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(jr(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zt(r)}}function Ed(e,t){var r=Zt(t.value),s=Zt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Yo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ms,Ld=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ar(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_h=["Webkit","ms","Moz","O"];Object.keys(Nr).forEach(function(e){_h.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nr[t]=Nr[e]})});function _d(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Nr.hasOwnProperty(e)&&Nr[e]?(""+t).trim():t+"px"}function Td(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,l=_d(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,l):e[r]=l}}var Th=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bi(e,t){if(t){if(Th[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Ni(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ki=null;function ja(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Si=null,In=null,Fn=null;function Ko(e){if(e=es(e)){if(typeof Si!="function")throw Error(L(280));var t=e.stateNode;t&&(t=xl(t),Si(e.stateNode,e.type,t))}}function Rd(e){In?Fn?Fn.push(e):Fn=[e]:In=e}function Ad(){if(In){var e=In,t=Fn;if(Fn=In=null,Ko(e),t)for(e=0;e<t.length;e++)Ko(t[e])}}function Md(e,t){return e(t)}function Dd(){}var Bl=!1;function zd(e,t,r){if(Bl)return e(t,r);Bl=!0;try{return Md(e,t,r)}finally{Bl=!1,(In!==null||Fn!==null)&&(Dd(),Ad())}}function Mr(e,t){var r=e.stateNode;if(r===null)return null;var s=xl(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Ci=!1;if(Et)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{Ci=!1}function Rh(e,t,r,s,l,i,a,c,o){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(f){this.onError(f)}}var kr=!1,Bs=null,Os=!1,Ei=null,Ah={onError:function(e){kr=!0,Bs=e}};function Mh(e,t,r,s,l,i,a,c,o){kr=!1,Bs=null,Rh.apply(Ah,arguments)}function Dh(e,t,r,s,l,i,a,c,o){if(Mh.apply(this,arguments),kr){if(kr){var d=Bs;kr=!1,Bs=null}else throw Error(L(198));Os||(Os=!0,Ei=d)}}function jn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Id(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xo(e){if(jn(e)!==e)throw Error(L(188))}function zh(e){var t=e.alternate;if(!t){if(t=jn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,s=t;;){var l=r.return;if(l===null)break;var i=l.alternate;if(i===null){if(s=l.return,s!==null){r=s;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===r)return Xo(l),e;if(i===s)return Xo(l),t;i=i.sibling}throw Error(L(188))}if(r.return!==s.return)r=l,s=i;else{for(var a=!1,c=l.child;c;){if(c===r){a=!0,r=l,s=i;break}if(c===s){a=!0,s=l,r=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===r){a=!0,r=i,s=l;break}if(c===s){a=!0,s=i,r=l;break}c=c.sibling}if(!a)throw Error(L(189))}}if(r.alternate!==s)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function Fd(e){return e=zh(e),e!==null?Ud(e):null}function Ud(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ud(e);if(t!==null)return t;e=e.sibling}return null}var $d=Ve.unstable_scheduleCallback,Jo=Ve.unstable_cancelCallback,Ih=Ve.unstable_shouldYield,Fh=Ve.unstable_requestPaint,ue=Ve.unstable_now,Uh=Ve.unstable_getCurrentPriorityLevel,wa=Ve.unstable_ImmediatePriority,Bd=Ve.unstable_UserBlockingPriority,Ws=Ve.unstable_NormalPriority,$h=Ve.unstable_LowPriority,Od=Ve.unstable_IdlePriority,ml=null,ft=null;function Bh(e){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(ml,e,void 0,(e.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:Vh,Oh=Math.log,Wh=Math.LN2;function Vh(e){return e>>>=0,e===0?32:31-(Oh(e)/Wh|0)|0}var hs=64,ps=4194304;function wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vs(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,l=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var c=a&~l;c!==0?s=wr(c):(i&=a,i!==0&&(s=wr(i)))}else a=r&~l,a!==0?s=wr(a):i!==0&&(s=wr(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-ot(t),l=1<<r,s|=e[r],t&=~l;return s}function Hh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qh(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ot(i),c=1<<a,o=l[a];o===-1?(!(c&r)||c&s)&&(l[a]=Hh(c,t)):o<=t&&(e.expiredLanes|=c),i&=~c}}function Pi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wd(){var e=hs;return hs<<=1,!(hs&4194240)&&(hs=64),e}function Ol(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Jr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ot(t),e[t]=r}function qh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-ot(r),i=1<<l;t[l]=0,s[l]=-1,e[l]=-1,r&=~i}}function ba(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-ot(r),l=1<<s;l&t|e[s]&t&&(e[s]|=t),r&=~l}}var X=0;function Vd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hd,Na,Qd,qd,Gd,Li=!1,fs=[],Vt=null,Ht=null,Qt=null,Dr=new Map,zr=new Map,Ut=[],Gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zo(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Dr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(t.pointerId)}}function dr(e,t,r,s,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[l]},t!==null&&(t=es(t),t!==null&&Na(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Yh(e,t,r,s,l){switch(t){case"focusin":return Vt=dr(Vt,e,t,r,s,l),!0;case"dragenter":return Ht=dr(Ht,e,t,r,s,l),!0;case"mouseover":return Qt=dr(Qt,e,t,r,s,l),!0;case"pointerover":var i=l.pointerId;return Dr.set(i,dr(Dr.get(i)||null,e,t,r,s,l)),!0;case"gotpointercapture":return i=l.pointerId,zr.set(i,dr(zr.get(i)||null,e,t,r,s,l)),!0}return!1}function Yd(e){var t=cn(e.target);if(t!==null){var r=jn(t);if(r!==null){if(t=r.tag,t===13){if(t=Id(r),t!==null){e.blockedOn=t,Gd(e.priority,function(){Qd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _s(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_i(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);ki=s,r.target.dispatchEvent(s),ki=null}else return t=es(r),t!==null&&Na(t),e.blockedOn=r,!1;t.shift()}return!0}function ec(e,t,r){_s(e)&&r.delete(t)}function Kh(){Li=!1,Vt!==null&&_s(Vt)&&(Vt=null),Ht!==null&&_s(Ht)&&(Ht=null),Qt!==null&&_s(Qt)&&(Qt=null),Dr.forEach(ec),zr.forEach(ec)}function ur(e,t){e.blockedOn===t&&(e.blockedOn=null,Li||(Li=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,Kh)))}function Ir(e){function t(l){return ur(l,e)}if(0<fs.length){ur(fs[0],e);for(var r=1;r<fs.length;r++){var s=fs[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Vt!==null&&ur(Vt,e),Ht!==null&&ur(Ht,e),Qt!==null&&ur(Qt,e),Dr.forEach(t),zr.forEach(t),r=0;r<Ut.length;r++)s=Ut[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ut.length&&(r=Ut[0],r.blockedOn===null);)Yd(r),r.blockedOn===null&&Ut.shift()}var Un=Tt.ReactCurrentBatchConfig,Hs=!0;function Xh(e,t,r,s){var l=X,i=Un.transition;Un.transition=null;try{X=1,ka(e,t,r,s)}finally{X=l,Un.transition=i}}function Jh(e,t,r,s){var l=X,i=Un.transition;Un.transition=null;try{X=4,ka(e,t,r,s)}finally{X=l,Un.transition=i}}function ka(e,t,r,s){if(Hs){var l=_i(e,t,r,s);if(l===null)Jl(e,t,s,Qs,r),Zo(e,s);else if(Yh(l,e,t,r,s))s.stopPropagation();else if(Zo(e,s),t&4&&-1<Gh.indexOf(e)){for(;l!==null;){var i=es(l);if(i!==null&&Hd(i),i=_i(e,t,r,s),i===null&&Jl(e,t,s,Qs,r),i===l)break;l=i}l!==null&&s.stopPropagation()}else Jl(e,t,s,null,r)}}var Qs=null;function _i(e,t,r,s){if(Qs=null,e=ja(s),e=cn(e),e!==null)if(t=jn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Id(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qs=e,null}function Kd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uh()){case wa:return 1;case Bd:return 4;case Ws:case $h:return 16;case Od:return 536870912;default:return 16}default:return 16}}var Bt=null,Sa=null,Ts=null;function Xd(){if(Ts)return Ts;var e,t=Sa,r=t.length,s,l="value"in Bt?Bt.value:Bt.textContent,i=l.length;for(e=0;e<r&&t[e]===l[e];e++);var a=r-e;for(s=1;s<=a&&t[r-s]===l[i-s];s++);return Ts=l.slice(e,1<s?1-s:void 0)}function Rs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function tc(){return!1}function Qe(e){function t(r,s,l,i,a){this._reactName=r,this._targetInst=l,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xs:tc,this.isPropagationStopped=tc,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),t}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Qe(Kn),Zr=ce({},Kn,{view:0,detail:0}),Zh=Qe(Zr),Wl,Vl,mr,hl=ce({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ea,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mr&&(mr&&e.type==="mousemove"?(Wl=e.screenX-mr.screenX,Vl=e.screenY-mr.screenY):Vl=Wl=0,mr=e),Wl)},movementY:function(e){return"movementY"in e?e.movementY:Vl}}),nc=Qe(hl),ep=ce({},hl,{dataTransfer:0}),tp=Qe(ep),np=ce({},Zr,{relatedTarget:0}),Hl=Qe(np),rp=ce({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),sp=Qe(rp),lp=ce({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ip=Qe(lp),ap=ce({},Kn,{data:0}),rc=Qe(ap),op={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function up(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dp[e])?!!t[e]:!1}function Ea(){return up}var mp=ce({},Zr,{key:function(e){if(e.key){var t=op[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ea,charCode:function(e){return e.type==="keypress"?Rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hp=Qe(mp),pp=ce({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sc=Qe(pp),fp=ce({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ea}),xp=Qe(fp),gp=ce({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),vp=Qe(gp),yp=ce({},hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jp=Qe(yp),wp=[9,13,27,32],Pa=Et&&"CompositionEvent"in window,Sr=null;Et&&"documentMode"in document&&(Sr=document.documentMode);var bp=Et&&"TextEvent"in window&&!Sr,Jd=Et&&(!Pa||Sr&&8<Sr&&11>=Sr),lc=" ",ic=!1;function Zd(e,t){switch(e){case"keyup":return wp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function Np(e,t){switch(e){case"compositionend":return eu(t);case"keypress":return t.which!==32?null:(ic=!0,lc);case"textInput":return e=t.data,e===lc&&ic?null:e;default:return null}}function kp(e,t){if(Cn)return e==="compositionend"||!Pa&&Zd(e,t)?(e=Xd(),Ts=Sa=Bt=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jd&&t.locale!=="ko"?null:t.data;default:return null}}var Sp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sp[e.type]:t==="textarea"}function tu(e,t,r,s){Rd(s),t=qs(t,"onChange"),0<t.length&&(r=new Ca("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Cr=null,Fr=null;function Cp(e){mu(e,0)}function pl(e){var t=Ln(e);if(Sd(t))return e}function Ep(e,t){if(e==="change")return t}var nu=!1;if(Et){var Ql;if(Et){var ql="oninput"in document;if(!ql){var oc=document.createElement("div");oc.setAttribute("oninput","return;"),ql=typeof oc.oninput=="function"}Ql=ql}else Ql=!1;nu=Ql&&(!document.documentMode||9<document.documentMode)}function cc(){Cr&&(Cr.detachEvent("onpropertychange",ru),Fr=Cr=null)}function ru(e){if(e.propertyName==="value"&&pl(Fr)){var t=[];tu(t,Fr,e,ja(e)),zd(Cp,t)}}function Pp(e,t,r){e==="focusin"?(cc(),Cr=t,Fr=r,Cr.attachEvent("onpropertychange",ru)):e==="focusout"&&cc()}function Lp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pl(Fr)}function _p(e,t){if(e==="click")return pl(t)}function Tp(e,t){if(e==="input"||e==="change")return pl(t)}function Rp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dt=typeof Object.is=="function"?Object.is:Rp;function Ur(e,t){if(dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var l=r[s];if(!mi.call(t,l)||!dt(e[l],t[l]))return!1}return!0}function dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uc(e,t){var r=dc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dc(r)}}function su(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?su(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lu(){for(var e=window,t=$s();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$s(e.document)}return t}function La(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ap(e){var t=lu(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&su(r.ownerDocument.documentElement,r)){if(s!==null&&La(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,i=Math.min(s.start,l);s=s.end===void 0?i:Math.min(s.end,l),!e.extend&&i>s&&(l=s,s=i,i=l),l=uc(r,i);var a=uc(r,s);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mp=Et&&"documentMode"in document&&11>=document.documentMode,En=null,Ti=null,Er=null,Ri=!1;function mc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ri||En==null||En!==$s(s)||(s=En,"selectionStart"in s&&La(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Er&&Ur(Er,s)||(Er=s,s=qs(Ti,"onSelect"),0<s.length&&(t=new Ca("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=En)))}function gs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pn={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionend:gs("Transition","TransitionEnd")},Gl={},iu={};Et&&(iu=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function fl(e){if(Gl[e])return Gl[e];if(!Pn[e])return e;var t=Pn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in iu)return Gl[e]=t[r];return e}var au=fl("animationend"),ou=fl("animationiteration"),cu=fl("animationstart"),du=fl("transitionend"),uu=new Map,hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(e,t){uu.set(e,t),yn(t,[e])}for(var Yl=0;Yl<hc.length;Yl++){var Kl=hc[Yl],Dp=Kl.toLowerCase(),zp=Kl[0].toUpperCase()+Kl.slice(1);tn(Dp,"on"+zp)}tn(au,"onAnimationEnd");tn(ou,"onAnimationIteration");tn(cu,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(du,"onTransitionEnd");On("onMouseEnter",["mouseout","mouseover"]);On("onMouseLeave",["mouseout","mouseover"]);On("onPointerEnter",["pointerout","pointerover"]);On("onPointerLeave",["pointerout","pointerover"]);yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ip=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function pc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Dh(s,t,void 0,e),e.currentTarget=null}function mu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],l=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var a=s.length-1;0<=a;a--){var c=s[a],o=c.instance,d=c.currentTarget;if(c=c.listener,o!==i&&l.isPropagationStopped())break e;pc(l,c,d),i=o}else for(a=0;a<s.length;a++){if(c=s[a],o=c.instance,d=c.currentTarget,c=c.listener,o!==i&&l.isPropagationStopped())break e;pc(l,c,d),i=o}}}if(Os)throw e=Ei,Os=!1,Ei=null,e}function ne(e,t){var r=t[Ii];r===void 0&&(r=t[Ii]=new Set);var s=e+"__bubble";r.has(s)||(hu(t,e,2,!1),r.add(s))}function Xl(e,t,r){var s=0;t&&(s|=4),hu(r,e,s,t)}var vs="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[vs]){e[vs]=!0,jd.forEach(function(r){r!=="selectionchange"&&(Ip.has(r)||Xl(r,!1,e),Xl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vs]||(t[vs]=!0,Xl("selectionchange",!1,t))}}function hu(e,t,r,s){switch(Kd(t)){case 1:var l=Xh;break;case 4:l=Jh;break;default:l=ka}r=l.bind(null,t,r,e),l=void 0,!Ci||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function Jl(e,t,r,s,l){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var c=s.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(a===4)for(a=s.return;a!==null;){var o=a.tag;if((o===3||o===4)&&(o=a.stateNode.containerInfo,o===l||o.nodeType===8&&o.parentNode===l))return;a=a.return}for(;c!==null;){if(a=cn(c),a===null)return;if(o=a.tag,o===5||o===6){s=i=a;continue e}c=c.parentNode}}s=s.return}zd(function(){var d=i,f=ja(r),h=[];e:{var g=uu.get(e);if(g!==void 0){var b=Ca,j=e;switch(e){case"keypress":if(Rs(r)===0)break e;case"keydown":case"keyup":b=hp;break;case"focusin":j="focus",b=Hl;break;case"focusout":j="blur",b=Hl;break;case"beforeblur":case"afterblur":b=Hl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=xp;break;case au:case ou:case cu:b=sp;break;case du:b=vp;break;case"scroll":b=Zh;break;case"wheel":b=jp;break;case"copy":case"cut":case"paste":b=ip;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=sc}var y=(t&4)!==0,k=!y&&e==="scroll",x=y?g!==null?g+"Capture":null:g;y=[];for(var m=d,u;m!==null;){u=m;var N=u.stateNode;if(u.tag===5&&N!==null&&(u=N,x!==null&&(N=Mr(m,x),N!=null&&y.push(Br(m,N,u)))),k)break;m=m.return}0<y.length&&(g=new b(g,j,null,r,f),h.push({event:g,listeners:y}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",g&&r!==ki&&(j=r.relatedTarget||r.fromElement)&&(cn(j)||j[Pt]))break e;if((b||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,b?(j=r.relatedTarget||r.toElement,b=d,j=j?cn(j):null,j!==null&&(k=jn(j),j!==k||j.tag!==5&&j.tag!==6)&&(j=null)):(b=null,j=d),b!==j)){if(y=nc,N="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=sc,N="onPointerLeave",x="onPointerEnter",m="pointer"),k=b==null?g:Ln(b),u=j==null?g:Ln(j),g=new y(N,m+"leave",b,r,f),g.target=k,g.relatedTarget=u,N=null,cn(f)===d&&(y=new y(x,m+"enter",j,r,f),y.target=u,y.relatedTarget=k,N=y),k=N,b&&j)t:{for(y=b,x=j,m=0,u=y;u;u=bn(u))m++;for(u=0,N=x;N;N=bn(N))u++;for(;0<m-u;)y=bn(y),m--;for(;0<u-m;)x=bn(x),u--;for(;m--;){if(y===x||x!==null&&y===x.alternate)break t;y=bn(y),x=bn(x)}y=null}else y=null;b!==null&&fc(h,g,b,y,!1),j!==null&&k!==null&&fc(h,k,j,y,!0)}}e:{if(g=d?Ln(d):window,b=g.nodeName&&g.nodeName.toLowerCase(),b==="select"||b==="input"&&g.type==="file")var w=Ep;else if(ac(g))if(nu)w=Tp;else{w=Lp;var C=Pp}else(b=g.nodeName)&&b.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(w=_p);if(w&&(w=w(e,d))){tu(h,w,r,f);break e}C&&C(e,g,d),e==="focusout"&&(C=g._wrapperState)&&C.controlled&&g.type==="number"&&yi(g,"number",g.value)}switch(C=d?Ln(d):window,e){case"focusin":(ac(C)||C.contentEditable==="true")&&(En=C,Ti=d,Er=null);break;case"focusout":Er=Ti=En=null;break;case"mousedown":Ri=!0;break;case"contextmenu":case"mouseup":case"dragend":Ri=!1,mc(h,r,f);break;case"selectionchange":if(Mp)break;case"keydown":case"keyup":mc(h,r,f)}var P;if(Pa)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Cn?Zd(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Jd&&r.locale!=="ko"&&(Cn||S!=="onCompositionStart"?S==="onCompositionEnd"&&Cn&&(P=Xd()):(Bt=f,Sa="value"in Bt?Bt.value:Bt.textContent,Cn=!0)),C=qs(d,S),0<C.length&&(S=new rc(S,e,null,r,f),h.push({event:S,listeners:C}),P?S.data=P:(P=eu(r),P!==null&&(S.data=P)))),(P=bp?Np(e,r):kp(e,r))&&(d=qs(d,"onBeforeInput"),0<d.length&&(f=new rc("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:d}),f.data=P))}mu(h,t)})}function Br(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qs(e,t){for(var r=t+"Capture",s=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Mr(e,r),i!=null&&s.unshift(Br(e,i,l)),i=Mr(e,t),i!=null&&s.push(Br(e,i,l))),e=e.return}return s}function bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fc(e,t,r,s,l){for(var i=t._reactName,a=[];r!==null&&r!==s;){var c=r,o=c.alternate,d=c.stateNode;if(o!==null&&o===s)break;c.tag===5&&d!==null&&(c=d,l?(o=Mr(r,i),o!=null&&a.unshift(Br(r,o,c))):l||(o=Mr(r,i),o!=null&&a.push(Br(r,o,c)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Fp=/\r\n?/g,Up=/\u0000|\uFFFD/g;function xc(e){return(typeof e=="string"?e:""+e).replace(Fp,`
`).replace(Up,"")}function ys(e,t,r){if(t=xc(t),xc(e)!==t&&r)throw Error(L(425))}function Gs(){}var Ai=null,Mi=null;function Di(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zi=typeof setTimeout=="function"?setTimeout:void 0,$p=typeof clearTimeout=="function"?clearTimeout:void 0,gc=typeof Promise=="function"?Promise:void 0,Bp=typeof queueMicrotask=="function"?queueMicrotask:typeof gc<"u"?function(e){return gc.resolve(null).then(e).catch(Op)}:zi;function Op(e){setTimeout(function(){throw e})}function Zl(e,t){var r=t,s=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(s===0){e.removeChild(l),Ir(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=l}while(r);Ir(t)}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Xn=Math.random().toString(36).slice(2),pt="__reactFiber$"+Xn,Or="__reactProps$"+Xn,Pt="__reactContainer$"+Xn,Ii="__reactEvents$"+Xn,Wp="__reactListeners$"+Xn,Vp="__reactHandles$"+Xn;function cn(e){var t=e[pt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pt]||r[pt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=vc(e);e!==null;){if(r=e[pt])return r;e=vc(e)}return t}e=r,r=e.parentNode}return null}function es(e){return e=e[pt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ln(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function xl(e){return e[Or]||null}var Fi=[],_n=-1;function nn(e){return{current:e}}function re(e){0>_n||(e.current=Fi[_n],Fi[_n]=null,_n--)}function Z(e,t){_n++,Fi[_n]=e.current,e.current=t}var en={},Pe=nn(en),Fe=nn(!1),pn=en;function Wn(e,t){var r=e.type.contextTypes;if(!r)return en;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in r)l[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ue(e){return e=e.childContextTypes,e!=null}function Ys(){re(Fe),re(Pe)}function yc(e,t,r){if(Pe.current!==en)throw Error(L(168));Z(Pe,t),Z(Fe,r)}function pu(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(L(108,Ph(e)||"Unknown",l));return ce({},r,s)}function Ks(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||en,pn=Pe.current,Z(Pe,e),Z(Fe,Fe.current),!0}function jc(e,t,r){var s=e.stateNode;if(!s)throw Error(L(169));r?(e=pu(e,t,pn),s.__reactInternalMemoizedMergedChildContext=e,re(Fe),re(Pe),Z(Pe,e)):re(Fe),Z(Fe,r)}var bt=null,gl=!1,ei=!1;function fu(e){bt===null?bt=[e]:bt.push(e)}function Hp(e){gl=!0,fu(e)}function rn(){if(!ei&&bt!==null){ei=!0;var e=0,t=X;try{var r=bt;for(X=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}bt=null,gl=!1}catch(l){throw bt!==null&&(bt=bt.slice(e+1)),$d(wa,rn),l}finally{X=t,ei=!1}}return null}var Tn=[],Rn=0,Xs=null,Js=0,Ye=[],Ke=0,fn=null,kt=1,St="";function an(e,t){Tn[Rn++]=Js,Tn[Rn++]=Xs,Xs=e,Js=t}function xu(e,t,r){Ye[Ke++]=kt,Ye[Ke++]=St,Ye[Ke++]=fn,fn=e;var s=kt;e=St;var l=32-ot(s)-1;s&=~(1<<l),r+=1;var i=32-ot(t)+l;if(30<i){var a=l-l%5;i=(s&(1<<a)-1).toString(32),s>>=a,l-=a,kt=1<<32-ot(t)+l|r<<l|s,St=i+e}else kt=1<<i|r<<l|s,St=e}function _a(e){e.return!==null&&(an(e,1),xu(e,1,0))}function Ta(e){for(;e===Xs;)Xs=Tn[--Rn],Tn[Rn]=null,Js=Tn[--Rn],Tn[Rn]=null;for(;e===fn;)fn=Ye[--Ke],Ye[Ke]=null,St=Ye[--Ke],Ye[Ke]=null,kt=Ye[--Ke],Ye[Ke]=null}var We=null,Oe=null,ie=!1,at=null;function gu(e,t){var r=Xe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,Oe=qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,Oe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=fn!==null?{id:kt,overflow:St}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,We=e,Oe=null,!0):!1;default:return!1}}function Ui(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $i(e){if(ie){var t=Oe;if(t){var r=t;if(!wc(e,t)){if(Ui(e))throw Error(L(418));t=qt(r.nextSibling);var s=We;t&&wc(e,t)?gu(s,r):(e.flags=e.flags&-4097|2,ie=!1,We=e)}}else{if(Ui(e))throw Error(L(418));e.flags=e.flags&-4097|2,ie=!1,We=e}}}function bc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function js(e){if(e!==We)return!1;if(!ie)return bc(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Di(e.type,e.memoizedProps)),t&&(t=Oe)){if(Ui(e))throw vu(),Error(L(418));for(;t;)gu(e,t),t=qt(t.nextSibling)}if(bc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Oe=qt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Oe=null}}else Oe=We?qt(e.stateNode.nextSibling):null;return!0}function vu(){for(var e=Oe;e;)e=qt(e.nextSibling)}function Vn(){Oe=We=null,ie=!1}function Ra(e){at===null?at=[e]:at.push(e)}var Qp=Tt.ReactCurrentBatchConfig;function hr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var s=r.stateNode}if(!s)throw Error(L(147,e));var l=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var c=l.refs;a===null?delete c[i]:c[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function ws(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nc(e){var t=e._init;return t(e._payload)}function yu(e){function t(x,m){if(e){var u=x.deletions;u===null?(x.deletions=[m],x.flags|=16):u.push(m)}}function r(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function s(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function l(x,m){return x=Xt(x,m),x.index=0,x.sibling=null,x}function i(x,m,u){return x.index=u,e?(u=x.alternate,u!==null?(u=u.index,u<m?(x.flags|=2,m):u):(x.flags|=2,m)):(x.flags|=1048576,m)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function c(x,m,u,N){return m===null||m.tag!==6?(m=ai(u,x.mode,N),m.return=x,m):(m=l(m,u),m.return=x,m)}function o(x,m,u,N){var w=u.type;return w===Sn?f(x,m,u.props.children,N,u.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===It&&Nc(w)===m.type)?(N=l(m,u.props),N.ref=hr(x,m,u),N.return=x,N):(N=Us(u.type,u.key,u.props,null,x.mode,N),N.ref=hr(x,m,u),N.return=x,N)}function d(x,m,u,N){return m===null||m.tag!==4||m.stateNode.containerInfo!==u.containerInfo||m.stateNode.implementation!==u.implementation?(m=oi(u,x.mode,N),m.return=x,m):(m=l(m,u.children||[]),m.return=x,m)}function f(x,m,u,N,w){return m===null||m.tag!==7?(m=hn(u,x.mode,N,w),m.return=x,m):(m=l(m,u),m.return=x,m)}function h(x,m,u){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ai(""+m,x.mode,u),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ds:return u=Us(m.type,m.key,m.props,null,x.mode,u),u.ref=hr(x,null,m),u.return=x,u;case kn:return m=oi(m,x.mode,u),m.return=x,m;case It:var N=m._init;return h(x,N(m._payload),u)}if(jr(m)||or(m))return m=hn(m,x.mode,u,null),m.return=x,m;ws(x,m)}return null}function g(x,m,u,N){var w=m!==null?m.key:null;if(typeof u=="string"&&u!==""||typeof u=="number")return w!==null?null:c(x,m,""+u,N);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case ds:return u.key===w?o(x,m,u,N):null;case kn:return u.key===w?d(x,m,u,N):null;case It:return w=u._init,g(x,m,w(u._payload),N)}if(jr(u)||or(u))return w!==null?null:f(x,m,u,N,null);ws(x,u)}return null}function b(x,m,u,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(u)||null,c(m,x,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ds:return x=x.get(N.key===null?u:N.key)||null,o(m,x,N,w);case kn:return x=x.get(N.key===null?u:N.key)||null,d(m,x,N,w);case It:var C=N._init;return b(x,m,u,C(N._payload),w)}if(jr(N)||or(N))return x=x.get(u)||null,f(m,x,N,w,null);ws(m,N)}return null}function j(x,m,u,N){for(var w=null,C=null,P=m,S=m=0,T=null;P!==null&&S<u.length;S++){P.index>S?(T=P,P=null):T=P.sibling;var _=g(x,P,u[S],N);if(_===null){P===null&&(P=T);break}e&&P&&_.alternate===null&&t(x,P),m=i(_,m,S),C===null?w=_:C.sibling=_,C=_,P=T}if(S===u.length)return r(x,P),ie&&an(x,S),w;if(P===null){for(;S<u.length;S++)P=h(x,u[S],N),P!==null&&(m=i(P,m,S),C===null?w=P:C.sibling=P,C=P);return ie&&an(x,S),w}for(P=s(x,P);S<u.length;S++)T=b(P,x,S,u[S],N),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?S:T.key),m=i(T,m,S),C===null?w=T:C.sibling=T,C=T);return e&&P.forEach(function(O){return t(x,O)}),ie&&an(x,S),w}function y(x,m,u,N){var w=or(u);if(typeof w!="function")throw Error(L(150));if(u=w.call(u),u==null)throw Error(L(151));for(var C=w=null,P=m,S=m=0,T=null,_=u.next();P!==null&&!_.done;S++,_=u.next()){P.index>S?(T=P,P=null):T=P.sibling;var O=g(x,P,_.value,N);if(O===null){P===null&&(P=T);break}e&&P&&O.alternate===null&&t(x,P),m=i(O,m,S),C===null?w=O:C.sibling=O,C=O,P=T}if(_.done)return r(x,P),ie&&an(x,S),w;if(P===null){for(;!_.done;S++,_=u.next())_=h(x,_.value,N),_!==null&&(m=i(_,m,S),C===null?w=_:C.sibling=_,C=_);return ie&&an(x,S),w}for(P=s(x,P);!_.done;S++,_=u.next())_=b(P,x,S,_.value,N),_!==null&&(e&&_.alternate!==null&&P.delete(_.key===null?S:_.key),m=i(_,m,S),C===null?w=_:C.sibling=_,C=_);return e&&P.forEach(function(J){return t(x,J)}),ie&&an(x,S),w}function k(x,m,u,N){if(typeof u=="object"&&u!==null&&u.type===Sn&&u.key===null&&(u=u.props.children),typeof u=="object"&&u!==null){switch(u.$$typeof){case ds:e:{for(var w=u.key,C=m;C!==null;){if(C.key===w){if(w=u.type,w===Sn){if(C.tag===7){r(x,C.sibling),m=l(C,u.props.children),m.return=x,x=m;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===It&&Nc(w)===C.type){r(x,C.sibling),m=l(C,u.props),m.ref=hr(x,C,u),m.return=x,x=m;break e}r(x,C);break}else t(x,C);C=C.sibling}u.type===Sn?(m=hn(u.props.children,x.mode,N,u.key),m.return=x,x=m):(N=Us(u.type,u.key,u.props,null,x.mode,N),N.ref=hr(x,m,u),N.return=x,x=N)}return a(x);case kn:e:{for(C=u.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===u.containerInfo&&m.stateNode.implementation===u.implementation){r(x,m.sibling),m=l(m,u.children||[]),m.return=x,x=m;break e}else{r(x,m);break}else t(x,m);m=m.sibling}m=oi(u,x.mode,N),m.return=x,x=m}return a(x);case It:return C=u._init,k(x,m,C(u._payload),N)}if(jr(u))return j(x,m,u,N);if(or(u))return y(x,m,u,N);ws(x,u)}return typeof u=="string"&&u!==""||typeof u=="number"?(u=""+u,m!==null&&m.tag===6?(r(x,m.sibling),m=l(m,u),m.return=x,x=m):(r(x,m),m=ai(u,x.mode,N),m.return=x,x=m),a(x)):r(x,m)}return k}var Hn=yu(!0),ju=yu(!1),Zs=nn(null),el=null,An=null,Aa=null;function Ma(){Aa=An=el=null}function Da(e){var t=Zs.current;re(Zs),e._currentValue=t}function Bi(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function $n(e,t){el=e,Aa=An=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ie=!0),e.firstContext=null)}function Ze(e){var t=e._currentValue;if(Aa!==e)if(e={context:e,memoizedValue:t,next:null},An===null){if(el===null)throw Error(L(308));An=e,el.dependencies={lanes:0,firstContext:e}}else An=An.next=e;return t}var dn=null;function za(e){dn===null?dn=[e]:dn.push(e)}function wu(e,t,r,s){var l=t.interleaved;return l===null?(r.next=r,za(t)):(r.next=l.next,l.next=r),t.interleaved=r,Lt(e,s)}function Lt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ft=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ct(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,G&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Lt(e,r)}return l=s.interleaved,l===null?(t.next=t,za(s)):(t.next=l.next,l.next=t),s.interleaved=t,Lt(e,r)}function As(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,ba(e,r)}}function kc(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var l=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?l=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?l=i=t:i=i.next=t}else l=i=t;r={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function tl(e,t,r,s){var l=e.updateQueue;Ft=!1;var i=l.firstBaseUpdate,a=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var o=c,d=o.next;o.next=null,a===null?i=d:a.next=d,a=o;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==a&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=o))}if(i!==null){var h=l.baseState;a=0,f=d=o=null,c=i;do{var g=c.lane,b=c.eventTime;if((s&g)===g){f!==null&&(f=f.next={eventTime:b,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var j=e,y=c;switch(g=t,b=r,y.tag){case 1:if(j=y.payload,typeof j=="function"){h=j.call(b,h,g);break e}h=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=y.payload,g=typeof j=="function"?j.call(b,h,g):j,g==null)break e;h=ce({},h,g);break e;case 2:Ft=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[c]:g.push(c))}else b={eventTime:b,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=b,o=h):f=f.next=b,a|=g;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;g=c,c=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(f===null&&(o=h),l.baseState=o,l.firstBaseUpdate=d,l.lastBaseUpdate=f,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);gn|=a,e.lanes=a,e.memoizedState=h}}function Sc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=r,typeof l!="function")throw Error(L(191,l));l.call(s)}}}var ts={},xt=nn(ts),Wr=nn(ts),Vr=nn(ts);function un(e){if(e===ts)throw Error(L(174));return e}function Fa(e,t){switch(Z(Vr,t),Z(Wr,e),Z(xt,ts),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wi(t,e)}re(xt),Z(xt,t)}function Qn(){re(xt),re(Wr),re(Vr)}function Nu(e){un(Vr.current);var t=un(xt.current),r=wi(t,e.type);t!==r&&(Z(Wr,e),Z(xt,r))}function Ua(e){Wr.current===e&&(re(xt),re(Wr))}var ae=nn(0);function nl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function $a(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var Ms=Tt.ReactCurrentDispatcher,ni=Tt.ReactCurrentBatchConfig,xn=0,oe=null,fe=null,ve=null,rl=!1,Pr=!1,Hr=0,qp=0;function Se(){throw Error(L(321))}function Ba(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dt(e[r],t[r]))return!1;return!0}function Oa(e,t,r,s,l,i){if(xn=i,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ms.current=e===null||e.memoizedState===null?Xp:Jp,e=r(s,l),Pr){i=0;do{if(Pr=!1,Hr=0,25<=i)throw Error(L(301));i+=1,ve=fe=null,t.updateQueue=null,Ms.current=Zp,e=r(s,l)}while(Pr)}if(Ms.current=sl,t=fe!==null&&fe.next!==null,xn=0,ve=fe=oe=null,rl=!1,t)throw Error(L(300));return e}function Wa(){var e=Hr!==0;return Hr=0,e}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?oe.memoizedState=ve=e:ve=ve.next=e,ve}function et(){if(fe===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=ve===null?oe.memoizedState:ve.next;if(t!==null)ve=t,fe=e;else{if(e===null)throw Error(L(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ve===null?oe.memoizedState=ve=e:ve=ve.next=e}return ve}function Qr(e,t){return typeof t=="function"?t(e):t}function ri(e){var t=et(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var s=fe,l=s.baseQueue,i=r.pending;if(i!==null){if(l!==null){var a=l.next;l.next=i.next,i.next=a}s.baseQueue=l=i,r.pending=null}if(l!==null){i=l.next,s=s.baseState;var c=a=null,o=null,d=i;do{var f=d.lane;if((xn&f)===f)o!==null&&(o=o.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};o===null?(c=o=h,a=s):o=o.next=h,oe.lanes|=f,gn|=f}d=d.next}while(d!==null&&d!==i);o===null?a=s:o.next=c,dt(s,t.memoizedState)||(Ie=!0),t.memoizedState=s,t.baseState=a,t.baseQueue=o,r.lastRenderedState=s}if(e=r.interleaved,e!==null){l=e;do i=l.lane,oe.lanes|=i,gn|=i,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function si(e){var t=et(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var s=r.dispatch,l=r.pending,i=t.memoizedState;if(l!==null){r.pending=null;var a=l=l.next;do i=e(i,a.action),a=a.next;while(a!==l);dt(i,t.memoizedState)||(Ie=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function ku(){}function Su(e,t){var r=oe,s=et(),l=t(),i=!dt(s.memoizedState,l);if(i&&(s.memoizedState=l,Ie=!0),s=s.queue,Va(Pu.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,qr(9,Eu.bind(null,r,s,l,t),void 0,null),ye===null)throw Error(L(349));xn&30||Cu(r,t,l)}return l}function Cu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Eu(e,t,r,s){t.value=r,t.getSnapshot=s,Lu(t)&&_u(e)}function Pu(e,t,r){return r(function(){Lu(t)&&_u(e)})}function Lu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dt(e,r)}catch{return!0}}function _u(e){var t=Lt(e,1);t!==null&&ct(t,e,1,-1)}function Cc(e){var t=ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:e},t.queue=e,e=e.dispatch=Kp.bind(null,oe,e),[t.memoizedState,e]}function qr(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Tu(){return et().memoizedState}function Ds(e,t,r,s){var l=ht();oe.flags|=e,l.memoizedState=qr(1|t,r,void 0,s===void 0?null:s)}function vl(e,t,r,s){var l=et();s=s===void 0?null:s;var i=void 0;if(fe!==null){var a=fe.memoizedState;if(i=a.destroy,s!==null&&Ba(s,a.deps)){l.memoizedState=qr(t,r,i,s);return}}oe.flags|=e,l.memoizedState=qr(1|t,r,i,s)}function Ec(e,t){return Ds(8390656,8,e,t)}function Va(e,t){return vl(2048,8,e,t)}function Ru(e,t){return vl(4,2,e,t)}function Au(e,t){return vl(4,4,e,t)}function Mu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Du(e,t,r){return r=r!=null?r.concat([e]):null,vl(4,4,Mu.bind(null,t,e),r)}function Ha(){}function zu(e,t){var r=et();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Ba(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Iu(e,t){var r=et();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Ba(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Fu(e,t,r){return xn&21?(dt(r,t)||(r=Wd(),oe.lanes|=r,gn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ie=!0),e.memoizedState=r)}function Gp(e,t){var r=X;X=r!==0&&4>r?r:4,e(!0);var s=ni.transition;ni.transition={};try{e(!1),t()}finally{X=r,ni.transition=s}}function Uu(){return et().memoizedState}function Yp(e,t,r){var s=Kt(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},$u(e))Bu(t,r);else if(r=wu(e,t,r,s),r!==null){var l=Re();ct(r,e,s,l),Ou(r,t,s)}}function Kp(e,t,r){var s=Kt(e),l={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if($u(e))Bu(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,c=i(a,r);if(l.hasEagerState=!0,l.eagerState=c,dt(c,a)){var o=t.interleaved;o===null?(l.next=l,za(t)):(l.next=o.next,o.next=l),t.interleaved=l;return}}catch{}finally{}r=wu(e,t,l,s),r!==null&&(l=Re(),ct(r,e,s,l),Ou(r,t,s))}}function $u(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function Bu(e,t){Pr=rl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ou(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,ba(e,r)}}var sl={readContext:Ze,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Xp={readContext:Ze,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:Ec,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ds(4194308,4,Mu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var r=ht();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=ht();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Yp.bind(null,oe,e),[s.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:Cc,useDebugValue:Ha,useDeferredValue:function(e){return ht().memoizedState=e},useTransition:function(){var e=Cc(!1),t=e[0];return e=Gp.bind(null,e[1]),ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=oe,l=ht();if(ie){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),ye===null)throw Error(L(349));xn&30||Cu(s,t,r)}l.memoizedState=r;var i={value:r,getSnapshot:t};return l.queue=i,Ec(Pu.bind(null,s,i,e),[e]),s.flags|=2048,qr(9,Eu.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=ht(),t=ye.identifierPrefix;if(ie){var r=St,s=kt;r=(s&~(1<<32-ot(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Hr++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=qp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jp={readContext:Ze,useCallback:zu,useContext:Ze,useEffect:Va,useImperativeHandle:Du,useInsertionEffect:Ru,useLayoutEffect:Au,useMemo:Iu,useReducer:ri,useRef:Tu,useState:function(){return ri(Qr)},useDebugValue:Ha,useDeferredValue:function(e){var t=et();return Fu(t,fe.memoizedState,e)},useTransition:function(){var e=ri(Qr)[0],t=et().memoizedState;return[e,t]},useMutableSource:ku,useSyncExternalStore:Su,useId:Uu,unstable_isNewReconciler:!1},Zp={readContext:Ze,useCallback:zu,useContext:Ze,useEffect:Va,useImperativeHandle:Du,useInsertionEffect:Ru,useLayoutEffect:Au,useMemo:Iu,useReducer:si,useRef:Tu,useState:function(){return si(Qr)},useDebugValue:Ha,useDeferredValue:function(e){var t=et();return fe===null?t.memoizedState=e:Fu(t,fe.memoizedState,e)},useTransition:function(){var e=si(Qr)[0],t=et().memoizedState;return[e,t]},useMutableSource:ku,useSyncExternalStore:Su,useId:Uu,unstable_isNewReconciler:!1};function lt(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Oi(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:ce({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yl={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Re(),l=Kt(e),i=Ct(s,l);i.payload=t,r!=null&&(i.callback=r),t=Gt(e,i,l),t!==null&&(ct(t,e,l,s),As(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Re(),l=Kt(e),i=Ct(s,l);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Gt(e,i,l),t!==null&&(ct(t,e,l,s),As(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Re(),s=Kt(e),l=Ct(r,s);l.tag=2,t!=null&&(l.callback=t),t=Gt(e,l,s),t!==null&&(ct(t,e,s,r),As(t,e,s))}};function Pc(e,t,r,s,l,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ur(r,s)||!Ur(l,i):!0}function Wu(e,t,r){var s=!1,l=en,i=t.contextType;return typeof i=="object"&&i!==null?i=Ze(i):(l=Ue(t)?pn:Pe.current,s=t.contextTypes,i=(s=s!=null)?Wn(e,l):en),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function Lc(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&yl.enqueueReplaceState(t,t.state,null)}function Wi(e,t,r,s){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Ia(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=Ze(i):(i=Ue(t)?pn:Pe.current,l.context=Wn(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Oi(e,t,i,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&yl.enqueueReplaceState(l,l.state,null),tl(e,r,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function qn(e,t){try{var r="",s=t;do r+=Eh(s),s=s.return;while(s);var l=r}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function li(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Vi(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var e0=typeof WeakMap=="function"?WeakMap:Map;function Vu(e,t,r){r=Ct(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){il||(il=!0,ea=s),Vi(e,t)},r}function Hu(e,t,r){r=Ct(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;r.payload=function(){return s(l)},r.callback=function(){Vi(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Vi(e,t),typeof s!="function"&&(Yt===null?Yt=new Set([this]):Yt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function _c(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new e0;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(r)||(l.add(r),e=p0.bind(null,e,t,r),t.then(e,e))}function Tc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rc(e,t,r,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ct(-1,1),t.tag=2,Gt(r,t,1))),r.lanes|=1),e)}var t0=Tt.ReactCurrentOwner,Ie=!1;function _e(e,t,r,s){t.child=e===null?ju(t,null,r,s):Hn(t,e.child,r,s)}function Ac(e,t,r,s,l){r=r.render;var i=t.ref;return $n(t,l),s=Oa(e,t,r,s,i,l),r=Wa(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,_t(e,t,l)):(ie&&r&&_a(t),t.flags|=1,_e(e,t,s,l),t.child)}function Mc(e,t,r,s,l){if(e===null){var i=r.type;return typeof i=="function"&&!Za(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Qu(e,t,i,s,l)):(e=Us(r.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ur,r(a,s)&&e.ref===t.ref)return _t(e,t,l)}return t.flags|=1,e=Xt(i,s),e.ref=t.ref,e.return=t,t.child=e}function Qu(e,t,r,s,l){if(e!==null){var i=e.memoizedProps;if(Ur(i,s)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=s=i,(e.lanes&l)!==0)e.flags&131072&&(Ie=!0);else return t.lanes=e.lanes,_t(e,t,l)}return Hi(e,t,r,s,l)}function qu(e,t,r){var s=t.pendingProps,l=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Dn,Be),Be|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(Dn,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,Z(Dn,Be),Be|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,Z(Dn,Be),Be|=s;return _e(e,t,l,r),t.child}function Gu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Hi(e,t,r,s,l){var i=Ue(r)?pn:Pe.current;return i=Wn(t,i),$n(t,l),r=Oa(e,t,r,s,i,l),s=Wa(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,_t(e,t,l)):(ie&&s&&_a(t),t.flags|=1,_e(e,t,r,l),t.child)}function Dc(e,t,r,s,l){if(Ue(r)){var i=!0;Ks(t)}else i=!1;if($n(t,l),t.stateNode===null)zs(e,t),Wu(t,r,s),Wi(t,r,s,l),s=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var o=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=Ze(d):(d=Ue(r)?pn:Pe.current,d=Wn(t,d));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==s||o!==d)&&Lc(t,a,s,d),Ft=!1;var g=t.memoizedState;a.state=g,tl(t,s,a,l),o=t.memoizedState,c!==s||g!==o||Fe.current||Ft?(typeof f=="function"&&(Oi(t,r,f,s),o=t.memoizedState),(c=Ft||Pc(t,r,c,s,g,o,d))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=o),a.props=s,a.state=o,a.context=d,s=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,bu(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:lt(t.type,c),a.props=d,h=t.pendingProps,g=a.context,o=r.contextType,typeof o=="object"&&o!==null?o=Ze(o):(o=Ue(r)?pn:Pe.current,o=Wn(t,o));var b=r.getDerivedStateFromProps;(f=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==h||g!==o)&&Lc(t,a,s,o),Ft=!1,g=t.memoizedState,a.state=g,tl(t,s,a,l);var j=t.memoizedState;c!==h||g!==j||Fe.current||Ft?(typeof b=="function"&&(Oi(t,r,b,s),j=t.memoizedState),(d=Ft||Pc(t,r,d,s,g,j,o)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,j,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,j,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),a.props=s,a.state=j,a.context=o,s=d):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return Qi(e,t,r,s,i,l)}function Qi(e,t,r,s,l,i){Gu(e,t);var a=(t.flags&128)!==0;if(!s&&!a)return l&&jc(t,r,!1),_t(e,t,i);s=t.stateNode,t0.current=t;var c=a&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&a?(t.child=Hn(t,e.child,null,i),t.child=Hn(t,null,c,i)):_e(e,t,c,i),t.memoizedState=s.state,l&&jc(t,r,!0),t.child}function Yu(e){var t=e.stateNode;t.pendingContext?yc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yc(e,t.context,!1),Fa(e,t.containerInfo)}function zc(e,t,r,s,l){return Vn(),Ra(l),t.flags|=256,_e(e,t,r,s),t.child}var qi={dehydrated:null,treeContext:null,retryLane:0};function Gi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ku(e,t,r){var s=t.pendingProps,l=ae.current,i=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(l&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Z(ae,l&1),e===null)return $i(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=s.children,e=s.fallback,i?(s=t.mode,i=t.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=bl(a,s,0,null),e=hn(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Gi(r),t.memoizedState=qi,e):Qa(t,a));if(l=e.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return n0(e,t,a,s,c,l,r);if(i){i=s.fallback,a=t.mode,l=e.child,c=l.sibling;var o={mode:"hidden",children:s.children};return!(a&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=o,t.deletions=null):(s=Xt(l,o),s.subtreeFlags=l.subtreeFlags&14680064),c!==null?i=Xt(c,i):(i=hn(i,a,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,a=e.child.memoizedState,a=a===null?Gi(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=qi,s}return i=e.child,e=i.sibling,s=Xt(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Qa(e,t){return t=bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bs(e,t,r,s){return s!==null&&Ra(s),Hn(t,e.child,null,r),e=Qa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function n0(e,t,r,s,l,i,a){if(r)return t.flags&256?(t.flags&=-257,s=li(Error(L(422))),bs(e,t,a,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,l=t.mode,s=bl({mode:"visible",children:s.children},l,0,null),i=hn(i,l,a,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Hn(t,e.child,null,a),t.child.memoizedState=Gi(a),t.memoizedState=qi,i);if(!(t.mode&1))return bs(e,t,a,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var c=s.dgst;return s=c,i=Error(L(419)),s=li(i,s,void 0),bs(e,t,a,s)}if(c=(a&e.childLanes)!==0,Ie||c){if(s=ye,s!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|a)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Lt(e,l),ct(s,e,l,-1))}return Ja(),s=li(Error(L(421))),bs(e,t,a,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=f0.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,Oe=qt(l.nextSibling),We=t,ie=!0,at=null,e!==null&&(Ye[Ke++]=kt,Ye[Ke++]=St,Ye[Ke++]=fn,kt=e.id,St=e.overflow,fn=t),t=Qa(t,s.children),t.flags|=4096,t)}function Ic(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Bi(e.return,t,r)}function ii(e,t,r,s,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=l)}function Xu(e,t,r){var s=t.pendingProps,l=s.revealOrder,i=s.tail;if(_e(e,t,s.children,r),s=ae.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ic(e,r,t);else if(e.tag===19)Ic(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Z(ae,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&nl(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),ii(t,!1,l,r,i);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&nl(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}ii(t,!0,r,null,i);break;case"together":ii(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),gn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=Xt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function r0(e,t,r){switch(t.tag){case 3:Yu(t),Vn();break;case 5:Nu(t);break;case 1:Ue(t.type)&&Ks(t);break;case 4:Fa(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;Z(Zs,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Z(ae,ae.current&1),t.flags|=128,null):r&t.child.childLanes?Ku(e,t,r):(Z(ae,ae.current&1),e=_t(e,t,r),e!==null?e.sibling:null);Z(ae,ae.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Xu(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Z(ae,ae.current),s)break;return null;case 22:case 23:return t.lanes=0,qu(e,t,r)}return _t(e,t,r)}var Ju,Yi,Zu,em;Ju=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Yi=function(){};Zu=function(e,t,r,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,un(xt.current);var i=null;switch(r){case"input":l=gi(e,l),s=gi(e,s),i=[];break;case"select":l=ce({},l,{value:void 0}),s=ce({},s,{value:void 0}),i=[];break;case"textarea":l=ji(e,l),s=ji(e,s),i=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Gs)}bi(r,s);var a;r=null;for(d in l)if(!s.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var c=l[d];for(a in c)c.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Rr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var o=s[d];if(c=l!=null?l[d]:void 0,s.hasOwnProperty(d)&&o!==c&&(o!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in o)o.hasOwnProperty(a)&&c[a]!==o[a]&&(r||(r={}),r[a]=o[a])}else r||(i||(i=[]),i.push(d,r)),r=o;else d==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(i=i||[]).push(d,o)):d==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(d,""+o):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Rr.hasOwnProperty(d)?(o!=null&&d==="onScroll"&&ne("scroll",e),i||c===o||(i=[])):(i=i||[]).push(d,o))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};em=function(e,t,r,s){r!==s&&(t.flags|=4)};function pr(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function s0(e,t,r){var s=t.pendingProps;switch(Ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Ue(t.type)&&Ys(),Ce(t),null;case 3:return s=t.stateNode,Qn(),re(Fe),re(Pe),$a(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,at!==null&&(ra(at),at=null))),Yi(e,t),Ce(t),null;case 5:Ua(t);var l=un(Vr.current);if(r=t.type,e!==null&&t.stateNode!=null)Zu(e,t,r,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(L(166));return Ce(t),null}if(e=un(xt.current),js(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[pt]=t,s[Or]=i,e=(t.mode&1)!==0,r){case"dialog":ne("cancel",s),ne("close",s);break;case"iframe":case"object":case"embed":ne("load",s);break;case"video":case"audio":for(l=0;l<br.length;l++)ne(br[l],s);break;case"source":ne("error",s);break;case"img":case"image":case"link":ne("error",s),ne("load",s);break;case"details":ne("toggle",s);break;case"input":Qo(s,i),ne("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ne("invalid",s);break;case"textarea":Go(s,i),ne("invalid",s)}bi(r,i),l=null;for(var a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="children"?typeof c=="string"?s.textContent!==c&&(i.suppressHydrationWarning!==!0&&ys(s.textContent,c,e),l=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&ys(s.textContent,c,e),l=["children",""+c]):Rr.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&ne("scroll",s)}switch(r){case"input":us(s),qo(s,i,!0);break;case"textarea":us(s),Yo(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Gs)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=a.createElement(r,{is:s.is}):(e=a.createElement(r),r==="select"&&(a=e,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):e=a.createElementNS(e,r),e[pt]=t,e[Or]=s,Ju(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ni(r,s),r){case"dialog":ne("cancel",e),ne("close",e),l=s;break;case"iframe":case"object":case"embed":ne("load",e),l=s;break;case"video":case"audio":for(l=0;l<br.length;l++)ne(br[l],e);l=s;break;case"source":ne("error",e),l=s;break;case"img":case"image":case"link":ne("error",e),ne("load",e),l=s;break;case"details":ne("toggle",e),l=s;break;case"input":Qo(e,s),l=gi(e,s),ne("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=ce({},s,{value:void 0}),ne("invalid",e);break;case"textarea":Go(e,s),l=ji(e,s),ne("invalid",e);break;default:l=s}bi(r,l),c=l;for(i in c)if(c.hasOwnProperty(i)){var o=c[i];i==="style"?Td(e,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Ld(e,o)):i==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&Ar(e,o):typeof o=="number"&&Ar(e,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rr.hasOwnProperty(i)?o!=null&&i==="onScroll"&&ne("scroll",e):o!=null&&xa(e,i,o,a))}switch(r){case"input":us(e),qo(e,s,!1);break;case"textarea":us(e),Yo(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Zt(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?zn(e,!!s.multiple,i,!1):s.defaultValue!=null&&zn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Gs)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)em(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(L(166));if(r=un(Vr.current),un(xt.current),js(t)){if(s=t.stateNode,r=t.memoizedProps,s[pt]=t,(i=s.nodeValue!==r)&&(e=We,e!==null))switch(e.tag){case 3:ys(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ys(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[pt]=t,t.stateNode=s}return Ce(t),null;case 13:if(re(ae),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&Oe!==null&&t.mode&1&&!(t.flags&128))vu(),Vn(),t.flags|=98560,i=!1;else if(i=js(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[pt]=t}else Vn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),i=!1}else at!==null&&(ra(at),at=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?xe===0&&(xe=3):Ja())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return Qn(),Yi(e,t),e===null&&$r(t.stateNode.containerInfo),Ce(t),null;case 10:return Da(t.type._context),Ce(t),null;case 17:return Ue(t.type)&&Ys(),Ce(t),null;case 19:if(re(ae),i=t.memoizedState,i===null)return Ce(t),null;if(s=(t.flags&128)!==0,a=i.rendering,a===null)if(s)pr(i,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=nl(e),a!==null){for(t.flags|=128,pr(i,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Z(ae,ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&ue()>Gn&&(t.flags|=128,s=!0,pr(i,!1),t.lanes=4194304)}else{if(!s)if(e=nl(a),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),pr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ie)return Ce(t),null}else 2*ue()-i.renderingStartTime>Gn&&r!==1073741824&&(t.flags|=128,s=!0,pr(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ue(),t.sibling=null,r=ae.current,Z(ae,s?r&1|2:r&1),t):(Ce(t),null);case 22:case 23:return Xa(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Be&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function l0(e,t){switch(Ta(t),t.tag){case 1:return Ue(t.type)&&Ys(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qn(),re(Fe),re(Pe),$a(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ua(t),null;case 13:if(re(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ae),null;case 4:return Qn(),null;case 10:return Da(t.type._context),null;case 22:case 23:return Xa(),null;case 24:return null;default:return null}}var Ns=!1,Ee=!1,i0=typeof WeakSet=="function"?WeakSet:Set,z=null;function Mn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){de(e,t,s)}else r.current=null}function Ki(e,t,r){try{r()}catch(s){de(e,t,s)}}var Fc=!1;function a0(e,t){if(Ai=Hs,e=lu(),La(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var l=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,c=-1,o=-1,d=0,f=0,h=e,g=null;t:for(;;){for(var b;h!==r||l!==0&&h.nodeType!==3||(c=a+l),h!==i||s!==0&&h.nodeType!==3||(o=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(b=h.firstChild)!==null;)g=h,h=b;for(;;){if(h===e)break t;if(g===r&&++d===l&&(c=a),g===i&&++f===s&&(o=a),(b=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=b}r=c===-1||o===-1?null:{start:c,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mi={focusedElem:e,selectionRange:r},Hs=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var y=j.memoizedProps,k=j.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:lt(t.type,y),k);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var u=t.stateNode.containerInfo;u.nodeType===1?u.textContent="":u.nodeType===9&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(N){de(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return j=Fc,Fc=!1,j}function Lr(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&Ki(t,r,i)}l=l.next}while(l!==s)}}function jl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Xi(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function tm(e){var t=e.alternate;t!==null&&(e.alternate=null,tm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pt],delete t[Or],delete t[Ii],delete t[Wp],delete t[Vp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nm(e){return e.tag===5||e.tag===3||e.tag===4}function Uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ji(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Gs));else if(s!==4&&(e=e.child,e!==null))for(Ji(e,t,r),e=e.sibling;e!==null;)Ji(e,t,r),e=e.sibling}function Zi(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Zi(e,t,r),e=e.sibling;e!==null;)Zi(e,t,r),e=e.sibling}var we=null,it=!1;function zt(e,t,r){for(r=r.child;r!==null;)rm(e,t,r),r=r.sibling}function rm(e,t,r){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(ml,r)}catch{}switch(r.tag){case 5:Ee||Mn(r,t);case 6:var s=we,l=it;we=null,zt(e,t,r),we=s,it=l,we!==null&&(it?(e=we,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):we.removeChild(r.stateNode));break;case 18:we!==null&&(it?(e=we,r=r.stateNode,e.nodeType===8?Zl(e.parentNode,r):e.nodeType===1&&Zl(e,r),Ir(e)):Zl(we,r.stateNode));break;case 4:s=we,l=it,we=r.stateNode.containerInfo,it=!0,zt(e,t,r),we=s,it=l;break;case 0:case 11:case 14:case 15:if(!Ee&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var i=l,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ki(r,t,a),l=l.next}while(l!==s)}zt(e,t,r);break;case 1:if(!Ee&&(Mn(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(c){de(r,t,c)}zt(e,t,r);break;case 21:zt(e,t,r);break;case 22:r.mode&1?(Ee=(s=Ee)||r.memoizedState!==null,zt(e,t,r),Ee=s):zt(e,t,r);break;default:zt(e,t,r)}}function $c(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new i0),t.forEach(function(s){var l=x0.bind(null,e,s);r.has(s)||(r.add(s),s.then(l,l))})}}function rt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];try{var i=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:we=c.stateNode,it=!1;break e;case 3:we=c.stateNode.containerInfo,it=!0;break e;case 4:we=c.stateNode.containerInfo,it=!0;break e}c=c.return}if(we===null)throw Error(L(160));rm(i,a,l),we=null,it=!1;var o=l.alternate;o!==null&&(o.return=null),l.return=null}catch(d){de(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sm(t,e),t=t.sibling}function sm(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rt(t,e),mt(e),s&4){try{Lr(3,e,e.return),jl(3,e)}catch(y){de(e,e.return,y)}try{Lr(5,e,e.return)}catch(y){de(e,e.return,y)}}break;case 1:rt(t,e),mt(e),s&512&&r!==null&&Mn(r,r.return);break;case 5:if(rt(t,e),mt(e),s&512&&r!==null&&Mn(r,r.return),e.flags&32){var l=e.stateNode;try{Ar(l,"")}catch(y){de(e,e.return,y)}}if(s&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&Cd(l,i),Ni(c,a);var d=Ni(c,i);for(a=0;a<o.length;a+=2){var f=o[a],h=o[a+1];f==="style"?Td(l,h):f==="dangerouslySetInnerHTML"?Ld(l,h):f==="children"?Ar(l,h):xa(l,f,h,d)}switch(c){case"input":vi(l,i);break;case"textarea":Ed(l,i);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var b=i.value;b!=null?zn(l,!!i.multiple,b,!1):g!==!!i.multiple&&(i.defaultValue!=null?zn(l,!!i.multiple,i.defaultValue,!0):zn(l,!!i.multiple,i.multiple?[]:"",!1))}l[Or]=i}catch(y){de(e,e.return,y)}}break;case 6:if(rt(t,e),mt(e),s&4){if(e.stateNode===null)throw Error(L(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(y){de(e,e.return,y)}}break;case 3:if(rt(t,e),mt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Ir(t.containerInfo)}catch(y){de(e,e.return,y)}break;case 4:rt(t,e),mt(e);break;case 13:rt(t,e),mt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Ya=ue())),s&4&&$c(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Ee=(d=Ee)||f,rt(t,e),Ee=d):rt(t,e),mt(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(z=e,f=e.child;f!==null;){for(h=z=f;z!==null;){switch(g=z,b=g.child,g.tag){case 0:case 11:case 14:case 15:Lr(4,g,g.return);break;case 1:Mn(g,g.return);var j=g.stateNode;if(typeof j.componentWillUnmount=="function"){s=g,r=g.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(y){de(s,r,y)}}break;case 5:Mn(g,g.return);break;case 22:if(g.memoizedState!==null){Oc(h);continue}}b!==null?(b.return=g,z=b):Oc(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{l=h.stateNode,d?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=h.stateNode,o=h.memoizedProps.style,a=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=_d("display",a))}catch(y){de(e,e.return,y)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(y){de(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:rt(t,e),mt(e),s&4&&$c(e);break;case 21:break;default:rt(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(nm(r)){var s=r;break e}r=r.return}throw Error(L(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Ar(l,""),s.flags&=-33);var i=Uc(e);Zi(e,i,l);break;case 3:case 4:var a=s.stateNode.containerInfo,c=Uc(e);Ji(e,c,a);break;default:throw Error(L(161))}}catch(o){de(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function o0(e,t,r){z=e,lm(e)}function lm(e,t,r){for(var s=(e.mode&1)!==0;z!==null;){var l=z,i=l.child;if(l.tag===22&&s){var a=l.memoizedState!==null||Ns;if(!a){var c=l.alternate,o=c!==null&&c.memoizedState!==null||Ee;c=Ns;var d=Ee;if(Ns=a,(Ee=o)&&!d)for(z=l;z!==null;)a=z,o=a.child,a.tag===22&&a.memoizedState!==null?Wc(l):o!==null?(o.return=a,z=o):Wc(l);for(;i!==null;)z=i,lm(i),i=i.sibling;z=l,Ns=c,Ee=d}Bc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,z=i):Bc(e)}}function Bc(e){for(;z!==null;){var t=z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ee||jl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ee)if(r===null)s.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:lt(t.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Sc(t,i,s);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sc(t,a,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Ir(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ee||t.flags&512&&Xi(t)}catch(g){de(t,t.return,g)}}if(t===e){z=null;break}if(r=t.sibling,r!==null){r.return=t.return,z=r;break}z=t.return}}function Oc(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,z=r;break}z=t.return}}function Wc(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{jl(4,t)}catch(o){de(t,r,o)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(o){de(t,l,o)}}var i=t.return;try{Xi(t)}catch(o){de(t,i,o)}break;case 5:var a=t.return;try{Xi(t)}catch(o){de(t,a,o)}}}catch(o){de(t,t.return,o)}if(t===e){z=null;break}var c=t.sibling;if(c!==null){c.return=t.return,z=c;break}z=t.return}}var c0=Math.ceil,ll=Tt.ReactCurrentDispatcher,qa=Tt.ReactCurrentOwner,Je=Tt.ReactCurrentBatchConfig,G=0,ye=null,he=null,be=0,Be=0,Dn=nn(0),xe=0,Gr=null,gn=0,wl=0,Ga=0,_r=null,ze=null,Ya=0,Gn=1/0,wt=null,il=!1,ea=null,Yt=null,ks=!1,Ot=null,al=0,Tr=0,ta=null,Is=-1,Fs=0;function Re(){return G&6?ue():Is!==-1?Is:Is=ue()}function Kt(e){return e.mode&1?G&2&&be!==0?be&-be:Qp.transition!==null?(Fs===0&&(Fs=Wd()),Fs):(e=X,e!==0||(e=window.event,e=e===void 0?16:Kd(e.type)),e):1}function ct(e,t,r,s){if(50<Tr)throw Tr=0,ta=null,Error(L(185));Jr(e,r,s),(!(G&2)||e!==ye)&&(e===ye&&(!(G&2)&&(wl|=r),xe===4&&$t(e,be)),$e(e,s),r===1&&G===0&&!(t.mode&1)&&(Gn=ue()+500,gl&&rn()))}function $e(e,t){var r=e.callbackNode;Qh(e,t);var s=Vs(e,e===ye?be:0);if(s===0)r!==null&&Jo(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Jo(r),t===1)e.tag===0?Hp(Vc.bind(null,e)):fu(Vc.bind(null,e)),Bp(function(){!(G&6)&&rn()}),r=null;else{switch(Vd(s)){case 1:r=wa;break;case 4:r=Bd;break;case 16:r=Ws;break;case 536870912:r=Od;break;default:r=Ws}r=hm(r,im.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function im(e,t){if(Is=-1,Fs=0,G&6)throw Error(L(327));var r=e.callbackNode;if(Bn()&&e.callbackNode!==r)return null;var s=Vs(e,e===ye?be:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ol(e,s);else{t=s;var l=G;G|=2;var i=om();(ye!==e||be!==t)&&(wt=null,Gn=ue()+500,mn(e,t));do try{m0();break}catch(c){am(e,c)}while(!0);Ma(),ll.current=i,G=l,he!==null?t=0:(ye=null,be=0,t=xe)}if(t!==0){if(t===2&&(l=Pi(e),l!==0&&(s=l,t=na(e,l))),t===1)throw r=Gr,mn(e,0),$t(e,s),$e(e,ue()),r;if(t===6)$t(e,s);else{if(l=e.current.alternate,!(s&30)&&!d0(l)&&(t=ol(e,s),t===2&&(i=Pi(e),i!==0&&(s=i,t=na(e,i))),t===1))throw r=Gr,mn(e,0),$t(e,s),$e(e,ue()),r;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(L(345));case 2:on(e,ze,wt);break;case 3:if($t(e,s),(s&130023424)===s&&(t=Ya+500-ue(),10<t)){if(Vs(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Re(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=zi(on.bind(null,e,ze,wt),t);break}on(e,ze,wt);break;case 4:if($t(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var a=31-ot(s);i=1<<a,a=t[a],a>l&&(l=a),s&=~i}if(s=l,s=ue()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*c0(s/1960))-s,10<s){e.timeoutHandle=zi(on.bind(null,e,ze,wt),s);break}on(e,ze,wt);break;case 5:on(e,ze,wt);break;default:throw Error(L(329))}}}return $e(e,ue()),e.callbackNode===r?im.bind(null,e):null}function na(e,t){var r=_r;return e.current.memoizedState.isDehydrated&&(mn(e,t).flags|=256),e=ol(e,t),e!==2&&(t=ze,ze=r,t!==null&&ra(t)),e}function ra(e){ze===null?ze=e:ze.push.apply(ze,e)}function d0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var l=r[s],i=l.getSnapshot;l=l.value;try{if(!dt(i(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $t(e,t){for(t&=~Ga,t&=~wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),s=1<<r;e[r]=-1,t&=~s}}function Vc(e){if(G&6)throw Error(L(327));Bn();var t=Vs(e,0);if(!(t&1))return $e(e,ue()),null;var r=ol(e,t);if(e.tag!==0&&r===2){var s=Pi(e);s!==0&&(t=s,r=na(e,s))}if(r===1)throw r=Gr,mn(e,0),$t(e,t),$e(e,ue()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,on(e,ze,wt),$e(e,ue()),null}function Ka(e,t){var r=G;G|=1;try{return e(t)}finally{G=r,G===0&&(Gn=ue()+500,gl&&rn())}}function vn(e){Ot!==null&&Ot.tag===0&&!(G&6)&&Bn();var t=G;G|=1;var r=Je.transition,s=X;try{if(Je.transition=null,X=1,e)return e()}finally{X=s,Je.transition=r,G=t,!(G&6)&&rn()}}function Xa(){Be=Dn.current,re(Dn)}function mn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$p(r)),he!==null)for(r=he.return;r!==null;){var s=r;switch(Ta(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ys();break;case 3:Qn(),re(Fe),re(Pe),$a();break;case 5:Ua(s);break;case 4:Qn();break;case 13:re(ae);break;case 19:re(ae);break;case 10:Da(s.type._context);break;case 22:case 23:Xa()}r=r.return}if(ye=e,he=e=Xt(e.current,null),be=Be=t,xe=0,Gr=null,Ga=wl=gn=0,ze=_r=null,dn!==null){for(t=0;t<dn.length;t++)if(r=dn[t],s=r.interleaved,s!==null){r.interleaved=null;var l=s.next,i=r.pending;if(i!==null){var a=i.next;i.next=l,s.next=a}r.pending=s}dn=null}return e}function am(e,t){do{var r=he;try{if(Ma(),Ms.current=sl,rl){for(var s=oe.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}rl=!1}if(xn=0,ve=fe=oe=null,Pr=!1,Hr=0,qa.current=null,r===null||r.return===null){xe=1,Gr=t,he=null;break}e:{var i=e,a=r.return,c=r,o=t;if(t=be,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=o,f=c,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var b=Tc(a);if(b!==null){b.flags&=-257,Rc(b,a,c,i,t),b.mode&1&&_c(i,d,t),t=b,o=d;var j=t.updateQueue;if(j===null){var y=new Set;y.add(o),t.updateQueue=y}else j.add(o);break e}else{if(!(t&1)){_c(i,d,t),Ja();break e}o=Error(L(426))}}else if(ie&&c.mode&1){var k=Tc(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Rc(k,a,c,i,t),Ra(qn(o,c));break e}}i=o=qn(o,c),xe!==4&&(xe=2),_r===null?_r=[i]:_r.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=Vu(i,o,t);kc(i,x);break e;case 1:c=o;var m=i.type,u=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Yt===null||!Yt.has(u)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=Hu(i,c,t);kc(i,N);break e}}i=i.return}while(i!==null)}dm(r)}catch(w){t=w,he===r&&r!==null&&(he=r=r.return);continue}break}while(!0)}function om(){var e=ll.current;return ll.current=sl,e===null?sl:e}function Ja(){(xe===0||xe===3||xe===2)&&(xe=4),ye===null||!(gn&268435455)&&!(wl&268435455)||$t(ye,be)}function ol(e,t){var r=G;G|=2;var s=om();(ye!==e||be!==t)&&(wt=null,mn(e,t));do try{u0();break}catch(l){am(e,l)}while(!0);if(Ma(),G=r,ll.current=s,he!==null)throw Error(L(261));return ye=null,be=0,xe}function u0(){for(;he!==null;)cm(he)}function m0(){for(;he!==null&&!Ih();)cm(he)}function cm(e){var t=mm(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?dm(e):he=t,qa.current=null}function dm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=l0(r,t),r!==null){r.flags&=32767,he=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,he=null;return}}else if(r=s0(r,t,Be),r!==null){he=r;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);xe===0&&(xe=5)}function on(e,t,r){var s=X,l=Je.transition;try{Je.transition=null,X=1,h0(e,t,r,s)}finally{Je.transition=l,X=s}return null}function h0(e,t,r,s){do Bn();while(Ot!==null);if(G&6)throw Error(L(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(qh(e,i),e===ye&&(he=ye=null,be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ks||(ks=!0,hm(Ws,function(){return Bn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var a=X;X=1;var c=G;G|=4,qa.current=null,a0(e,r),sm(r,e),Ap(Mi),Hs=!!Ai,Mi=Ai=null,e.current=r,o0(r),Fh(),G=c,X=a,Je.transition=i}else e.current=r;if(ks&&(ks=!1,Ot=e,al=l),i=e.pendingLanes,i===0&&(Yt=null),Bh(r.stateNode),$e(e,ue()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],s(l.value,{componentStack:l.stack,digest:l.digest});if(il)throw il=!1,e=ea,ea=null,e;return al&1&&e.tag!==0&&Bn(),i=e.pendingLanes,i&1?e===ta?Tr++:(Tr=0,ta=e):Tr=0,rn(),null}function Bn(){if(Ot!==null){var e=Vd(al),t=Je.transition,r=X;try{if(Je.transition=null,X=16>e?16:e,Ot===null)var s=!1;else{if(e=Ot,Ot=null,al=0,G&6)throw Error(L(331));var l=G;for(G|=4,z=e.current;z!==null;){var i=z,a=i.child;if(z.flags&16){var c=i.deletions;if(c!==null){for(var o=0;o<c.length;o++){var d=c[o];for(z=d;z!==null;){var f=z;switch(f.tag){case 0:case 11:case 15:Lr(8,f,i)}var h=f.child;if(h!==null)h.return=f,z=h;else for(;z!==null;){f=z;var g=f.sibling,b=f.return;if(tm(f),f===d){z=null;break}if(g!==null){g.return=b,z=g;break}z=b}}}var j=i.alternate;if(j!==null){var y=j.child;if(y!==null){j.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}z=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,z=a;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Lr(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,z=x;break e}z=i.return}}var m=e.current;for(z=m;z!==null;){a=z;var u=a.child;if(a.subtreeFlags&2064&&u!==null)u.return=a,z=u;else e:for(a=m;z!==null;){if(c=z,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:jl(9,c)}}catch(w){de(c,c.return,w)}if(c===a){z=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,z=N;break e}z=c.return}}if(G=l,rn(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(ml,e)}catch{}s=!0}return s}finally{X=r,Je.transition=t}}return!1}function Hc(e,t,r){t=qn(r,t),t=Vu(e,t,1),e=Gt(e,t,1),t=Re(),e!==null&&(Jr(e,1,t),$e(e,t))}function de(e,t,r){if(e.tag===3)Hc(e,e,r);else for(;t!==null;){if(t.tag===3){Hc(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Yt===null||!Yt.has(s))){e=qn(r,e),e=Hu(t,e,1),t=Gt(t,e,1),e=Re(),t!==null&&(Jr(t,1,e),$e(t,e));break}}t=t.return}}function p0(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&r,ye===e&&(be&r)===r&&(xe===4||xe===3&&(be&130023424)===be&&500>ue()-Ya?mn(e,0):Ga|=r),$e(e,t)}function um(e,t){t===0&&(e.mode&1?(t=ps,ps<<=1,!(ps&130023424)&&(ps=4194304)):t=1);var r=Re();e=Lt(e,t),e!==null&&(Jr(e,t,r),$e(e,r))}function f0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),um(e,r)}function x0(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(L(314))}s!==null&&s.delete(t),um(e,r)}var mm;mm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)Ie=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ie=!1,r0(e,t,r);Ie=!!(e.flags&131072)}else Ie=!1,ie&&t.flags&1048576&&xu(t,Js,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;zs(e,t),e=t.pendingProps;var l=Wn(t,Pe.current);$n(t,r),l=Oa(null,t,s,e,l,r);var i=Wa();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(s)?(i=!0,Ks(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ia(t),l.updater=yl,t.stateNode=l,l._reactInternals=t,Wi(t,s,e,r),t=Qi(null,t,s,!0,i,r)):(t.tag=0,ie&&i&&_a(t),_e(null,t,l,r),t=t.child),t;case 16:s=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=v0(s),e=lt(s,e),l){case 0:t=Hi(null,t,s,e,r);break e;case 1:t=Dc(null,t,s,e,r);break e;case 11:t=Ac(null,t,s,e,r);break e;case 14:t=Mc(null,t,s,lt(s.type,e),r);break e}throw Error(L(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:lt(s,l),Hi(e,t,s,l,r);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:lt(s,l),Dc(e,t,s,l,r);case 3:e:{if(Yu(t),e===null)throw Error(L(387));s=t.pendingProps,i=t.memoizedState,l=i.element,bu(e,t),tl(t,s,null,r);var a=t.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=qn(Error(L(423)),t),t=zc(e,t,s,r,l);break e}else if(s!==l){l=qn(Error(L(424)),t),t=zc(e,t,s,r,l);break e}else for(Oe=qt(t.stateNode.containerInfo.firstChild),We=t,ie=!0,at=null,r=ju(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vn(),s===l){t=_t(e,t,r);break e}_e(e,t,s,r)}t=t.child}return t;case 5:return Nu(t),e===null&&$i(t),s=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,a=l.children,Di(s,l)?a=null:i!==null&&Di(s,i)&&(t.flags|=32),Gu(e,t),_e(e,t,a,r),t.child;case 6:return e===null&&$i(t),null;case 13:return Ku(e,t,r);case 4:return Fa(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Hn(t,null,s,r):_e(e,t,s,r),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:lt(s,l),Ac(e,t,s,l,r);case 7:return _e(e,t,t.pendingProps,r),t.child;case 8:return _e(e,t,t.pendingProps.children,r),t.child;case 12:return _e(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,i=t.memoizedProps,a=l.value,Z(Zs,s._currentValue),s._currentValue=a,i!==null)if(dt(i.value,a)){if(i.children===l.children&&!Fe.current){t=_t(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){a=i.child;for(var o=c.firstContext;o!==null;){if(o.context===s){if(i.tag===1){o=Ct(-1,r&-r),o.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?o.next=o:(o.next=f.next,f.next=o),d.pending=o}}i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Bi(i.return,r,t),c.lanes|=r;break}o=o.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(L(341));a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Bi(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}_e(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,$n(t,r),l=Ze(l),s=s(l),t.flags|=1,_e(e,t,s,r),t.child;case 14:return s=t.type,l=lt(s,t.pendingProps),l=lt(s.type,l),Mc(e,t,s,l,r);case 15:return Qu(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:lt(s,l),zs(e,t),t.tag=1,Ue(s)?(e=!0,Ks(t)):e=!1,$n(t,r),Wu(t,s,l),Wi(t,s,l,r),Qi(null,t,s,!0,e,r);case 19:return Xu(e,t,r);case 22:return qu(e,t,r)}throw Error(L(156,t.tag))};function hm(e,t){return $d(e,t)}function g0(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,r,s){return new g0(e,t,r,s)}function Za(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v0(e){if(typeof e=="function")return Za(e)?1:0;if(e!=null){if(e=e.$$typeof,e===va)return 11;if(e===ya)return 14}return 2}function Xt(e,t){var r=e.alternate;return r===null?(r=Xe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Us(e,t,r,s,l,i){var a=2;if(s=e,typeof e=="function")Za(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Sn:return hn(r.children,l,i,t);case ga:a=8,l|=8;break;case hi:return e=Xe(12,r,t,l|2),e.elementType=hi,e.lanes=i,e;case pi:return e=Xe(13,r,t,l),e.elementType=pi,e.lanes=i,e;case fi:return e=Xe(19,r,t,l),e.elementType=fi,e.lanes=i,e;case Nd:return bl(r,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wd:a=10;break e;case bd:a=9;break e;case va:a=11;break e;case ya:a=14;break e;case It:a=16,s=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Xe(a,r,t,l),t.elementType=e,t.type=s,t.lanes=i,t}function hn(e,t,r,s){return e=Xe(7,e,s,t),e.lanes=r,e}function bl(e,t,r,s){return e=Xe(22,e,s,t),e.elementType=Nd,e.lanes=r,e.stateNode={isHidden:!1},e}function ai(e,t,r){return e=Xe(6,e,null,t),e.lanes=r,e}function oi(e,t,r){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function y0(e,t,r,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ol(0),this.expirationTimes=Ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function eo(e,t,r,s,l,i,a,c,o){return e=new y0(e,t,r,c,o),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Xe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(i),e}function j0(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function pm(e){if(!e)return en;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(Ue(r))return pu(e,r,t)}return t}function fm(e,t,r,s,l,i,a,c,o){return e=eo(r,s,!0,e,l,i,a,c,o),e.context=pm(null),r=e.current,s=Re(),l=Kt(r),i=Ct(s,l),i.callback=t??null,Gt(r,i,l),e.current.lanes=l,Jr(e,l,s),$e(e,s),e}function Nl(e,t,r,s){var l=t.current,i=Re(),a=Kt(l);return r=pm(r),t.context===null?t.context=r:t.pendingContext=r,t=Ct(i,a),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Gt(l,t,a),e!==null&&(ct(e,l,a,i),As(e,l,a)),a}function cl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function to(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}function w0(){return null}var xm=typeof reportError=="function"?reportError:function(e){console.error(e)};function no(e){this._internalRoot=e}kl.prototype.render=no.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Nl(e,t,null,null)};kl.prototype.unmount=no.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vn(function(){Nl(null,e,null,null)}),t[Pt]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=qd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ut.length&&t!==0&&t<Ut[r].priority;r++);Ut.splice(r,0,e),r===0&&Yd(e)}};function ro(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qc(){}function b0(e,t,r,s,l){if(l){if(typeof s=="function"){var i=s;s=function(){var d=cl(a);i.call(d)}}var a=fm(t,s,e,0,null,!1,!1,"",qc);return e._reactRootContainer=a,e[Pt]=a.current,$r(e.nodeType===8?e.parentNode:e),vn(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var c=s;s=function(){var d=cl(o);c.call(d)}}var o=eo(e,0,!1,null,null,!1,!1,"",qc);return e._reactRootContainer=o,e[Pt]=o.current,$r(e.nodeType===8?e.parentNode:e),vn(function(){Nl(t,o,r,s)}),o}function Cl(e,t,r,s,l){var i=r._reactRootContainer;if(i){var a=i;if(typeof l=="function"){var c=l;l=function(){var o=cl(a);c.call(o)}}Nl(t,a,e,l)}else a=b0(r,t,e,l,s);return cl(a)}Hd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=wr(t.pendingLanes);r!==0&&(ba(t,r|1),$e(t,ue()),!(G&6)&&(Gn=ue()+500,rn()))}break;case 13:vn(function(){var s=Lt(e,1);if(s!==null){var l=Re();ct(s,e,1,l)}}),to(e,1)}};Na=function(e){if(e.tag===13){var t=Lt(e,134217728);if(t!==null){var r=Re();ct(t,e,134217728,r)}to(e,134217728)}};Qd=function(e){if(e.tag===13){var t=Kt(e),r=Lt(e,t);if(r!==null){var s=Re();ct(r,e,t,s)}to(e,t)}};qd=function(){return X};Gd=function(e,t){var r=X;try{return X=e,t()}finally{X=r}};Si=function(e,t,r){switch(t){case"input":if(vi(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var l=xl(s);if(!l)throw Error(L(90));Sd(s),vi(s,l)}}}break;case"textarea":Ed(e,r);break;case"select":t=r.value,t!=null&&zn(e,!!r.multiple,t,!1)}};Md=Ka;Dd=vn;var N0={usingClientEntryPoint:!1,Events:[es,Ln,xl,Rd,Ad,Ka]},fr={findFiberByHostInstance:cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k0={bundleType:fr.bundleType,version:fr.version,rendererPackageName:fr.rendererPackageName,rendererConfig:fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fd(e),e===null?null:e.stateNode},findFiberByHostInstance:fr.findFiberByHostInstance||w0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ss.isDisabled&&Ss.supportsFiber)try{ml=Ss.inject(k0),ft=Ss}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N0;He.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ro(t))throw Error(L(200));return j0(e,t,null,r)};He.createRoot=function(e,t){if(!ro(e))throw Error(L(299));var r=!1,s="",l=xm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=eo(e,1,!1,null,null,r,!1,s,l),e[Pt]=t.current,$r(e.nodeType===8?e.parentNode:e),new no(t)};He.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Fd(t),e=e===null?null:e.stateNode,e};He.flushSync=function(e){return vn(e)};He.hydrate=function(e,t,r){if(!Sl(t))throw Error(L(200));return Cl(null,e,t,!0,r)};He.hydrateRoot=function(e,t,r){if(!ro(e))throw Error(L(405));var s=r!=null&&r.hydratedSources||null,l=!1,i="",a=xm;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=fm(t,null,e,1,r??null,l,!1,i,a),e[Pt]=t.current,$r(e),s)for(e=0;e<s.length;e++)r=s[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new kl(t)};He.render=function(e,t,r){if(!Sl(t))throw Error(L(200));return Cl(null,e,t,!1,r)};He.unmountComponentAtNode=function(e){if(!Sl(e))throw Error(L(40));return e._reactRootContainer?(vn(function(){Cl(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};He.unstable_batchedUpdates=Ka;He.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Sl(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Cl(e,t,r,!1,s)};He.version="18.3.1-next-f1338f8080-20240426";function gm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gm)}catch(e){console.error(e)}}gm(),gd.exports=He;var S0=gd.exports,Gc=S0;ui.createRoot=Gc.createRoot,ui.hydrateRoot=Gc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Yr.apply(this,arguments)}var Wt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wt||(Wt={}));const Yc="popstate";function C0(e){e===void 0&&(e={});function t(s,l){let{pathname:i,search:a,hash:c}=s.location;return sa("",{pathname:i,search:a,hash:c},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:dl(l)}return P0(t,r,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function E0(){return Math.random().toString(36).substr(2,8)}function Kc(e,t){return{usr:e.state,key:e.key,idx:t}}function sa(e,t,r,s){return r===void 0&&(r=null),Yr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Jn(t):t,{state:r,key:t&&t.key||s||E0()})}function dl(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Jn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function P0(e,t,r,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:i=!1}=s,a=l.history,c=Wt.Pop,o=null,d=f();d==null&&(d=0,a.replaceState(Yr({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function h(){c=Wt.Pop;let k=f(),x=k==null?null:k-d;d=k,o&&o({action:c,location:y.location,delta:x})}function g(k,x){c=Wt.Push;let m=sa(y.location,k,x);d=f()+1;let u=Kc(m,d),N=y.createHref(m);try{a.pushState(u,"",N)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;l.location.assign(N)}i&&o&&o({action:c,location:y.location,delta:1})}function b(k,x){c=Wt.Replace;let m=sa(y.location,k,x);d=f();let u=Kc(m,d),N=y.createHref(m);a.replaceState(u,"",N),i&&o&&o({action:c,location:y.location,delta:0})}function j(k){let x=l.location.origin!=="null"?l.location.origin:l.location.href,m=typeof k=="string"?k:dl(k);return m=m.replace(/ $/,"%20"),me(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let y={get action(){return c},get location(){return e(l,a)},listen(k){if(o)throw new Error("A history only accepts one active listener");return l.addEventListener(Yc,h),o=k,()=>{l.removeEventListener(Yc,h),o=null}},createHref(k){return t(l,k)},createURL:j,encodeLocation(k){let x=j(k);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:b,go(k){return a.go(k)}};return y}var Xc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xc||(Xc={}));function L0(e,t,r){return r===void 0&&(r="/"),_0(e,t,r)}function _0(e,t,r,s){let l=typeof t=="string"?Jn(t):t,i=so(l.pathname||"/",r);if(i==null)return null;let a=ym(e);T0(a);let c=null;for(let o=0;c==null&&o<a.length;++o){let d=W0(i);c=$0(a[o],d)}return c}function ym(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let l=(i,a,c)=>{let o={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};o.relativePath.startsWith("/")&&(me(o.relativePath.startsWith(s),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(s.length));let d=Jt([s,o.relativePath]),f=r.concat(o);i.children&&i.children.length>0&&(me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),ym(i.children,t,f,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:F0(d,i.index),routesMeta:f})};return e.forEach((i,a)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))l(i,a);else for(let o of jm(i.path))l(i,a,o)}),t}function jm(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,l=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return l?[i,""]:[i];let a=jm(s.join("/")),c=[];return c.push(...a.map(o=>o===""?i:[i,o].join("/"))),l&&c.push(...a),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function T0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:U0(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const R0=/^:[\w-]+$/,A0=3,M0=2,D0=1,z0=10,I0=-2,Jc=e=>e==="*";function F0(e,t){let r=e.split("/"),s=r.length;return r.some(Jc)&&(s+=I0),t&&(s+=M0),r.filter(l=>!Jc(l)).reduce((l,i)=>l+(R0.test(i)?A0:i===""?D0:z0),s)}function U0(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function $0(e,t,r){let{routesMeta:s}=e,l={},i="/",a=[];for(let c=0;c<s.length;++c){let o=s[c],d=c===s.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=B0({path:o.relativePath,caseSensitive:o.caseSensitive,end:d},f),g=o.route;if(!h)return null;Object.assign(l,h.params),a.push({params:l,pathname:Jt([i,h.pathname]),pathnameBase:q0(Jt([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=Jt([i,h.pathnameBase]))}return a}function B0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=O0(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let i=l[0],a=i.replace(/(.)\/+$/,"$1"),c=l.slice(1);return{params:s.reduce((d,f,h)=>{let{paramName:g,isOptional:b}=f;if(g==="*"){let y=c[h]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const j=c[h];return b&&!j?d[g]=void 0:d[g]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:e}}function O0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),vm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,o)=>(s.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function W0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function so(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function V0(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:l=""}=typeof e=="string"?Jn(e):e;return{pathname:r?r.startsWith("/")?r:H0(r,t):t,search:G0(s),hash:Y0(l)}}function H0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function ci(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Q0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function lo(e,t){let r=Q0(e);return t?r.map((s,l)=>l===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function io(e,t,r,s){s===void 0&&(s=!1);let l;typeof e=="string"?l=Jn(e):(l=Yr({},e),me(!l.pathname||!l.pathname.includes("?"),ci("?","pathname","search",l)),me(!l.pathname||!l.pathname.includes("#"),ci("#","pathname","hash",l)),me(!l.search||!l.search.includes("#"),ci("#","search","hash",l)));let i=e===""||l.pathname==="",a=i?"/":l.pathname,c;if(a==null)c=r;else{let h=t.length-1;if(!s&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;l.pathname=g.join("/")}c=h>=0?t[h]:"/"}let o=V0(l,c),d=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(d||f)&&(o.pathname+="/"),o}const Jt=e=>e.join("/").replace(/\/\/+/g,"/"),q0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Y0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function K0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wm=["post","put","patch","delete"];new Set(wm);const X0=["get",...wm];new Set(X0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Kr.apply(this,arguments)}const ao=p.createContext(null),J0=p.createContext(null),sn=p.createContext(null),El=p.createContext(null),Rt=p.createContext({outlet:null,matches:[],isDataRoute:!1}),bm=p.createContext(null);function Z0(e,t){let{relative:r}=t===void 0?{}:t;Zn()||me(!1);let{basename:s,navigator:l}=p.useContext(sn),{hash:i,pathname:a,search:c}=km(e,{relative:r}),o=a;return s!=="/"&&(o=a==="/"?s:Jt([s,a])),l.createHref({pathname:o,search:c,hash:i})}function Zn(){return p.useContext(El)!=null}function ln(){return Zn()||me(!1),p.useContext(El).location}function Nm(e){p.useContext(sn).static||p.useLayoutEffect(e)}function vt(){let{isDataRoute:e}=p.useContext(Rt);return e?pf():ef()}function ef(){Zn()||me(!1);let e=p.useContext(ao),{basename:t,future:r,navigator:s}=p.useContext(sn),{matches:l}=p.useContext(Rt),{pathname:i}=ln(),a=JSON.stringify(lo(l,r.v7_relativeSplatPath)),c=p.useRef(!1);return Nm(()=>{c.current=!0}),p.useCallback(function(d,f){if(f===void 0&&(f={}),!c.current)return;if(typeof d=="number"){s.go(d);return}let h=io(d,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Jt([t,h.pathname])),(f.replace?s.replace:s.push)(h,f.state,f)},[t,s,a,i,e])}function tf(){let{matches:e}=p.useContext(Rt),t=e[e.length-1];return t?t.params:{}}function km(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=p.useContext(sn),{matches:l}=p.useContext(Rt),{pathname:i}=ln(),a=JSON.stringify(lo(l,s.v7_relativeSplatPath));return p.useMemo(()=>io(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function nf(e,t){return rf(e,t)}function rf(e,t,r,s){Zn()||me(!1);let{navigator:l}=p.useContext(sn),{matches:i}=p.useContext(Rt),a=i[i.length-1],c=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let d=ln(),f;if(t){var h;let k=typeof t=="string"?Jn(t):t;o==="/"||(h=k.pathname)!=null&&h.startsWith(o)||me(!1),f=k}else f=d;let g=f.pathname||"/",b=g;if(o!=="/"){let k=o.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=L0(e,{pathname:b}),y=cf(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:Jt([o,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?o:Jt([o,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,r,s);return t&&y?p.createElement(El.Provider,{value:{location:Kr({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Wt.Pop}},y):y}function sf(){let e=hf(),t=K0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:l},r):null,null)}const lf=p.createElement(sf,null);class af extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Rt.Provider,{value:this.props.routeContext},p.createElement(bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function of(e){let{routeContext:t,match:r,children:s}=e,l=p.useContext(ao);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Rt.Provider,{value:t},s)}function cf(e,t,r,s){var l;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,c=(l=r)==null?void 0:l.errors;if(c!=null){let f=a.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);f>=0||me(!1),a=a.slice(0,Math.min(a.length,f+1))}let o=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:g,errors:b}=r,j=h.route.loader&&g[h.route.id]===void 0&&(!b||b[h.route.id]===void 0);if(h.route.lazy||j){o=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,h,g)=>{let b,j=!1,y=null,k=null;r&&(b=c&&h.route.id?c[h.route.id]:void 0,y=h.route.errorElement||lf,o&&(d<0&&g===0?(ff("route-fallback"),j=!0,k=null):d===g&&(j=!0,k=h.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,g+1)),m=()=>{let u;return b?u=y:j?u=k:h.route.Component?u=p.createElement(h.route.Component,null):h.route.element?u=h.route.element:u=f,p.createElement(of,{match:h,routeContext:{outlet:f,matches:x,isDataRoute:r!=null},children:u})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?p.createElement(af,{location:r.location,revalidation:r.revalidation,component:y,error:b,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var Sm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Sm||{}),Cm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Cm||{});function df(e){let t=p.useContext(ao);return t||me(!1),t}function uf(e){let t=p.useContext(J0);return t||me(!1),t}function mf(e){let t=p.useContext(Rt);return t||me(!1),t}function Em(e){let t=mf(),r=t.matches[t.matches.length-1];return r.route.id||me(!1),r.route.id}function hf(){var e;let t=p.useContext(bm),r=uf(),s=Em();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function pf(){let{router:e}=df(Sm.UseNavigateStable),t=Em(Cm.UseNavigateStable),r=p.useRef(!1);return Nm(()=>{r.current=!0}),p.useCallback(function(l,i){i===void 0&&(i={}),r.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Kr({fromRouteId:t},i)))},[e,t])}const Zc={};function ff(e,t,r){Zc[e]||(Zc[e]=!0)}function xf(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function la(e){let{to:t,replace:r,state:s,relative:l}=e;Zn()||me(!1);let{future:i,static:a}=p.useContext(sn),{matches:c}=p.useContext(Rt),{pathname:o}=ln(),d=vt(),f=io(t,lo(c,i.v7_relativeSplatPath),o,l==="path"),h=JSON.stringify(f);return p.useEffect(()=>d(JSON.parse(h),{replace:r,state:s,relative:l}),[d,h,l,r,s]),null}function st(e){me(!1)}function gf(e){let{basename:t="/",children:r=null,location:s,navigationType:l=Wt.Pop,navigator:i,static:a=!1,future:c}=e;Zn()&&me(!1);let o=t.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:o,navigator:i,static:a,future:Kr({v7_relativeSplatPath:!1},c)}),[o,c,i,a]);typeof s=="string"&&(s=Jn(s));let{pathname:f="/",search:h="",hash:g="",state:b=null,key:j="default"}=s,y=p.useMemo(()=>{let k=so(f,o);return k==null?null:{location:{pathname:k,search:h,hash:g,state:b,key:j},navigationType:l}},[o,f,h,g,b,j,l]);return y==null?null:p.createElement(sn.Provider,{value:d},p.createElement(El.Provider,{children:r,value:y}))}function vf(e){let{children:t,location:r}=e;return nf(ia(t),r)}new Promise(()=>{});function ia(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(s,l)=>{if(!p.isValidElement(s))return;let i=[...t,l];if(s.type===p.Fragment){r.push.apply(r,ia(s.props.children,i));return}s.type!==st&&me(!1),!s.props.index||!s.props.children||me(!1);let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=ia(s.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},aa.apply(this,arguments)}function yf(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,i;for(i=0;i<s.length;i++)l=s[i],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function jf(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wf(e,t){return e.button===0&&(!t||t==="_self")&&!jf(e)}function oa(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(l=>[r,l]):[[r,s]])},[]))}function bf(e,t){let r=oa(e);return t&&t.forEach((s,l)=>{r.has(l)||t.getAll(l).forEach(i=>{r.append(l,i)})}),r}const Nf=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kf="6";try{window.__reactRouterVersion=kf}catch{}const Sf="startTransition",ed=ph[Sf];function Cf(e){let{basename:t,children:r,future:s,window:l}=e,i=p.useRef();i.current==null&&(i.current=C0({window:l,v5Compat:!0}));let a=i.current,[c,o]=p.useState({action:a.action,location:a.location}),{v7_startTransition:d}=s||{},f=p.useCallback(h=>{d&&ed?ed(()=>o(h)):o(h)},[o,d]);return p.useLayoutEffect(()=>a.listen(f),[a,f]),p.useEffect(()=>xf(s),[s]),p.createElement(gf,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:a,future:s})}const Ef=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=p.forwardRef(function(t,r){let{onClick:s,relative:l,reloadDocument:i,replace:a,state:c,target:o,to:d,preventScrollReset:f,viewTransition:h}=t,g=yf(t,Nf),{basename:b}=p.useContext(sn),j,y=!1;if(typeof d=="string"&&Pf.test(d)&&(j=d,Ef))try{let u=new URL(window.location.href),N=d.startsWith("//")?new URL(u.protocol+d):new URL(d),w=so(N.pathname,b);N.origin===u.origin&&w!=null?d=w+N.search+N.hash:y=!0}catch{}let k=Z0(d,{relative:l}),x=Lf(d,{replace:a,state:c,target:o,preventScrollReset:f,relative:l,viewTransition:h});function m(u){s&&s(u),u.defaultPrevented||x(u)}return p.createElement("a",aa({},g,{href:j||k,onClick:y||i?s:m,ref:r,target:o}))});var td;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(td||(td={}));var nd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nd||(nd={}));function Lf(e,t){let{target:r,replace:s,state:l,preventScrollReset:i,relative:a,viewTransition:c}=t===void 0?{}:t,o=vt(),d=ln(),f=km(e,{relative:a});return p.useCallback(h=>{if(wf(h,r)){h.preventDefault();let g=s!==void 0?s:dl(d)===dl(f);o(e,{replace:g,state:l,preventScrollReset:i,relative:a,viewTransition:c})}},[d,o,f,s,l,r,e,i,a,c])}function _f(e){let t=p.useRef(oa(e)),r=p.useRef(!1),s=ln(),l=p.useMemo(()=>bf(s.search,r.current?null:t.current),[s.search]),i=vt(),a=p.useCallback((c,o)=>{const d=oa(typeof c=="function"?c(l):c);r.current=!0,i("?"+d,o)},[i,l]);return[l,a]}const gt={WORKER_BASE_URL:"https://quickstage.tech",WEB_BASE_URL:"https://quickstage.tech",PUBLIC_BASE_URL:"https://quickstage.tech",API_BASE_URL:"/api",getSnapshotUrl:e=>`${gt.WORKER_BASE_URL}/s/${e}`,EXTENSION_DOWNLOAD_URL:"/quickstage.vsix",VERSION_INFO_URL:"/api/extensions/version",STRIPE_PUBLIC_KEY:"pk_test_YOUR_ACTUAL_KEY_HERE"},Nn=gt.WORKER_BASE_URL.replace(/\/$/,"");let Pm=localStorage.getItem("quickstage_session_token");function Nt(e){Pm=e,e?localStorage.setItem("quickstage_session_token",e):localStorage.removeItem("quickstage_session_token")}function xr(){return Pm}const R={async get(e){const t={"Content-Type":"application/json"},r=xr();r&&(t.Authorization=`Bearer ${r}`),console.log("Making request to:",`${Nn}${e}`),console.log("Headers:",t);const s=await fetch(`${Nn}${e}`,{credentials:"include",headers:t});if(!s.ok)throw console.error("Request failed:",s.status,s.statusText),s.status===401?(console.log("Token invalid, clearing session..."),Nt(null),window.location.href="/login",new Error("Authentication failed - please log in again")):new Error(`API request failed: ${s.status}`);const l=await s.json();return console.log(`API GET ${e} response:`,l),l},async post(e,t){const r={"Content-Type":"application/json"},s=xr();s&&(r.Authorization=`Bearer ${s}`);const l=`${Nn}${e}`,i=await fetch(l,{method:"POST",credentials:"include",headers:r,body:t?JSON.stringify(t):void 0});if(!i.ok){let a="";try{a=await i.text()}catch{}throw i.status===401?(console.log("Token invalid, clearing session..."),Nt(null),window.location.href="/login",new Error("Authentication failed - please log in again")):new Error(`API request failed: ${i.status}${a?": "+a:""}`)}return i.json()},async put(e,t){const r={"Content-Type":"application/json"},s=xr();s&&(r.Authorization=`Bearer ${s}`);const l=await fetch(`${Nn}${e}`,{method:"PUT",credentials:"include",headers:r,body:t?JSON.stringify(t):void 0});if(!l.ok)throw l.status===401?(console.log("Token invalid, clearing session..."),Nt(null),window.location.href="/login",new Error("Authentication failed - please log in again")):new Error(`API request failed: ${l.status}`);return l.json()},async patch(e,t){const r={"Content-Type":"application/json"},s=xr();s&&(r.Authorization=`Bearer ${s}`);const l=await fetch(`${Nn}${e}`,{method:"PATCH",credentials:"include",headers:r,body:t?JSON.stringify(t):void 0});if(!l.ok)throw l.status===401?(console.log("Token invalid, clearing session..."),Nt(null),window.location.href="/login",new Error("Authentication failed - please log in again")):new Error(`API request failed: ${l.status}`);return l.json()},async delete(e){const t={"Content-Type":"application/json"},r=xr();r&&(t.Authorization=`Bearer ${r}`);const s=await fetch(`${Nn}${e}`,{method:"DELETE",credentials:"include",headers:t});if(!s.ok)throw s.status===401?(console.log("Token invalid, clearing session..."),Nt(null),window.location.href="/login",new Error("Authentication failed - please log in again")):new Error(`API request failed: ${s.status}`);return s.json()}},Lm={async deleteUser(e){return R.delete(`/admin/users/${e}`)},async deactivateUser(e){return R.post(`/admin/users/${e}/deactivate`)},async activateUser(e){return R.post(`/admin/users/${e}/activate`)},async cleanupCorruptedUsers(){return R.post("/admin/cleanup-corrupted-users")}},_m=p.createContext(void 0);function At(){const e=p.useContext(_m);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Tf({children:e}){const[t,r]=p.useState(null),[s,l]=p.useState(!0),[i,a]=p.useState(null),c=async()=>{try{a(null),l(!0);const m=await R.get("/me");m.user?r(m.user):r(null)}catch(m){console.error("Failed to fetch user:",m),r(null)}finally{l(!1)}},o=async m=>{try{a(null),l(!0),await R.post("/auth/dev-login",{uid:m}),await c()}catch(u){const N=u.message||"Login failed";throw a(N),r(null),u}finally{l(!1)}},d=async(m,u)=>{try{a(null),l(!0);const N=await R.post("/auth/login",{email:m,password:u});N.ok&&N.user?(N.sessionToken&&Nt(N.sessionToken),await c()):await c()}catch(N){const w=N.message||"Login failed";throw a(w),r(null),N}finally{l(!1)}},f=async m=>{try{a(null),l(!0);const u=await R.post("/auth/google",{idToken:m});u.ok&&u.user?(u.sessionToken&&Nt(u.sessionToken),await c()):await c()}catch(u){const N=u.message||"Google login failed";throw a(N),r(null),u}finally{l(!1)}},h=async(m,u,N)=>{try{a(null),l(!0);const w=await R.post("/auth/register",{email:m,password:u,name:N});w.ok&&w.user?(w.sessionToken&&Nt(w.sessionToken),await c()):await c()}catch(w){const C=w.message||"Registration failed";throw a(C),r(null),w}finally{l(!1)}},g=async()=>{try{a(null),await R.post("/auth/logout")}catch(m){console.error("Logout error:",m)}finally{Nt(null),r(null),a(null)}},b=async m=>{try{a(null),l(!0),await R.put("/auth/profile",m),await c()}catch(u){const N=u.message||"Profile update failed";throw a(N),u}finally{l(!1)}},j=async(m,u)=>{try{a(null),l(!0),await R.post("/auth/change-password",{currentPassword:m,newPassword:u})}catch(N){const w=N.message||"Password change failed";throw a(w),N}finally{l(!1)}},y=async()=>{try{a(null),l(!0);const m=await R.post("/billing/cancel");return m.ok?(await c(),{ok:!0,message:m.message||"Subscription cancelled successfully."}):{ok:!1,error:m.message||"Failed to cancel subscription."}}catch(m){const u=m.message||"Subscription cancellation failed";return a(u),{ok:!1,error:u}}finally{l(!1)}},k=()=>{a(null)};p.useEffect(()=>{localStorage.getItem("quickstage_session_token")?c():l(!1)},[]);const x={user:t,loading:s,error:i,login:o,loginWithEmailPassword:d,loginWithGoogle:f,registerWithEmailPassword:h,logout:g,refreshUser:c,clearError:k,isAuthenticated:!!t,updateProfile:b,changePassword:j,cancelSubscription:y};return n.jsx(_m.Provider,{value:x,children:e})}function oo({className:e=""}){const[t,r]=p.useState([]),[s,l]=p.useState(0),[i,a]=p.useState(!1),[c,o]=p.useState(!1),d=async()=>{try{o(!0);const y=(await R.get("/api/notifications")).notifications||[];r(y),l(y.filter(k=>!k.readAt).length)}catch(j){console.error("Failed to load notifications:",j)}finally{o(!1)}};p.useEffect(()=>{d()},[]);const f=async j=>{try{await R.post(`/api/notifications/${j}/read`),r(y=>y.map(k=>k.id===j?{...k,readAt:Date.now()}:k)),l(y=>Math.max(0,y-1))}catch(y){console.error("Failed to mark notification as read:",y)}},h=async()=>{try{await R.post("/api/notifications/read-all"),r(j=>j.map(y=>({...y,readAt:Date.now()}))),l(0)}catch(j){console.error("Failed to mark all notifications as read:",j)}},g=j=>{j.readAt||f(j.id),j.actionUrl&&(window.location.href=j.actionUrl),a(!1)},b=j=>{const k=Date.now()-j,x=Math.floor(k/(1e3*60)),m=Math.floor(k/(1e3*60*60)),u=Math.floor(k/(1e3*60*60*24));return x<1?"Just now":x<60?`${x}m ago`:m<24?`${m}h ago`:`${u}d ago`};return n.jsxs("div",{className:`relative ${e}`,children:[n.jsxs("button",{onClick:()=>a(!i),className:"relative p-1.5 text-gray-600 hover:text-gray-900 focus:outline-none focus:text-gray-900 transition-colors","aria-label":`Notifications ${s>0?`(${s} unread)`:""}`,children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:n.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})}),s>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:s>99?"99+":s})]}),i&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-96 overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-inconsolata",children:"Notifications"}),s>0&&n.jsx("button",{onClick:h,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Mark all read"})]}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:c?n.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading..."}):t.length===0?n.jsxs("div",{className:"p-6 text-center text-gray-500",children:[n.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})}),n.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):t.map(j=>n.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${j.readAt?"":"bg-blue-50"}`,onClick:()=>g(j),children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${j.type==="comment_reply"?"bg-blue-100":j.type==="comment_new"?"bg-green-100":j.type==="comment_resolved"?"bg-purple-100":"bg-gray-100"}`,children:n.jsx("svg",{className:`w-4 h-4 ${j.type==="comment_reply"?"text-blue-600":j.type==="comment_new"?"text-green-600":j.type==="comment_resolved"?"text-purple-600":"text-gray-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:j.title}),!j.readAt&&n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-2 flex-shrink-0"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:j.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:b(j.createdAt)})]})]})},j.id))}),t.length>0&&n.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:n.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium w-full text-center",children:"View all notifications"})})]})]})]})}function co({projects:e,selectedProjectId:t,onSelectProject:r,onRefreshProjects:s,user:l,isCollapsed:i=!1,onToggleCollapse:a}){const c=ln(),[o,d]=p.useState(!1),[f,h]=p.useState(""),[g,b]=p.useState("#4F46E5"),[j,y]=p.useState(!1),k=["#4F46E5","#7C3AED","#EC4899","#EF4444","#F59E0B","#10B981","#3B82F6","#6B7280"],x=async()=>{if(f.trim()){y(!0);try{await R.post("/api/projects",{name:f,color:g}),h(""),d(!1),s()}catch(w){console.error("Failed to create project:",w)}finally{y(!1)}}},m=async w=>{if(confirm("Are you sure you want to delete this project? This action cannot be undone."))try{await R.delete(`/api/projects/${w}`),t===w&&r(void 0),s()}catch(C){alert(C.error||"Failed to delete project")}},u=e.filter(w=>!w.isArchived||w.id==="__no_project__"),N=e.filter(w=>w.isArchived&&w.id!=="__no_project__");return n.jsxs("div",{className:`${i?"w-16":"w-64"} bg-white border-r border-gray-200 h-full overflow-y-auto transition-all duration-300 flex flex-col font-poppins`,children:[n.jsx("div",{className:"p-4 flex-1",children:n.jsxs("nav",{className:"space-y-1",children:[n.jsxs("button",{onClick:()=>r(void 0),className:`w-full flex items-center px-3 py-2 rounded-lg transition-colors ${c.pathname==="/dashboard"&&!t?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50 text-gray-700"}`,title:i?"Dashboard":"",children:[n.jsxs("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v0"})]}),!i&&n.jsx("span",{className:"font-medium",children:"Dashboard"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsxs("div",{className:"flex items-center px-3 py-2 rounded-lg transition-colors hover:bg-gray-50 text-gray-700",children:[n.jsx("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),!i&&n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("span",{className:"font-medium",children:"Projects"}),n.jsx("button",{onClick:()=>d(!0),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"New Project",children:n.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]}),o&&!i&&n.jsxs("div",{className:"ml-6 mt-2 mb-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("input",{type:"text",value:f,onChange:w=>h(w.target.value),placeholder:"Project name...",className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-2 text-sm",autoFocus:!0,onKeyPress:w=>w.key==="Enter"&&x()}),n.jsx("div",{className:"flex gap-1 mb-2",children:k.map(w=>n.jsx("button",{onClick:()=>b(w),className:`w-6 h-6 rounded ${g===w?"ring-2 ring-offset-1 ring-gray-400":""}`,style:{backgroundColor:w}},w))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:x,disabled:j||!f.trim(),className:"flex-1 px-3 py-1 bg-indigo-600 text-white rounded-md text-sm hover:bg-indigo-700 disabled:opacity-50",children:"Create"}),n.jsx("button",{onClick:()=>{d(!1),h("")},className:"flex-1 px-3 py-1 bg-gray-200 text-gray-700 rounded-md text-sm hover:bg-gray-300",children:"Cancel"})]})]}),!i&&n.jsx("div",{className:"ml-6 space-y-1",children:u.map(w=>n.jsxs("div",{className:`group relative flex items-center px-3 py-2 rounded-lg cursor-pointer transition-colors ${t===w.id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>r(w.id),title:w.name,children:[w.id==="__no_project__"?n.jsx("svg",{className:"w-3 h-3 mr-2 flex-shrink-0 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}):n.jsx("div",{className:"w-3 h-3 rounded-full mr-2 flex-shrink-0",style:{backgroundColor:w.color||"#6B7280"}}),n.jsx("span",{className:"flex-1 text-sm truncate",children:w.name}),n.jsx("span",{className:"text-xs text-gray-500",children:w.snapshotCount}),w.snapshotCount===0&&w.id!=="__no_project__"&&n.jsx("button",{onClick:C=>{C.stopPropagation(),m(w.id)},className:"ml-2 opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete project",children:n.jsx("svg",{className:"w-4 h-4 text-red-500 hover:text-red-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},w.id))})]}),n.jsxs(Te,{to:"/settings",className:`flex items-center px-3 py-2 rounded-lg transition-colors ${c.pathname==="/settings"?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50 text-gray-700"}`,title:i?"Settings":"",children:[n.jsxs("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),!i&&n.jsx("span",{className:"font-medium",children:"Settings"})]}),(l==null?void 0:l.role)==="superadmin"&&n.jsxs(Te,{to:"/admin",className:`flex items-center px-3 py-2 rounded-lg transition-colors ${c.pathname==="/admin"?"bg-red-50 text-red-700":"hover:bg-red-50 text-red-600"}`,title:i?"Admin Panel":"",children:[n.jsx("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),!i&&n.jsx("span",{className:"font-medium",children:"Admin"})]})]})}),!i&&N.length>0&&n.jsxs("div",{className:"px-4 pb-4",children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2 mt-4",children:"Archived"}),n.jsx("div",{className:"space-y-1",children:N.map(w=>n.jsxs("div",{className:`flex items-center px-3 py-2 rounded-lg cursor-pointer transition-colors opacity-50 ${t===w.id?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>r(w.id),children:[n.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:w.color||"#6B7280"}}),n.jsx("span",{className:"flex-1 text-gray-600 truncate",children:w.name}),n.jsx("span",{className:"text-xs text-gray-400",children:w.snapshotCount})]},w.id))})]}),a&&n.jsx("div",{className:"mt-auto border-t border-gray-200",children:n.jsx("div",{className:"flex justify-center p-4",children:n.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:i?"Expand sidebar":"Collapse sidebar",children:n.jsx("svg",{className:`w-4 h-4 text-gray-600 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})})})})]})}function Tm({onClose:e,onSubmit:t}){const[r,s]=p.useState([]),[l,i]=p.useState(""),[a,c]=p.useState(""),[o,d]=p.useState(""),[f,h]=p.useState(""),[g,b]=p.useState(null),j=()=>{if(!l.trim()||!a.trim()){b("Please enter both name and email");return}if(r.some(m=>m.userEmail===l)){b("This reviewer is already added");return}const x=`user_${l.replace(/[^a-zA-Z0-9]/g,"_")}`;s([...r,{userId:x,userName:a,userEmail:l}]),i(""),c(""),b(null)},y=x=>{s(r.filter(m=>m.userEmail!==x))},k=x=>{if(x.preventDefault(),r.length===0){b("Please add at least one reviewer");return}const m=o?new Date(o).toISOString():void 0;t({reviewers:r,deadline:m,notes:f.trim()||void 0})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-inconsolata",children:"Request Review"}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("form",{onSubmit:k,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Reviewers"}),n.jsxs("div",{className:"space-y-2 mb-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",placeholder:"Reviewer name",value:a,onChange:x=>c(x.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("input",{type:"email",placeholder:"reviewer@example.com",value:l,onChange:x=>i(x.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsx("button",{type:"button",onClick:j,className:"w-full px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Reviewer"})]}),r.length>0&&n.jsx("div",{className:"space-y-2",children:r.map(x=>n.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:x.userName}),n.jsx("p",{className:"text-sm text-gray-600",children:x.userEmail})]}),n.jsx("button",{type:"button",onClick:()=>y(x.userEmail),className:"text-red-500 hover:text-red-700",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},x.userEmail))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deadline (optional)"}),n.jsx("input",{type:"datetime-local",value:o,onChange:x=>d(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (optional)"}),n.jsx("textarea",{value:f,onChange:x=>h(x.target.value),placeholder:"Add any specific instructions or context for reviewers...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),g&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:n.jsx("p",{className:"text-red-600 text-sm",children:g})}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Send Review Request"})]})]})]})})})}function Rf({snapshots:e,onRefresh:t,selectedSnapshots:r,onToggleSelect:s,onSelectAll:l}){var ut;const[i,a]=p.useState("createdAt"),[c,o]=p.useState("desc"),[d,f]=p.useState(""),[h,g]=p.useState(!1),[b,j]=p.useState(new Set),[y,k]=p.useState(new Set),[x,m]=p.useState(new Set),[u,N]=p.useState(null),[w,C]=p.useState(""),[P,S]=p.useState(null),[T,_]=p.useState(null),{user:O}=At(),J=E=>{i===E?o(c==="asc"?"desc":"asc"):(a(E),o("asc"))},K=p.useMemo(()=>{let E=[...e];if(d){const U=d.toLowerCase();E=E.filter(H=>{var $,W,qe,je;return(($=H.name)==null?void 0:$.toLowerCase().includes(U))||H.id.toLowerCase().includes(U)||((W=H.description)==null?void 0:W.toLowerCase().includes(U))||((qe=H.clientName)==null?void 0:qe.toLowerCase().includes(U))||((je=H.tags)==null?void 0:je.some(yt=>yt.toLowerCase().includes(U)))})}return h||(E=E.filter(U=>new Date(U.expiresAt)>new Date)),E.sort((U,H)=>{let $,W;switch(i){case"name":$=U.name||`Snapshot ${U.id.slice(0,8)}`,W=H.name||`Snapshot ${H.id.slice(0,8)}`;break;case"createdAt":$=new Date(U.createdAt).getTime(),W=new Date(H.createdAt).getTime();break;case"updatedAt":$=new Date(U.lastModifiedAt||U.updatedAt||U.createdAt).getTime(),W=new Date(H.lastModifiedAt||H.updatedAt||H.createdAt).getTime();break;case"expiresAt":$=new Date(U.expiresAt).getTime(),W=new Date(H.expiresAt).getTime();break;case"viewCount":$=U.viewCount||0,W=H.viewCount||0;break;case"commentCount":$=U.commentCount||0,W=H.commentCount||0;break;default:return 0}return typeof $=="string"&&typeof W=="string"?c==="asc"?$.localeCompare(W):W.localeCompare($):c==="asc"?$-W:W-$}),E},[e,i,c,d,h]),ke=async(E,U,H)=>{const $=`${gt.PUBLIC_BASE_URL}/s/${E}`;try{await navigator.clipboard.writeText($),j(W=>new Set(W).add(E)),S({x:U.clientX,y:U.clientY,text:"URL Copied"}),setTimeout(()=>{j(W=>{const qe=new Set(W);return qe.delete(E),qe}),S(null)},2e3)}catch(W){console.error("Failed to copy:",W)}},ge=async(E,U)=>{try{await R.post(`/api/snapshots/${E}/extend`,{days:7}),k(H=>new Set(H).add(E)),S({x:U.clientX,y:U.clientY,text:"Expiration Extended"}),setTimeout(()=>{k(H=>{const $=new Set(H);return $.delete(E),$}),S(null)},2e3),t()}catch(H){console.error("Failed to extend snapshot:",H)}},D=async(E,U)=>{const H=`${gt.PUBLIC_BASE_URL}/s/${E}`;if(U)try{await navigator.clipboard.writeText(U),console.log("Password copied to clipboard")}catch($){console.error("Failed to copy password:",$)}window.open(H,"_blank")},se=async(E,U,H)=>{try{await navigator.clipboard.writeText(U),m($=>new Set($).add(E)),S({x:H.clientX,y:H.clientY,text:"Password Copied"}),setTimeout(()=>{m($=>{const W=new Set($);return W.delete(E),W}),S(null)},2e3)}catch($){console.error("Failed to copy password:",$)}},A=async E=>{if(w.trim())try{const U=await R.put(`/api/snapshots/${E}`,{password:w});await navigator.clipboard.writeText(w),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Password Copied"}),setTimeout(()=>{S(null)},2e3),N(null),C(""),t()}catch(U){console.error("Failed to change password:",U)}},M=async E=>{if(!T){console.error("No snapshot ID provided for review request");return}console.log("Requesting review for snapshot:",T);const U=e.find($=>$.id===T);if(!U){console.error("Snapshot not found in current list:",T),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Snapshot not found"}),setTimeout(()=>S(null),2e3);return}if(new Date(U.expiresAt)<=new Date){console.warn("Attempting to request review on expired snapshot:",T),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Cannot request review on expired snapshot"}),setTimeout(()=>S(null),3e3);return}try{console.log("Verifying snapshot exists on backend:",T),await R.get(`/api/snapshots/${T}`),console.log("Snapshot verification successful")}catch($){if(console.error("Snapshot verification failed:",$),$.message&&$.message.includes("404")){console.error("Snapshot no longer exists on backend:",T),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Snapshot no longer exists - refreshing list..."}),setTimeout(()=>{S(null),t()},2e3);return}console.warn("Could not verify snapshot existence, proceeding with review request:",$)}try{const $=`/api/snapshots/${T}/reviews`;console.log("Making review request to:",$),console.log("Request data:",{reviewers:E.reviewers,deadline:E.deadline,notes:E.notes}),await R.post($,{reviewers:E.reviewers,deadline:E.deadline,notes:E.notes}),console.log("Review request successful for snapshot:",T),_(null),t(),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Review Requested"}),setTimeout(()=>{S(null)},2e3)}catch($){console.error("Failed to request review for snapshot:",T),console.error("Error details:",$),console.error("Error message:",$.message),console.error("Error response:",$.response);let W="Review Request Failed";$.message&&($.message.includes("404")?$.message.includes("Snapshot not found")?(console.log("Snapshot not found error detected, refreshing snapshot list"),W="Snapshot no longer exists - refreshing list...",setTimeout(()=>{console.log("Refreshing snapshot list due to 404 error"),t()},1e3)):W="API endpoint not found":$.message.includes("401")?W="Authentication required":$.message.includes("403")?W="Not authorized - you must own this snapshot to request reviews":$.message.includes("500")&&(W="Server error")),S({x:window.innerWidth/2,y:window.innerHeight/2,text:W}),setTimeout(()=>{S(null)},3e3)}},B=E=>{if(!O)return!1;const U=O.uid||O.id;return U?E.ownerUid?E.ownerUid===U:!0:!1},q=E=>new Date(E).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),ee=E=>{const U=new Date,$=new Date(E).getTime()-U.getTime();return Math.ceil($/(1e3*60*60*24))},Le=E=>E<0?"text-gray-500":E<=1?"text-red-600":E<=3?"text-orange-600":E<=7?"text-yellow-600":"text-green-600",te=({field:E})=>i!==E?n.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):c==="asc"?n.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):n.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})});return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n.jsx("input",{type:"text",value:d,onChange:E=>f(E.target.value),placeholder:"Search snapshots...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:h,onChange:E=>g(E.target.checked),className:"mr-2 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Show expired"})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[K.length," of ",e.length," snapshots"]})]})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left",children:n.jsx("input",{type:"checkbox",checked:K.length>0&&K.every(E=>r.has(E.id)),onChange:E=>l(E.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>J("name"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Name",n.jsx(te,{field:"name"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>J("createdAt"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Created",n.jsx(te,{field:"createdAt"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>J("expiresAt"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Expires",n.jsx(te,{field:"expiresAt"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>J("viewCount"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Views",n.jsx(te,{field:"viewCount"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Review"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(E=>{var W,qe;const U=ee(E.expiresAt),H=Le(U),$=U<0;return n.jsxs("tr",{className:`hover:bg-gray-50 ${$?"opacity-60":""}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:r.has(E.id),onChange:()=>s(E.id),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name||`Snapshot ${E.id.slice(0,8)}`}),E.tags&&E.tags.length>0&&n.jsx("div",{className:"flex gap-1 mt-1",children:E.tags.map(je=>n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:je},je))})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q(E.createdAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:`text-sm ${H}`,children:$?"Expired":`${U} days`})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-gray-900",children:E.viewCount||0}),E.uniqueViewers&&E.uniqueViewers>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:["(",E.uniqueViewers," unique)"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(W=E.review)!=null&&W.isRequested?n.jsx("div",{className:"flex items-center gap-1",children:n.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${E.review.status==="completed"?"bg-green-100 text-green-800":E.review.status==="overdue"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[E.review.checkedOffCount,"/",E.review.totalReviewers]})}):n.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>D(E.id,E.password),className:"text-indigo-600 hover:text-indigo-900",title:"View snapshot",children:n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),n.jsx("button",{onClick:je=>ke(E.id,je,E.password),className:"text-gray-600 hover:text-gray-900",title:"Copy URL",children:b.has(E.id)?n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),!$&&U<=7&&n.jsx("button",{onClick:je=>ge(E.id,je),className:"text-orange-600 hover:text-orange-900",title:"Extend expiration by 7 days",children:y.has(E.id)?n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),E.password&&n.jsx("button",{onClick:je=>se(E.id,E.password,je),className:"text-gray-600 hover:text-gray-900",title:"Copy password",children:x.has(E.id)?n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),B(E)&&!((qe=E.review)!=null&&qe.isRequested)&&n.jsx("button",{onClick:()=>_(E.id),className:"text-purple-600 hover:text-purple-900",title:"Request review",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),n.jsx("button",{onClick:()=>N(E.id),className:"text-blue-600 hover:text-blue-900",title:"Change password",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})})]},E.id)})})]})}),K.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 font-inconsolata",children:"No snapshots found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:d?"Try adjusting your search":"Get started by creating a new snapshot"})]}),P&&n.jsx("div",{className:"fixed z-50 bg-black text-white px-2 py-1 rounded text-sm pointer-events-none",style:{left:P.x+10,top:P.y-30},children:P.text}),u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4 font-inconsolata",children:"Change Password"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),n.jsx("div",{className:"p-3 bg-gray-100 rounded border text-sm text-gray-800 font-mono",children:((ut=e.find(E=>E.id===u))==null?void 0:ut.password)||"No password set"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),n.jsx("input",{type:"text",id:"newPassword",value:w,onChange:E=>C(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter new password",autoFocus:!0})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>{N(null),C("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg",children:"Cancel"}),n.jsx("button",{onClick:()=>A(u),disabled:!w.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-lg",children:"Set new password"})]})]})}),T&&n.jsx(Tm,{onClose:()=>_(null),onSubmit:M})]})}function Af({snapshots:e,onExtend:t}){const r=e.filter(o=>new Date(o.expiresAt)>new Date),s=r.filter(o=>{const d=Math.ceil((new Date(o.expiresAt).getTime()-Date.now())/864e5);return d<=3&&d>0}),l=e.filter(o=>{var d;return((d=o.review)==null?void 0:d.isRequested)&&o.review.status==="pending"}),i=e.filter(o=>{var d;return((d=o.review)==null?void 0:d.isRequested)&&o.review.status==="overdue"}),a=[...e].filter(o=>o.viewCount>0).sort((o,d)=>(d.viewCount||0)-(o.viewCount||0)).slice(0,5),c=[...e].filter(o=>{var d;return((d=o.analytics)==null?void 0:d.recentViewers)&&o.analytics.recentViewers.length>0}).slice(0,5);return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Review Status"}),n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})]}),n.jsxs("div",{className:"space-y-2",children:[l.length>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Pending Reviews"}),n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:l.length})]}),i.length>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Overdue Reviews"}),n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:i.length})]}),l.length===0&&i.length===0&&n.jsx("p",{className:"text-sm text-gray-500",children:"No pending reviews"}),(l.length>0||i.length>0)&&n.jsx("div",{className:"pt-2 mt-2 border-t border-gray-100",children:[...i,...l].slice(0,3).map(o=>n.jsx(Te,{to:`/viewer/${o.id}`,className:"block py-1 text-sm text-indigo-600 hover:text-indigo-800 truncate",children:o.name||`Snapshot ${o.id.slice(0,8)}`},o.id))})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Expiring Soon"}),n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),s.length>0?n.jsx("div",{className:"space-y-2",children:s.slice(0,5).map(o=>{const d=Math.ceil((new Date(o.expiresAt).getTime()-Date.now())/864e5);return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Te,{to:`/viewer/${o.id}`,className:"text-sm text-gray-700 hover:text-indigo-600 truncate flex-1 mr-2",children:o.name||`Snapshot ${o.id.slice(0,8)}`}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:`text-xs font-medium ${d<=1?"text-red-600":"text-orange-600"}`,children:[d," day",d!==1?"s":""]}),o.viewCount>0&&n.jsx("button",{onClick:()=>t(o.id),className:"text-xs text-indigo-600 hover:text-indigo-800",children:"Extend"})]})]},o.id)})}):n.jsx("p",{className:"text-sm text-gray-500",children:"No snapshots expiring soon"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Most Viewed"}),n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})]}),a.length>0?n.jsx("div",{className:"space-y-2",children:a.map(o=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Te,{to:`/viewer/${o.id}`,className:"text-sm text-gray-700 hover:text-indigo-600 truncate flex-1 mr-2",children:o.name||`Snapshot ${o.id.slice(0,8)}`}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),n.jsx("span",{className:"text-xs text-gray-600",children:o.viewCount})]})]},o.id))}):n.jsx("p",{className:"text-sm text-gray-500",children:"No views yet"})]}),n.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl shadow-sm p-4 text-white",children:[n.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Quick Stats"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:r.length}),n.jsx("p",{className:"text-xs opacity-90",children:"Active Snapshots"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:e.reduce((o,d)=>o+(d.viewCount||0),0)}),n.jsx("p",{className:"text-xs opacity-90",children:"Total Views"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:e.reduce((o,d)=>o+(d.commentCount||0),0)}),n.jsx("p",{className:"text-xs opacity-90",children:"Comments"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:e.filter(o=>{var d;return(d=o.review)==null?void 0:d.isRequested}).length}),n.jsx("p",{className:"text-xs opacity-90",children:"Reviews"})]})]})]}),c.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 md:col-span-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Recent Activity"}),n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),n.jsx("div",{className:"space-y-2",children:c.map(o=>{var d,f,h,g;return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Te,{to:`/viewer/${o.id}`,className:"text-sm text-gray-700 hover:text-indigo-600 truncate flex-1 mr-2",children:o.name||`Snapshot ${o.id.slice(0,8)}`}),n.jsxs("span",{className:"text-xs text-gray-500",children:[(f=(d=o.analytics)==null?void 0:d.recentViewers)==null?void 0:f.length," recent viewer",((g=(h=o.analytics)==null?void 0:h.recentViewers)==null?void 0:g.length)!==1?"s":""]})]},o.id)})})]})]})}function Mf({selectedSnapshots:e,projects:t,snapshots:r,onClearSelection:s,onRefresh:l}){const[i,a]=p.useState(!1),[c,o]=p.useState(!1),[d,f]=p.useState(!1),[h,g]=p.useState(""),[b,j]=p.useState("");if(e.size===0)return null;const y=e.size===1?r.find(w=>e.has(w.id)):null,k=async()=>{a(!0);try{const w=Array.from(e).map(C=>R.post(`/api/snapshots/${C}/extend`,{days:7}));await Promise.all(w),l(),s()}catch(w){console.error("Failed to extend snapshots:",w),alert("Some snapshots could not be extended")}finally{a(!1)}},x=async()=>{if(h){a(!0);try{const C=(await Promise.allSettled(Array.from(e).map(P=>R.put(`/api/snapshots/${P}`,{projectId:h==="__no_project__"?null:h})))).filter(P=>P.status==="rejected");C.length>0&&(console.error("Failed to move some snapshots:",C),alert(`${C.length} snapshot(s) could not be moved. They may have been deleted or you may not have permission.`)),l(),s(),o(!1)}catch(w){console.error("Failed to move snapshots:",w),alert("Failed to move snapshots")}finally{a(!1)}}},m=async()=>{const w=e.size;if(confirm(`Are you sure you want to delete ${w} snapshot${w!==1?"s":""}? This action cannot be undone.`)){a(!0);try{const C=Array.from(e).map(P=>R.delete(`/api/snapshots/${P}`));await Promise.all(C),l(),s()}catch(C){console.error("Failed to delete snapshots:",C),alert("Some snapshots could not be deleted")}finally{a(!1)}}},u=async()=>{if(!(!y||!b.trim())){a(!0);try{await R.put(`/api/snapshots/${y.id}`,{name:b.trim()}),l(),s(),f(!1),j("")}catch(w){console.error("Failed to rename snapshot:",w),alert("Failed to rename snapshot")}finally{a(!1)}}},N=()=>{y&&(j(y.name||""),f(!0))};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-sm text-gray-700",children:[e.size," snapshot",e.size!==1?"s":""," selected"]}),n.jsxs("div",{className:"flex gap-2",children:[e.size===1&&n.jsx("button",{onClick:N,disabled:i,className:"px-3 py-1 text-sm bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:"Rename"}),n.jsx("button",{onClick:()=>o(!0),disabled:i,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Move to Project"}),n.jsx("button",{onClick:k,disabled:i,className:"px-3 py-1 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:"Extend Expiry"}),n.jsx("button",{onClick:m,disabled:i,className:"px-3 py-1 text-sm bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:"Delete"}),n.jsx("button",{onClick:s,className:"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"})]})]}),i&&n.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-600",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Processing..."]})]})}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Move to Project"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Move ",e.size," snapshot",e.size!==1?"s":""," to:"]}),n.jsxs("select",{value:h,onChange:w=>g(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 mb-4",children:[n.jsx("option",{value:"",children:"Select project..."}),t.filter(w=>!w.isArchived).map(w=>n.jsx("option",{value:w.id,children:w.name},w.id))]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:x,disabled:!h||i,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:i?"Moving...":"Move"}),n.jsx("button",{onClick:()=>{o(!1),g("")},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"})]})]})}),d&&y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rename Snapshot"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:['Enter a new name for "',y.name,'":']}),n.jsx("input",{type:"text",value:b,onChange:w=>j(w.target.value),onKeyDown:w=>{w.key==="Enter"&&b.trim()?u():w.key==="Escape"&&(f(!1),j(""))},placeholder:"Snapshot name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 mb-4",autoFocus:!0}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:u,disabled:!b.trim()||i,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:i?"Renaming...":"Rename"}),n.jsx("button",{onClick:()=>{f(!1),j("")},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"})]})]})})]})}function Df(){var sr,ss,lr;const e=vt(),[t,r]=_f(),{user:s,logout:l,refreshUser:i}=At(),[a,c]=p.useState([]),[o,d]=p.useState([]),[f,h]=p.useState(),[g,b]=p.useState(new Set),[j,y]=p.useState(!0),[k,x]=p.useState(""),[m,u]=p.useState(""),[N,w]=p.useState(""),[C,P]=p.useState(!1),[S,T]=p.useState(!1),[_,O]=p.useState(!1),[J,K]=p.useState(!1),[ke,ge]=p.useState(!1),[D,se]=p.useState(!1),[A,M]=p.useState(""),[B,q]=p.useState([]),[ee,Le]=p.useState(!1),[te,ut]=p.useState(""),[E,U]=p.useState(""),[H,$]=p.useState(!1);p.useEffect(()=>{const F=t.get("trial"),V=t.get("billing"),pe=t.get("success");(F==="started"||V==="success"||pe==="true")&&(console.log("Post-checkout detected, refreshing user data..."),i==null||i(),r({}),F==="started"?u("Welcome to your Pro trial! You now have access to all Pro features."):(V==="success"||pe==="true")&&u("Subscription activated! You now have full access to Pro features."),setTimeout(()=>u(""),5e3))},[t,i,r]),p.useEffect(()=>{W(),qe()},[]),p.useEffect(()=>{(async()=>{try{await R.post("/analytics/track",{eventType:"page_view",eventData:{page:"Dashboard"}})}catch(V){console.error("Failed to track page view:",V)}})()},[]);const W=async()=>{y(!0);try{const[F,V]=await Promise.all([R.get("/api/snapshots/list"),R.get("/api/projects")]);d(F.snapshots||[]),c(V.projects||[])}catch(F){x("Failed to load data"),console.error(F)}finally{y(!1)}},qe=async()=>{const F=localStorage.getItem("quickstage-downloaded-version");F&&U(F);try{const V=await fetch(gt.VERSION_INFO_URL);if(V.ok){const pe=await V.json();ut(pe.version),E&&E!==pe.version&&$(!0)}}catch(V){console.error("Failed to check for updates:",V)}},je=async F=>{try{await R.post(`/api/snapshots/${F}/extend`),W(),Ll("Snapshot extended successfully")}catch{tr("Failed to extend snapshot")}},yt=f?o.filter(F=>F.projectId===f):o,Mt=F=>{const V=new Set(g);V.has(F)?V.delete(F):V.add(F),b(V)},Pl=F=>{b(F?new Set(yt.map(V=>V.id)):new Set)},er=()=>{b(new Set)},Ll=F=>{u(F),setTimeout(()=>u(""),3e3)},tr=F=>{w(F),setTimeout(()=>w(""),3e3)},_l=()=>{e("/pricing?mode=trial")},nr=()=>{var V;if((s==null?void 0:s.role)==="superadmin")return!1;const F=((V=s==null?void 0:s.subscription)==null?void 0:V.status)||(s==null?void 0:s.subscriptionStatus)||"none";return F==="trial"?!1:s&&(!F||F==="none"||F==="cancelled"||F==="past_due")},Tl=()=>{const F=`${window.location.origin}${gt.EXTENSION_DOWNLOAD_URL}`,V=`${window.location.origin}${gt.API_BASE_URL}/extensions/download`;rr(F,V),setTimeout(()=>{K(!0)},1e3)},rr=async(F,V)=>{try{const pe=await fetch(F,{method:"HEAD"});let ls=F;!pe.ok&&V&&(console.warn("Primary download URL failed, using backup"),(await fetch(V,{method:"HEAD"})).ok&&(ls=V));const De=document.createElement("a");if(De.href=ls,De.download=`quickstage-${te}.vsix`,document.body.appendChild(De),De.click(),document.body.removeChild(De),te){localStorage.setItem("quickstage-downloaded-version",te),U(te),$(!1);const wn=E&&E!==te,Dt=wn?"extension_upgraded":"extension_downloaded";try{await R.post("/analytics/track",{eventType:Dt,eventData:{page:"/dashboard",version:te,previousVersion:E||null,isUpgrade:wn}})}catch(Ml){console.error("Failed to track extension download:",Ml)}}}catch(pe){console.error("Download failed:",pe)}},Rl=async()=>{try{const F=await R.get("/tokens/list");q(F.pats||[]),se(!0)}catch(F){console.error("Failed to load PATs:",F),se(!0)}},Al=async()=>{Le(!0);try{const F=await R.post("/tokens/create",{});M(F.token);const V=await R.get("/tokens/list");q(V.pats||[])}catch(F){console.error("Failed to generate PAT:",F)}finally{Le(!1)}},ns=async F=>{try{await R.delete(`/tokens/${F}`);const V=await R.get("/tokens/list");q(V.pats||[])}catch(V){console.error("Failed to revoke PAT:",V)}},rs=async F=>{try{await navigator.clipboard.writeText(F)}catch(V){console.error("Failed to copy to clipboard:",V)}};return s?n.jsxs("div",{className:"min-h-screen bg-gray-50 font-poppins",children:[n.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Te,{to:"/dashboard",className:"flex items-center",children:n.jsx("span",{className:"text-xl font-share-tech-mono font-bold text-gray-900",children:"QuickStage"})}),n.jsx("button",{onClick:()=>O(!_),className:"ml-4 p-2 rounded-md text-gray-600 hover:bg-gray-100 lg:hidden",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(oo,{}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-sm text-gray-700",children:s.name}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:s.subscriptionDisplay||"Free"}),n.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-500",title:"Sign out",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})}),(m||N)&&n.jsx("div",{className:"fixed top-4 right-4 z-50",children:n.jsx("div",{className:`p-4 rounded-md ${m?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:m||N})}),n.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[n.jsx("div",{className:`${_?"hidden":"block"} lg:block flex-shrink-0`,children:n.jsx(co,{projects:a,selectedProjectId:f,onSelectProject:h,onRefreshProjects:W,user:s,isCollapsed:!1,onToggleCollapse:()=>{}})}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:j?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):k?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-red-600 mb-4",children:k}),n.jsx("button",{onClick:W,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 font-inconsolata",children:f?((sr=a.find(F=>F.id===f))==null?void 0:sr.name)||"Project":"Dashboard"}),n.jsxs("p",{className:"text-gray-600",children:[yt.length," snapshot",yt.length!==1?"s":"",f&&((ss=a.find(F=>F.id===f))==null?void 0:ss.description)&&n.jsxs("span",{children:["  ",(lr=a.find(F=>F.id===f))==null?void 0:lr.description]})]})]}),n.jsx("div",{className:"flex items-center space-x-3",children:nr()&&n.jsx("button",{onClick:_l,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-purple-700",children:"Upgrade to Pro"})})]}),!f&&n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-inconsolata",children:"QuickStage Extension"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Download the VS Code/Cursor extension to start staging your projects"})]}),n.jsx("div",{className:"flex items-center space-x-3",children:s!=null&&s.canAccessPro?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:Tl,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg",children:"Download Extension"}),n.jsx("button",{onClick:()=>K(!0),className:"bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-2 px-4 rounded-lg",children:"Instructions"}),n.jsx("button",{onClick:()=>ge(!0),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg",children:"AI Assistant"}),n.jsx("button",{onClick:Rl,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg",children:"Tokens"})]}):n.jsx("button",{disabled:!0,className:"bg-gray-400 text-white font-medium py-2 px-4 rounded-lg cursor-not-allowed",children:"Go Pro to Download"})})]}),te&&n.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[n.jsxs("span",{children:["Current version: ",te]}),H&&n.jsx("span",{className:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs",children:"Update Available"})]})]})}),!f&&n.jsx(Af,{snapshots:o,onExtend:je}),n.jsx(Rf,{snapshots:yt,onRefresh:W,selectedSnapshots:g,onToggleSelect:Mt,onSelectAll:Pl}),n.jsx(Mf,{selectedSnapshots:g,snapshots:yt,projects:a,onClearSelection:er,onRefresh:W})]})})})]}),J&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 font-inconsolata",children:"Installation Instructions"}),n.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Step 1: Install the Extension"}),n.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-sm text-gray-700",children:[n.jsx("li",{children:"Open VS Code or Cursor"}),n.jsx("li",{children:"Press Ctrl+Shift+P (Windows/Linux) or Cmd+Shift+P (Mac)"}),n.jsx("li",{children:'Type "Extensions: Install from VSIX..." and press Enter'}),n.jsxs("li",{children:["Select the downloaded quickstage-",te,".vsix file"]}),n.jsx("li",{children:'Click "Install" when prompted'})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Step 2: Configure Token"}),n.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-sm text-gray-700",children:[n.jsx("li",{children:'Generate a Personal Access Token using the "Tokens" button'}),n.jsx("li",{children:"Copy the generated token (starts with qs_pat_)"}),n.jsx("li",{children:'In VS Code/Cursor, run "QuickStage: Set Token"'}),n.jsx("li",{children:"Paste your token when prompted"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Step 3: Start Staging"}),n.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-sm text-gray-700",children:[n.jsx("li",{children:"Open your project folder"}),n.jsx("li",{children:'Run "QuickStage: Stage" from the command palette'}),n.jsx("li",{children:"Your project will be built and deployed automatically"})]})]})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:()=>K(!1),className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg",children:"Got it!"})})]})})}),ke&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 font-inconsolata",children:"AI Assistant Instructions"}),n.jsx("button",{onClick:()=>ge(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:" How to Use This"}),n.jsx("p",{className:"text-sm text-purple-800",children:"Copy the instructions below and paste them into your AI assistant (ChatGPT, Claude, or Cursor's AI). This gives the AI perfect context to help you build interactive prototypes."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Copy-Paste Instructions"}),n.jsx("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg text-sm",children:n.jsx("div",{className:"whitespace-pre-line",children:`I want to build and deploy an interactive prototype using QuickStage. Here's what I need:

Project Goal: [DESCRIBE YOUR PROTOTYPE]
Target Users: [WHO will use this prototype]
Key Features: [LIST main interactive elements]
Design Preferences: [MENTION design style/framework preferences]

Technical Requirements:
 Web-based prototype that can be built and deployed
 Modern web technologies (React, Vue, Svelte, or vanilla HTML/CSS/JS)
 Build script in package.json for QuickStage compatibility
 Lightweight and fast-loading
 Modern browser compatibility

QuickStage Integration:
 Generate static files that can be served from CDN
 Compatible with QuickStage's build and deployment process
 Include all necessary assets in build output

Expected Output:
 Complete, working web application
 Clear build instructions
 All source code and assets
 Instructions for testing locally

Please create this step by step, ensuring it's production-ready and can be easily built and deployed.`})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("button",{onClick:()=>rs(`I want to build and deploy an interactive prototype using QuickStage. Here's what I need:

Project Goal: [DESCRIBE YOUR PROTOTYPE]
Target Users: [WHO will use this prototype]
Key Features: [LIST main interactive elements]
Design Preferences: [MENTION design style/framework preferences]

Technical Requirements:
 Web-based prototype that can be built and deployed
 Modern web technologies (React, Vue, Svelte, or vanilla HTML/CSS/JS)
 Build script in package.json for QuickStage compatibility
 Lightweight and fast-loading
 Modern browser compatibility

QuickStage Integration:
 Generate static files that can be served from CDN
 Compatible with QuickStage's build and deployment process
 Include all necessary assets in build output

Expected Output:
 Complete, working web application
 Clear build instructions
 All source code and assets
 Instructions for testing locally

Please create this step by step, ensuring it's production-ready and can be easily built and deployed.`),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg",children:"Copy Instructions"}),n.jsx("button",{onClick:()=>ge(!1),className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg",children:"Got it!"})]})]})]})})}),D&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 font-inconsolata",children:"Personal Access Tokens"}),n.jsx("button",{onClick:()=>{se(!1),M("")},className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:" How to Use PATs"}),n.jsx("p",{className:"text-sm text-blue-800",children:"Generate a Personal Access Token and use it in your VS Code/Cursor extension. This authenticates your extension with QuickStage permanently."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Generate New Token"}),n.jsx("button",{onClick:Al,disabled:ee,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg",children:ee?"Generating...":"Generate New Token"})]}),A&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"New Token Generated"}),n.jsx("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-sm break-all",children:A}),n.jsx("p",{className:"text-sm text-red-600 mt-2",children:" Copy this token now! It won't be shown again."}),n.jsx("button",{onClick:()=>rs(A),className:"mt-2 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg",children:"Copy Token"})]}),B.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Existing Tokens"}),n.jsx("div",{className:"space-y-3",children:B.map(F=>n.jsx("div",{className:"border rounded-lg p-3 bg-gray-50",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:F.description}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(F.createdAt).toLocaleDateString()]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Expires: ",new Date(F.expiresAt).toLocaleDateString()]}),F.lastUsed&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Last used: ",new Date(F.lastUsed).toLocaleDateString()]})]}),n.jsx("button",{onClick:()=>ns(F.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Revoke"})]})},F.id))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>{se(!1),M("")},className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg",children:"Close"})})]})]})})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})}function Rm(){const e=vt(),[t,r]=p.useState([]),[s,l]=p.useState(),[i,a]=p.useState(!1),c=async()=>{try{const f=await R.get("/api/projects");r(f.projects||[])}catch(f){console.error("Failed to load projects:",f)}},o=f=>{l(f),e("/dashboard")},d=()=>{a(!i)};return p.useEffect(()=>{c()},[]),{projects:t,selectedProjectId:s,isSidebarCollapsed:i,loadProjects:c,handleSelectProject:o,handleToggleSidebar:d,setSelectedProjectId:l}}function zf({className:e=""}){const[t,r]=p.useState([]),[s,l]=p.useState(!0),[i,a]=p.useState(null),c=async()=>{try{l(!0),a(null);const h=await R.get("/api/subscriptions");r(h.subscriptions||[])}catch(h){console.error("Failed to load subscriptions:",h),a("Failed to load subscriptions")}finally{l(!1)}};p.useEffect(()=>{c()},[]);const o=async h=>{try{await R.delete(`/api/subscriptions/${h}`),r(g=>g.filter(b=>b.id!==h));try{await R.post("/analytics/track",{eventType:"comment_subscription_removed",eventData:{subscriptionId:h,method:"settings_page"}})}catch(g){console.error("Failed to track unsubscription analytics:",g)}}catch(g){console.error("Failed to unsubscribe:",g),alert("Failed to unsubscribe. Please try again.")}},d=async(h,g)=>{try{await R.patch(`/api/subscriptions/${h}`,{isActive:!g}),r(b=>b.map(j=>j.id===h?{...j,isActive:!g}:j));try{await R.post("/analytics/track",{eventType:g?"comment_subscription_paused":"comment_subscription_activated",eventData:{subscriptionId:h,method:"settings_page",newState:g?"paused":"active"}})}catch(b){console.error("Failed to track subscription toggle analytics:",b)}}catch(b){console.error("Failed to toggle subscription:",b),alert("Failed to update subscription. Please try again.")}},f=h=>new Date(h).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return s?n.jsx("div",{className:`bg-white rounded-lg shadow p-6 ${e}`,children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((h,g)=>n.jsx("div",{className:"h-16 bg-gray-100 rounded"},g))})]})}):i?n.jsx("div",{className:`bg-white rounded-lg shadow p-6 ${e}`,children:n.jsxs("div",{className:"text-center py-8",children:[n.jsx("svg",{className:"w-12 h-12 mx-auto text-red-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),n.jsx("p",{className:"text-red-600 font-medium",children:i}),n.jsx("button",{onClick:c,className:"mt-4 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:"Try Again"})]})}):n.jsxs("div",{className:`bg-white rounded-lg shadow ${e}`,children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Comment Subscriptions"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your subscriptions to comment threads and snapshots"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("span",{className:"text-sm text-gray-500",children:[t.length," subscription",t.length!==1?"s":""]})})]})}),n.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?n.jsxs("div",{className:"px-6 py-12 text-center",children:[n.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-3.405-3.405A9.048 9.048 0 0118 9a9 9 0 10-18 0 9.048 9.048 0 001.405 4.595L2 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No subscriptions yet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"You're not following any comment conversations. Start a conversation or follow existing ones to get notifications."}),n.jsx(Te,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Snapshots"})]}):t.map(h=>n.jsx("div",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:h.snapshotName||`Snapshot ${h.snapshotId}`}),n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${h.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:h.isActive?"Active":"Paused"})]}),h.commentPreview&&n.jsxs("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:['"',h.commentPreview,'"']}),n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[n.jsxs("span",{children:["Subscribed ",f(h.createdAt)]}),h.lastNotified&&n.jsxs("span",{children:["Last notification ",f(h.lastNotified)]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[n.jsx("button",{onClick:()=>d(h.id,h.isActive),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${h.isActive?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,title:h.isActive?"Pause notifications":"Resume notifications",children:h.isActive?"Pause":"Resume"}),n.jsx(Te,{to:`/view/${h.snapshotId}`,className:"px-3 py-1.5 text-xs font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 rounded-md transition-colors",title:"View snapshot",children:"View"}),n.jsx("button",{onClick:()=>o(h.id),className:"px-3 py-1.5 text-xs font-medium text-red-700 bg-red-100 hover:bg-red-200 rounded-md transition-colors",title:"Unsubscribe from this conversation",children:"Unsubscribe"})]})]})},h.id))}),t.length>0&&n.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200 rounded-b-lg",children:n.jsx("p",{className:"text-xs text-gray-600",children:"You'll receive email notifications when new comments are added to conversations you're following. You can pause or unsubscribe from individual conversations at any time."})})]})}function If(){var T,_,O,J,K,ke,ge,D,se,A;const e=vt(),{user:t,logout:r,loading:s,cancelSubscription:l}=At(),[i,a]=p.useState(!1),[c,o]=p.useState(null),[d,f]=p.useState(null),[h,g]=p.useState(!1),{projects:b,selectedProjectId:j,handleSelectProject:y,loadProjects:k,isSidebarCollapsed:x,handleToggleSidebar:m}=Rm();p.useEffect(()=>{console.log("Settings - Current user object:",t),console.log("Settings - User subscription details:",{plan:t==null?void 0:t.plan,subscriptionStatus:t==null?void 0:t.subscriptionStatus,subscriptionDisplay:t==null?void 0:t.subscriptionDisplay,canAccessPro:t==null?void 0:t.canAccessPro,role:t==null?void 0:t.role})},[t]),p.useEffect(()=>{(async()=>{try{await R.post("/analytics/track",{eventType:"page_view",eventData:{page:"Settings"}})}catch(B){console.error("Failed to track page view:",B)}})()},[]);const u=()=>{var B;const M=(((B=t==null?void 0:t.subscription)==null?void 0:B.status)||(t==null?void 0:t.subscriptionStatus))==="trial"?"upgrade":"trial";e(`/pricing?mode=${M}`)},N=async()=>{try{o(null);const M=await R.post("/billing/portal");M.url?window.location.href=M.url:o("No billing portal URL received")}catch(M){console.error("Billing portal error:",M),o("Failed to open billing portal")}},w=async()=>{try{o(null);const M=await R.post("/billing/change-payment");M.url?window.location.href=M.url:o("No payment update URL received")}catch(M){console.error("Payment method update error:",M),o("Failed to update payment method")}},C=async()=>{if(confirm("Are you sure you want to cancel your Pro subscription? You will retain access until the end of your current billing period."))try{o(null);const M=await l();M.ok?(f(M.message||"Subscription cancelled successfully"),setTimeout(()=>f(null),5e3)):o(M.error||"Failed to cancel subscription")}catch(M){console.error("Cancel subscription error:",M),o("Failed to cancel subscription")}},P=()=>{r()},S=async()=>{if(!confirm(`  DANGER: Are you absolutely sure you want to PERMANENTLY DELETE your account "${(t==null?void 0:t.name)||(t==null?void 0:t.email)}"?

This will:
 Remove all your data from the system
 Delete all your snapshots
 Delete all your PATs
 Delete all your comments
 This action CANNOT be undone!

Type "DELETE" to confirm:`))return;if(prompt('Type "DELETE" to confirm permanent deletion:')!=="DELETE"){alert("Deletion cancelled. Your data is safe.");return}try{o(null),await Lm.deleteUser(t.uid),f("Your account has been completely deleted from the system. You will be redirected to the login page."),setTimeout(()=>{r(),window.location.href="/login"},3e3)}catch(B){o(B.message||"Failed to delete account")}};return s?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading settings..."})]})}):t?n.jsxs("div",{className:"min-h-screen bg-gray-50 font-poppins",children:[n.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Te,{to:"/dashboard",className:"flex items-center",children:n.jsx("span",{className:"text-xl font-share-tech-mono font-bold text-gray-900",children:"QuickStage"})}),n.jsx("button",{onClick:()=>g(!h),className:"ml-4 p-2 rounded-md text-gray-600 hover:bg-gray-100 lg:hidden",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(oo,{}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-sm text-gray-700",children:t.name}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.subscriptionDisplay||"Free"}),n.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-500",title:"Sign out",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})}),n.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[n.jsx("div",{className:`${h?"block":"hidden"} lg:block flex-shrink-0`,children:n.jsx(co,{projects:b,selectedProjectId:j,onSelectProject:y,onRefreshProjects:k,user:t,isCollapsed:x,onToggleCollapse:m})}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"max-w-4xl mx-auto py-4 sm:py-6 px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-6 sm:mb-8",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 font-inconsolata",children:"Account Settings"}),n.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600",children:"Manage your account, plan, and preferences."})]}),c&&n.jsx("div",{className:"px-4 sm:px-0 mb-6",children:n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c})}),d&&n.jsx("div",{className:"px-4 sm:px-0 mb-4",children:n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-green-800",children:d})})]})})}),n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 sm:p-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center mb-4 sm:mb-6 space-y-3 sm:space-y-0",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mr-0 sm:mr-4 flex-shrink-0",children:n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 font-inconsolata",children:"Account Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),n.jsx("div",{className:"bg-gray-50 rounded-lg px-4 py-3",children:n.jsx("p",{className:"text-gray-900",children:t.name||"Not provided"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),n.jsx("div",{className:"bg-gray-50 rounded-lg px-4 py-3",children:n.jsx("p",{className:"text-gray-900",children:t.email})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User ID"}),n.jsx("div",{className:"bg-gray-50 rounded-lg px-4 py-3",children:n.jsx("p",{className:"text-gray-900",children:t.uid})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Staging Since"}),n.jsx("div",{className:"bg-gray-50 rounded-lg px-4 py-3",children:n.jsx("p",{className:"text-gray-900",children:new Date(t.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Plan"}),n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg px-4 py-3 border border-blue-100",children:n.jsx("p",{className:"text-blue-900 font-semibold",children:t.subscriptionDisplay||"Free"})})]}),((((T=t.subscription)==null?void 0:T.status)||t.subscriptionStatus)==="active"||(((_=t.subscription)==null?void 0:_.status)||t.subscriptionStatus)==="trial")&&t.nextBillingDate&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Next Billing"}),n.jsxs("div",{className:"bg-green-50 rounded-lg px-4 py-3 border border-green-100",children:[n.jsx("p",{className:"text-green-900 font-medium",children:new Date(t.nextBillingDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),t.nextBillingAmount!==null&&t.nextBillingAmount!==void 0&&n.jsxs("p",{className:"text-green-700 text-sm mt-1",children:["Amount: ",t.nextBillingAmount===0?"Free":`$${(t.nextBillingAmount/100).toFixed(2)}`]})]})]})]})]})}),n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4 font-inconsolata",children:"Plan Management"}),t.role==="superadmin"?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-purple-600 font-medium mb-2",children:" Pro (Superadmin) - Permanent Access"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"As a superadmin, you have permanent access to all Pro features without any subscription requirements."})]}),n.jsx("div",{className:"text-sm text-gray-500",children:"No billing management needed - your access is permanent."})]}):!((O=t.subscription)!=null&&O.status||t.subscriptionStatus)||(((J=t.subscription)==null?void 0:J.status)||t.subscriptionStatus)==="none"?n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Upgrade to Pro for unlimited snapshots, larger file sizes, and extended expiry times."}),n.jsx("button",{onClick:u,disabled:i,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:i?"Processing...":"Upgrade to Pro"})]}):(((K=t.subscription)==null?void 0:K.status)||t.subscriptionStatus)==="trial"?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-blue-600 font-medium mb-2",children:" Pro (Trial) - Active"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"You're currently on a 7-day free trial of the Pro plan. Enjoy unlimited snapshots, 100MB per snapshot, and up to 90-day expiry times."}),(((ke=t.subscription)==null?void 0:ke.trialEnd)||t.trialEndsAt)&&n.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Trial ends: ",new Date(((ge=t.subscription)==null?void 0:ge.trialEnd)||t.trialEndsAt).toLocaleDateString()]}),t.nextBillingDate&&n.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[n.jsxs("p",{children:["Next billing: ",new Date(t.nextBillingDate).toLocaleDateString()]}),t.nextBillingAmount!==null&&t.nextBillingAmount!==void 0&&n.jsxs("p",{children:["Amount: ",t.nextBillingAmount===0?"Free":`$${(t.nextBillingAmount/100).toFixed(2)}`]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:w,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Change Payment Method"}),n.jsx("button",{onClick:C,className:"bg-gray-300 hover:bg-gray-400 text-gray-900 font-medium py-2 px-4 rounded-lg transition-colors",children:"Cancel Subscription"})]})]}):(((D=t.subscription)==null?void 0:D.status)||t.subscriptionStatus)==="active"?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-green-600 font-medium mb-2",children:" Pro - Active Subscription"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"You have full access to all Pro features: unlimited snapshots, 100MB per snapshot, and up to 90-day expiry times."}),t.nextBillingDate&&n.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[n.jsxs("p",{children:["Next billing: ",new Date(t.nextBillingDate).toLocaleDateString()]}),t.nextBillingAmount!==null&&t.nextBillingAmount!==void 0&&n.jsxs("p",{children:["Amount: ",t.nextBillingAmount===0?"Free":`$${(t.nextBillingAmount/100).toFixed(2)}`]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:w,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Change Payment Method"}),n.jsx("button",{onClick:C,className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Cancel Subscription"})]})]}):(((se=t.subscription)==null?void 0:se.status)||t.subscriptionStatus)==="cancelled"?n.jsxs("div",{children:[n.jsx("p",{className:"text-orange-600 font-medium mb-2",children:" Pro (Cancelled)"}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Your subscription has been cancelled. You will retain access to Pro features until the end of your current billing period."}),n.jsx("button",{onClick:u,disabled:i,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:i?"Processing...":"Reactivate Pro"})]}):(((A=t.subscription)==null?void 0:A.status)||t.subscriptionStatus)==="past_due"?n.jsxs("div",{children:[n.jsx("p",{className:"text-red-600 font-medium mb-2",children:" Pro (Payment Past Due)"}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Your subscription payment is past due. Please update your payment method to continue access to Pro features."}),n.jsx("button",{onClick:N,className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Update Payment Method"})]}):n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Upgrade to Pro for unlimited snapshots, larger file sizes, and extended expiry times."}),n.jsx("button",{onClick:u,disabled:i,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:i?"Processing...":"Upgrade to Pro"})]})]})}),n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsx(zf,{className:"w-full"})}),n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 sm:p-8",children:[n.jsx("div",{className:"flex items-center mb-4 sm:mb-6",children:n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 font-inconsolata",children:"Account Actions"})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[n.jsxs("button",{onClick:P,className:"bg-gray-300 hover:bg-gray-400 text-gray-900 font-medium py-3 px-6 rounded-lg transition-colors shadow-md flex items-center justify-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]}),n.jsxs("button",{onClick:S,className:"bg-gray-300 hover:bg-gray-400 text-gray-900 font-medium py-3 px-6 rounded-lg transition-colors shadow-md flex items-center justify-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Account"]})]})]})})]})})]})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-inconsolata",children:"Authentication Required"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to access your account settings."}),n.jsx(Te,{to:"/login",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Go to Login"})]})})}function Ff({snapshotId:e,isVisible:t,onClose:r,className:s=""}){const[l,i]=p.useState([]),[a,c]=p.useState(""),[o,d]=p.useState(!1),[f,h]=p.useState(!1),[g,b]=p.useState(!1),[j,y]=p.useState(null),k=p.useRef(null),x=p.useRef(null),m=()=>{k.current&&typeof k.current.scrollIntoView=="function"&&k.current.scrollIntoView({behavior:"smooth"})};p.useEffect(()=>{m()},[l]),p.useEffect(()=>{t&&!g&&u()},[t,e]);const u=async()=>{var S,T;try{const _=await R.get(`/api/snapshots/${e}/ai-chat`);(S=_==null?void 0:_.data)!=null&&S.success&&((T=_.data.data)!=null&&T.exists)&&(i(_.data.data.messages.map(O=>({...O,timestamp:Date.now()}))),b(!0))}catch(_){console.error("Failed to load conversation:",_)}},N=async()=>{var S,T;h(!0),y(null);try{const _=await R.post(`/api/snapshots/${e}/ai-chat/start`);if(_.data.success){const O=_.data.data.messages.map(J=>({...J,timestamp:Date.now()}));i(O),b(!0)}else y(_.data.error||"Failed to start AI analysis")}catch(_){console.error("Failed to start conversation:",_),((S=_.response)==null?void 0:S.status)===429?y("Rate limit exceeded. Please try again in an hour."):((T=_.response)==null?void 0:T.status)===503?y("AI service is temporarily unavailable. Please try again later."):y("Failed to connect to AI service. Please try again.")}finally{h(!1)}},w=async()=>{var T,_;if(!a.trim()||o)return;const S={role:"user",content:a.trim(),timestamp:Date.now()};i(O=>[...O,S]),c(""),d(!0),y(null);try{const O=await R.post(`/api/snapshots/${e}/ai-chat/message`,{message:a.trim()});if(O.data.success){const J={role:"assistant",content:O.data.data.response,timestamp:Date.now()};i(K=>[...K,J])}else y(O.data.error||"Failed to get AI response")}catch(O){console.error("Failed to send message:",O),((T=O.response)==null?void 0:T.status)===429?y("Rate limit exceeded. Please try again in an hour."):((_=O.response)==null?void 0:_.status)===503?y("AI service is temporarily unavailable. Please try again later."):y("Failed to send message. Please try again.")}finally{d(!1)}},C=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),w())},P=S=>S.split(`
`).map((T,_)=>T.startsWith("**")&&T.endsWith("**")?n.jsx("div",{className:"font-semibold text-gray-900 mt-3 mb-1",children:T.slice(2,-2)},_):T.startsWith("- ")?n.jsxs("div",{className:"ml-4 mb-1",children:[" ",T.slice(2)]},_):T.trim()===""?n.jsx("div",{className:"h-2"},_):n.jsx("div",{className:"mb-1",children:T},_));return t?n.jsxs("div",{className:`fixed right-0 top-0 h-full w-96 bg-white shadow-2xl z-50 flex flex-col ${s}`,children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-blue-50",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-inconsolata",children:" AI UX Assistant"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get expert UI/UX feedback and suggestions"})]}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-lg font-bold","aria-label":"Close panel",children:""})]}),g?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l.map((S,T)=>n.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:n.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${S.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:S.role==="assistant"?n.jsx("div",{className:"text-sm leading-relaxed",children:P(S.content)}):n.jsx("div",{className:"text-sm",children:S.content})})},T)),o&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-gray-100 text-gray-900 p-3 rounded-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-400"}),n.jsx("span",{className:"text-sm",children:"AI is thinking..."})]})})}),n.jsx("div",{ref:k})]}),j&&n.jsx("div",{className:"mx-4 mb-2 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:j}),n.jsxs("div",{className:"border-t border-gray-200 p-4",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("textarea",{ref:x,value:a,onChange:S=>c(S.target.value),onKeyPress:C,placeholder:"Ask about accessibility, mobile design, user flow...",className:"flex-1 resize-none border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,disabled:o,maxLength:1e3}),n.jsx("button",{onClick:w,disabled:!a.trim()||o,className:"self-end bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),n.jsxs("div",{className:"mt-2 flex justify-between text-xs text-gray-500",children:[n.jsx("span",{children:"Press Enter to send, Shift+Enter for new line"}),n.jsxs("span",{children:[a.length,"/1000"]})]})]})]}):n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:"AI-Powered UX Analysis"}),n.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Get instant feedback on your prototype's user experience, accessibility, design patterns, and modern UI best practices. Ask questions and get specific suggestions for improvement."}),n.jsxs("div",{className:"w-full space-y-3 mb-6 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-green-500 mr-2",children:""}),"Accessibility & WCAG compliance"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-green-500 mr-2",children:""}),"Mobile responsiveness analysis"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-green-500 mr-2",children:""}),"Visual hierarchy & typography"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-green-500 mr-2",children:""}),"Interactive Q&A with AI expert"]})]}),n.jsx("button",{onClick:N,disabled:f,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium",children:f?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Analyzing your prototype..."]}):" Start AI Analysis"}),j&&n.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:[j,n.jsx("button",{onClick:N,className:"ml-2 underline hover:no-underline",children:"Try again"})]})]})]}):null}function Uf({review:e,isOwner:t,onCancel:r,onSubmitFeedback:s}){const[l,i]=p.useState(!1),[a,c]=p.useState(""),[o,d]=p.useState(!1),f=y=>{switch(y){case"pending":return"bg-gray-100 text-gray-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},h=y=>{switch(y){case"pending":return"text-gray-600";case"reviewing":return"text-blue-600";case"approved":return"text-green-600";case"changes_requested":return"text-orange-600";default:return"text-gray-600"}},g=async y=>{if(!a.trim()){alert("Please provide feedback before submitting");return}d(!0);try{await s(a,y),i(!1),c("")}catch(k){console.error("Failed to submit feedback:",k)}finally{d(!1)}},b=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=e.deadline&&Date.now()>e.deadline;return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(e.status)}`,children:e.status.replace("_"," ").toUpperCase()}),j&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"OVERDUE"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Requested ",b(e.requestedAt),e.deadline&&n.jsxs("span",{className:"ml-2",children:[" Due ",b(e.deadline)]})]}),e.notes&&n.jsxs("p",{className:"text-sm text-gray-700 mt-2 italic",children:['"',e.notes,'"']})]}),t&&e.status!=="completed"&&n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-600 ml-4",title:"Cancel review",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Reviewers (",e.reviewers.length,")"]}),e.reviewers.map(y=>n.jsxs("div",{className:"flex items-start justify-between bg-gray-50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:y.userName}),n.jsx("span",{className:`text-xs font-medium ${h(y.status)}`,children:y.status.replace("_"," ").toUpperCase()})]}),n.jsx("p",{className:"text-sm text-gray-600",children:y.userEmail}),y.feedback&&n.jsxs("div",{className:"mt-2 p-2 bg-white rounded border border-gray-200",children:[n.jsx("p",{className:"text-sm text-gray-700",children:y.feedback}),y.reviewedAt&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Reviewed ",b(y.reviewedAt)]})]})]}),y.status==="pending"&&!t&&n.jsx("button",{onClick:()=>i(!l),className:"ml-3 px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Review"})]},y.userId))]}),l&&n.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Submit Your Review"}),n.jsx("textarea",{value:a,onChange:y=>c(y.target.value),placeholder:"Provide your feedback on this design...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsxs("div",{className:"flex justify-end gap-3 mt-3",children:[n.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",disabled:o,children:"Cancel"}),n.jsx("button",{onClick:()=>g("changes_requested"),disabled:o||!a.trim(),className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50",children:"Request Changes"}),n.jsx("button",{onClick:()=>g("approved"),disabled:o||!a.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:"Approve"})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[e.reviewers.filter(y=>y.status==="approved"||y.status==="changes_requested").length," / ",e.reviewers.length," completed"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${e.reviewers.filter(y=>y.status==="approved"||y.status==="changes_requested").length/e.reviewers.length*100}%`}})})]})]})}function $f({snapshotId:e,isOwner:t,onReviewUpdate:r}){const[s,l]=p.useState([]),[i,a]=p.useState(!1),[c,o]=p.useState(!1),[d,f]=p.useState(null),h=async()=>{try{a(!0);const k=(await R.get(`/api/snapshots/${e}/reviews`)).reviews||[];l(k),r&&r(k)}catch(y){console.error("Failed to load reviews:",y),f("Failed to load reviews")}finally{a(!1)}},g=async y=>{try{await R.post(`/api/snapshots/${e}/reviews`,{reviewers:y.reviewers,deadline:y.deadline,notes:y.notes});try{await R.post("/analytics/track",{eventType:"review_requested",eventData:{snapshotId:e,reviewerCount:y.reviewers.length,hasDeadline:!!y.deadline,hasNotes:!!y.notes,deadlineInDays:y.deadline?Math.ceil((new Date(y.deadline).getTime()-Date.now())/(1e3*60*60*24)):null}})}catch(k){console.error("Failed to track review creation analytics:",k)}o(!1),await h()}catch(k){console.error("Failed to create review:",k),f("Failed to create review")}},b=async y=>{if(confirm("Are you sure you want to cancel this review?"))try{await R.delete(`/api/reviews/${y}`),await h();try{await R.post("/analytics/track",{eventType:"review_cancelled",eventData:{snapshotId:e,reviewId:y}})}catch(k){console.error("Failed to track review cancellation analytics:",k)}}catch(k){console.error("Failed to cancel review:",k),f("Failed to cancel review")}},j=async(y,k,x)=>{try{await R.post(`/api/reviews/${y}/submit`,{feedback:k,status:x}),await h();try{await R.post("/analytics/track",{eventType:x==="approved"?"review_approved":"review_rejected",eventData:{snapshotId:e,reviewId:y,feedbackLength:k.length,hasFeedback:k.length>0}})}catch(m){console.error("Failed to track review submission analytics:",m)}}catch(m){console.error("Failed to submit review:",m),f("Failed to submit review")}};return p.useEffect(()=>{h()},[e]),i&&s.length===0?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"text-center text-gray-500 mt-4",children:"Loading reviews..."})]}):n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reviews"}),t&&n.jsx("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Request Review"})]}),d&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[n.jsx("p",{className:"text-red-600 text-sm",children:d}),n.jsx("button",{onClick:()=>f(null),className:"text-red-500 hover:text-red-700 text-sm underline ml-2",children:"Dismiss"})]}),s.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"text-gray-400 mb-4",children:n.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsx("p",{className:"text-gray-500 text-lg",children:"No reviews yet"}),n.jsx("p",{className:"text-gray-400 text-sm mt-1",children:t?"Request feedback from your team":"The owner hasn't requested any reviews"})]}):n.jsx("div",{className:"space-y-4",children:s.map(y=>n.jsx(Uf,{review:y,isOwner:t,onCancel:()=>b(y.id),onSubmitFeedback:(k,x)=>j(y.id,k,x)},y.id))}),c&&n.jsx(Tm,{onClose:()=>o(!1),onSubmit:g})]})}function Bf(){const e=vt(),{user:t}=At(),[r,s]=p.useState(null),[l,i]=p.useState([]),[a,c]=p.useState(!0),[o,d]=p.useState(null),[f,h]=p.useState(""),[g,b]=p.useState(!1),[j,y]=p.useState(""),[k,x]=p.useState(!1),[m,u]=p.useState(null),[N,w]=p.useState(null),[C,P]=p.useState(!1),{id:S}=tf();p.useEffect(()=>{if(!S){d("No snapshot ID provided"),c(!1);return}T()},[S]),p.useEffect(()=>{r&&!r.password&&_()},[r]),p.useEffect(()=>{g&&!a&&setTimeout(()=>{const D=document.querySelector('input[type="password"]');D&&D.focus()},100)},[g,a]);const T=async()=>{try{d(null);const D=await R.get(`/snapshots/${S}`);s(D.snapshot),D.snapshot.files.length>0&&w(D.snapshot.files[0].name)}catch(D){D.message.includes("401")?b(!0):(console.error("Failed to fetch snapshot:",D),d("Failed to fetch snapshot"))}finally{c(!1)}},_=async()=>{try{const D=await R.get(`/api/snapshots/${S}/comments`);i(D.comments||[])}catch(D){console.error("Failed to fetch comments:",D)}},O=async()=>{try{d(null);const D=await fetch(`/s/${S}/gate`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:f})});if(!D.ok)throw new Error(D.status.toString());b(!1),await T(),_()}catch(D){console.error("Password verification failed:",D),d(D.message||"Invalid password")}},J=async()=>{if(!(!j.trim()||!m))try{x(!0),d(null),await R.post(`/api/snapshots/${S}/comments`,{text:j,turnstileToken:m}),y(""),u(null),window.turnstile&&window.turnstile.reset(),_()}catch(D){console.error("Failed to post comment:",D),d(D.message||"Failed to post comment")}finally{x(!1)}},K=D=>{u(D)},ke=D=>{if(D===0)return"0 B";const se=1024,A=["B","KB","MB","GB"],M=Math.floor(Math.log(D)/Math.log(se));return parseFloat((D/Math.pow(se,M)).toFixed(1))+" "+A[M]},ge=D=>new Date(D).toLocaleString();return a?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading snapshot..."})]})}):o&&!g?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-6 font-poppins",children:n.jsx("div",{className:"max-w-md w-full",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2 font-inconsolata",children:"Error"}),n.jsx("p",{className:"mb-4",children:o}),n.jsx("button",{onClick:()=>e("/"),className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Back to Dashboard"})]})})}):g?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-6 font-poppins",children:n.jsxs("div",{className:"max-w-md w-full",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 font-inconsolata",children:"Password Protected"}),n.jsx("p",{className:"text-gray-600",children:"This snapshot is password protected. Please enter the password to continue."})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[o&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:o}),n.jsx("div",{className:"mb-6",children:n.jsx("input",{type:"password",value:f,onChange:D=>h(D.target.value),placeholder:"Enter password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:D=>D.key==="Enter"&&O()})}),n.jsx("button",{onClick:O,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-lg transition-colors w-full",children:"View Snapshot"})]})]})}):r?(r.files.find(D=>D.name===N),n.jsxs("div",{className:"min-h-screen bg-gray-50 font-poppins",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-xl font-bold text-gray-900 font-inconsolata",children:["Snapshot: ",r.id]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Created: ",ge(r.createdAt)," | Expires: ",ge(r.expiresAt)," | Size: ",ke(r.totalBytes)]})]}),n.jsxs("nav",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>P(!C),className:`px-3 py-2 text-sm font-medium border rounded-lg transition-colors ${C?"bg-blue-600 text-white border-blue-600":"text-gray-600 hover:text-gray-700 border-gray-300 hover:border-gray-400"}`,children:" AI UX Assistant"}),n.jsx("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-700 px-3 py-2 text-sm font-medium border border-gray-300 rounded-lg hover:border-gray-400 transition-colors",children:"Dashboard"})]})]})})}),n.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 font-inconsolata",children:["Files (",r.files.length,")"]}),n.jsx("div",{className:"space-y-2",children:r.files.map(D=>n.jsxs("button",{onClick:()=>w(D.name),className:`w-full text-left p-3 rounded-lg border transition-colors ${N===D.name?"bg-blue-50 border-blue-200 text-blue-900":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[n.jsx("div",{className:"font-medium text-sm",children:D.name}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[ke(D.size),"  ",D.type]})]},D.name))})]})}),n.jsx("div",{className:"lg:col-span-6",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-2 min-h-[600px]",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 font-inconsolata",children:"Preview"}),n.jsx("a",{href:`https://quickstage.tech/s/${S}/index.html`,target:"_blank",rel:"noreferrer",className:"text-sm text-blue-600 hover:underline",children:"Open in new tab"})]}),n.jsx("iframe",{src:`https://quickstage.tech/s/${S}/index.html`,className:"w-full h-[70vh] border-0",title:"Snapshot Preview"},S)]})}),n.jsxs("div",{className:"lg:col-span-3",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 font-inconsolata",children:["Comments (",l.length,")"]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("textarea",{value:j,onChange:D=>y(D.target.value),placeholder:"Add a comment...",className:"w-full min-h-[80px] p-3 border border-gray-300 rounded-lg resize-vertical font-inherit text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("div",{className:"cf-turnstile","data-sitekey":"1x00000000000000000000AA","data-callback":K}),n.jsx("button",{onClick:J,disabled:!j.trim()||!m||k,className:`w-full py-2 px-4 rounded-lg font-medium text-sm transition-colors ${!j.trim()||!m||k?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:k?"Posting...":"Post Comment"})]}),n.jsx("div",{className:"space-y-3",children:l.length===0?n.jsx("div",{className:"text-center text-gray-500 text-sm py-4",children:"No comments yet. Be the first to comment!"}):l.map(D=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 mb-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"font-medium text-gray-900 text-sm",children:D.author}),n.jsx("span",{className:"text-xs text-gray-500",children:ge(D.createdAt)})]}),D.file&&D.line&&n.jsxs("div",{className:"inline-block text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded mb-2",children:[D.file,":",D.line]}),n.jsx("div",{className:"text-gray-700 text-sm mt-2",children:D.text})]},D.id))})]}),n.jsx("div",{className:"mt-6",children:n.jsx($f,{snapshotId:S||"",isOwner:!!t})})]})]})}),S&&n.jsx(Ff,{snapshotId:S,isVisible:C,onClose:()=>P(!1)})]})):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-inconsolata",children:"Snapshot Not Found"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"The requested snapshot could not be found."}),n.jsx("button",{onClick:()=>e("/"),className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Back to Dashboard"})]})})}function Of(){const e=vt(),[t,r]=p.useState([]),[s,l]=p.useState([]),[i,a]=p.useState({x:0,y:0}),[c,o]=p.useState(0),[d,f]=p.useState(!0),[h,g]=p.useState(!1),[b,j]=p.useState(!1),y=["No <strong>DevOps</strong>","No <strong>GitHub</strong>","No finnicky <strong>envs</strong>","No deployment <strong>pipelines</strong>","No <strong>configs</strong>","No <strong>DevOps</strong>"],k=()=>{e("/login")},x=()=>{e("/login?mode=signup")},m=()=>{e("/login")};return p.useEffect(()=>{(async()=>{try{await R.post("/analytics/track",{eventType:"page_view",eventData:{page:"Landing Page"}})}catch(N){console.error("Failed to track page view:",N)}})()},[]),p.useEffect(()=>{const u=()=>{const N=navigator.userAgent.toLowerCase(),w=/mobile|android|iphone|ipad|phone|tablet/i.test(N)||window.innerWidth<=768;g(w)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),p.useEffect(()=>{const u=()=>{const w=[];for(let P=0;P<50;P++)w.push({id:P,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:Math.random()*2+.5,opacity:Math.random()*.6+.2});l(w)};u();const N=()=>u();return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),p.useEffect(()=>{if(!d)return;const u=setInterval(()=>{o(N=>{const w=N+1;return w>=y.length?(f(!1),clearInterval(u),N):w})},1200);return()=>clearInterval(u)},[y.length]),p.useEffect(()=>{let u=0,N=0;const w=100,C=P=>{const S=Date.now();if(a({x:P.clientX,y:P.clientY}),S-N>w){const T=Math.floor(Math.random()*10)+5,_=[];for(let O=0;O<T;O++){const J=Math.random()*360,K=Math.random()*100+15,ke=Math.random()*2+1,ge=J*Math.PI/180,D=P.clientX+Math.cos(ge)*K,se=P.clientY+Math.sin(ge)*K;_.push({id:u++,x:D,y:se,size:ke,opacity:1})}r(O=>[...O,..._]),N=S,setTimeout(()=>{r(O=>O.filter(J=>!_.find(K=>K.id===J.id)))},600)}};return window.addEventListener("mousemove",C),()=>window.removeEventListener("mousemove",C)},[]),n.jsxs("div",{className:"min-h-screen bg-black relative overflow-hidden font-poppins",children:[s.map(u=>n.jsx("div",{className:"absolute pointer-events-none z-5",style:{left:u.x,top:u.y,transform:"translate(-50%, -50%)"},children:n.jsx("div",{className:"bg-white rounded-full",style:{width:`${u.size}px`,height:`${u.size}px`,opacity:u.opacity,boxShadow:`0 0 ${u.size*3}px ${u.size}px rgba(255, 255, 255, 0.2)`}})},u.id)),t.map(u=>n.jsx("div",{className:"absolute pointer-events-none z-10",style:{left:u.x,top:u.y,transform:"translate(-50%, -50%)"},children:n.jsx("div",{className:"bg-white rounded-full animate-pulse",style:{width:`${u.size}px`,height:`${u.size}px`,opacity:u.opacity,boxShadow:`0 0 ${u.size*2}px ${u.size}px rgba(255, 255, 255, 0.3)`}})},u.id)),n.jsx("header",{className:"bg-black/95 backdrop-blur-sm border-b border-gray-800 sticky top-0 z-50 shadow-sm",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent font-share-tech-mono",children:"QuickStage"})}),n.jsxs("nav",{className:"flex items-center space-x-2 sm:space-x-6",children:[n.jsx("button",{onClick:x,className:"text-gray-300 hover:text-blue-400 px-2 sm:px-3 py-2 text-sm font-medium transition-colors duration-200 font-poppins",children:"Sign Up"}),n.jsx("button",{onClick:m,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-medium py-2 px-4 sm:px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg font-poppins",children:"Log In"})]})]})})}),n.jsxs("section",{className:"relative bg-gradient-to-br from-black via-gray-900 to-black min-h-screen flex items-center justify-center overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/10 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/10 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse"})]}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-8 leading-tight font-inconsolata",children:["Share Working",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400",children:" Prototypes"}),n.jsx("br",{}),"in One Click"]}),d&&n.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-2 leading-relaxed",dangerouslySetInnerHTML:{__html:y[c]||""}}),n.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-10 leading-relaxed",children:"Just your prototype, online in seconds."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[n.jsx("button",{onClick:k,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold py-4 px-10 rounded-xl text-lg transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl font-poppins",children:"Start Staging Free"}),n.jsxs("button",{onClick:()=>j(!0),className:"border-1 border-gray-600 hover:border-gray-500 text-gray-100 font-semibold py-4 px-10 rounded-xl text-lg transition-all duration-300 bg-gray-800/50 hover:bg-gray-700/50 shadow-lg hover:shadow-xl backdrop-blur-sm font-poppins flex items-center justify-center gap-3",children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Quick Video Explainer"]})]})]})})]}),n.jsx("section",{id:"how-it-works",className:"py-32 bg-gradient-to-b from-black/80 to-gray-900/80",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-20",children:[n.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-white mb-6 font-inconsolata",children:"How QuickStage Works"}),n.jsxs("button",{onClick:()=>j(!0),className:"text-xl text-gray-300 hover:text-blue-400 transition-colors duration-200 flex items-center justify-center gap-2 mx-auto font-poppins mb-4",children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Quick Video Explainer"]}),n.jsx("p",{className:"text-lg text-gray-400 max-w-2xl mx-auto font-poppins",children:"Three quick steps to a shareable prototype"})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[n.jsxs("div",{className:"text-center group",children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg group-hover:shadow-xl transition-all duration-300 transform group-hover:scale-110",children:n.jsx("span",{className:"text-3xl font-bold text-white",children:"1"})}),n.jsx("h3",{className:"text-3xl font-semibold text-white mb-4 font-inconsolata",children:"Build Locally"}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Turn your ideas for a new feature or product into a quick prototype  let your favorite AI agent help!"})]}),n.jsxs("div",{className:"text-center group",children:[n.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg group-hover:shadow-xl transition-all duration-300 transform group-hover:scale-110",children:n.jsx("span",{className:"text-3xl font-bold text-white",children:"2"})}),n.jsx("h3",{className:"text-3xl font-semibold text-white mb-4 font-inconsolata",children:"Deploy Instantly"}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"QuickStage adapts to the framework you've used and deploys the project to the web in seconds."})]}),n.jsxs("div",{className:"text-center group",children:[n.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-indigo-600 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg group-hover:shadow-xl transition-all duration-300 transform group-hover:scale-110",children:n.jsx("span",{className:"text-3xl font-bold text-white",children:"3"})}),n.jsx("h3",{className:"text-3xl font-semibold text-white mb-4 font-inconsolata",children:"Share Securely"}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Get a private, password-protected URL to share with your team for comments and input."})]})]})]})}),n.jsx("section",{id:"features",className:"py-32 bg-gradient-to-b from-gray-900/80 to-black/80",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-20",children:[n.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-white mb-6 font-inconsolata",children:"Built for Modern Development"}),n.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto font-poppins",children:"Everything you need to get your prototypes online quickly and securely"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"10-Second Deploys"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Deploy your first prototype in less than 10 seconds. No env management, no CI/CD, no managing environments or deconflicting repos with the development team."})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"Secure by Default"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Password-protected sharing, private by default. No public exposure of your work-in-progress."})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"Real-time Comments"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Get feedback directly on your prototypes with inline comments and real-time collaboration."})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"Framework Agnostic"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Works with React, Vue, Svelte, Next.js, and more. Detects your build system automatically."})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-500 to-purple-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"No Setup, No Config"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Install the extension in Cursor or VS Code and you're ready to go. Stage your first prototype less than 30 seconds after downloading the extension."})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-pink-500 to-pink-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"Ship Ideas, Not PRDs"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Ditch the 10-page requirements docs. If a picture is worth a thousand words, what's a working prototype worth?"})]})]})]})}),n.jsxs("section",{className:"py-24 bg-gradient-to-br from-black via-blue-900/20 to-purple-900/20 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-blue-500/10 via-transparent to-purple-500/10"}),n.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-blue-500/20 rounded-full filter blur-3xl"}),n.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-purple-500/20 rounded-full filter blur-3xl"})]}),n.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8 relative z-10",children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6 font-inconsolata",children:"Ready to Stage Your First Prototype?"}),n.jsx("p",{className:"text-xl text-gray-300 mb-10 leading-relaxed font-poppins",children:"Join dozens of designers, product managers, and developers who are already using QuickStage to shortcut the product development process."}),n.jsx("button",{onClick:k,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold py-4 px-10 rounded-xl text-lg transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl font-poppins",children:"Start Staging Free"})]})]}),b&&n.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"relative max-w-4xl w-full",children:[n.jsx("button",{onClick:()=>j(!1),className:"absolute -top-12 right-0 text-white hover:text-gray-300 text-xl font-bold z-10 bg-black/50 rounded-full w-10 h-10 flex items-center justify-center transition-colors duration-200",children:""}),n.jsx("div",{className:"relative bg-black rounded-lg overflow-hidden shadow-2xl",style:{paddingBottom:"56.25%"},children:n.jsx("iframe",{src:"https://player.vimeo.com/video/1114461563?badge=0&autopause=0&player_id=0&app_id=58479&autoplay=1&dnt=1",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share",referrerPolicy:"strict-origin-when-cross-origin",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},title:"QuickStage - Shortcut the development cycle"})})]})}),n.jsx("footer",{className:"bg-black text-white py-12 font-poppins",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"QuickStage"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"The fastest way to stage and share your product prototypes."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Product"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"#how-it-works",className:"text-gray-300 hover:text-white",children:"How It Works"})}),n.jsx("li",{children:n.jsx("a",{href:"#features",className:"text-gray-300 hover:text-white",children:"Features"})}),n.jsx("li",{children:n.jsx("a",{href:"/pricing",className:"text-gray-300 hover:text-white",children:"Pricing"})}),n.jsx("li",{children:n.jsx("a",{href:"mailto:support@quickstage.tech",className:"text-gray-300 hover:text-white",children:"Contact"})})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:n.jsx("p",{className:"text-gray-400 text-sm",children:" 2025 QuickStage. All rights reserved."})})]})})]})}function Wf(){const e=vt(),{user:t,loginWithEmailPassword:r,loginWithGoogle:s,registerWithEmailPassword:l,error:i,clearError:a}=At(),[c,o]=p.useState(!1),[d,f]=p.useState(""),[h,g]=p.useState("login"),[b,j]=p.useState(""),[y,k]=p.useState(""),[x,m]=p.useState("");p.useEffect(()=>{if(t){const C=new URLSearchParams(window.location.search),P=C.get("redirect"),S=C.get("plan");e(P==="pricing"&&S?`/pricing?plan=${S}`:"/dashboard")}},[t,e]),p.useEffect(()=>{(async()=>{try{await R.post("/analytics/track",{eventType:"page_view",eventData:{page:"Login/Signup"}})}catch(P){console.error("Failed to track page view:",P)}})()},[]),p.useEffect(()=>{new URLSearchParams(window.location.search).get("mode")==="signup"&&g("register")},[]),p.useEffect(()=>{a(),f("")},[h,a]);const u=async()=>{if(h==="register"&&(!b||!y||!x)){f("Please fill in all fields");return}if(h==="login"&&(!b||!y)){f("Please enter email and password");return}o(!0),f("");try{h==="register"?await l(b.trim(),y,x.trim()):await r(b.trim(),y)}catch(C){console.error("Authentication failed:",C),f(C.message||"Authentication failed")}finally{o(!1)}},N=async()=>{o(!0),f("");try{const C="572150791966-3grv4gjf8d5ngpklfs0b2hdet0d9vaf9.apps.googleusercontent.com";typeof window<"u"&&window.google?window.google.accounts.oauth2.initTokenClient({client_id:C,scope:"email profile",callback:async T=>{if(T.access_token)try{const _=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${T.access_token}`}});if(_.ok){const O=await _.json();await s(T.access_token)}}catch(_){console.error("Failed to get user info:",_),f("Failed to authenticate with Google")}}}).requestAccessToken():f("Google authentication is not available. Please try again later.")}catch(C){console.error("Google authentication failed:",C),f("Google authentication failed")}finally{o(!1)}},w=(C,P)=>{switch(C){case"email":j(P);break;case"password":k(P);break;case"name":m(P);break}d&&f(""),i&&a()};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center px-4 py-12 font-poppins",children:n.jsxs("div",{className:"max-w-md w-full",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl mx-auto flex items-center justify-center",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 font-inconsolata",children:h==="register"?"Create Account":"Welcome Back"}),n.jsx("p",{className:"text-gray-600",children:h==="register"?"Sign up for QuickStage to start sharing your prototypes":"Sign in to your QuickStage account"})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center font-inconsolata",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),h==="register"?"Create Account":"Sign In"]}),h==="register"&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),n.jsx("input",{type:"text",placeholder:"Enter your full name",value:x,onChange:C=>w("name",C.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",placeholder:"Enter your email",value:b,onChange:C=>w("email",C.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsx("input",{type:"password",placeholder:"Enter your password",value:y,onChange:C=>w("password",C.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),n.jsx("button",{onClick:u,disabled:c,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:from-blue-400 disabled:to-indigo-400 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-200 transform hover:scale-[1.02] disabled:transform-none",children:c?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):h==="register"?"Create Account":"Sign In"})]}),n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-200"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"or"})})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("button",{onClick:N,disabled:c,className:"w-full bg-white border-2 border-gray-200 hover:border-gray-300 hover:bg-gray-50 text-gray-700 font-semibold py-3 px-4 rounded-xl transition-all duration-200 transform hover:scale-[1.02] disabled:transform-none flex items-center justify-center",children:[n.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),n.jsx("div",{className:"text-center mb-6",children:n.jsx("button",{onClick:()=>g(h==="login"?"register":"login"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium hover:underline transition-colors duration-200",children:h==="login"?"Don't have an account? Sign up":"Already have an account? Sign in"})}),(d||i)&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d||i]}),n.jsx("div",{className:"text-center",children:n.jsxs("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-700 text-sm font-medium hover:underline transition-colors duration-200 flex items-center justify-center mx-auto",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to landing page"]})})]})]})})}function Vf(){var ho,po,fo,xo,go,vo,yo,jo,wo,bo,No,ko,So,Co,Eo,Po,Lo;const{user:e}=At(),[t,r]=p.useState([]),[s,l]=p.useState(!0),[i,a]=p.useState(null),[c,o]=p.useState(!1),[d,f]=p.useState({name:"",email:"",password:"",role:"user"}),[h,g]=p.useState(null),{projects:b,selectedProjectId:j,isSidebarCollapsed:y,loadProjects:k,handleSelectProject:x,handleToggleSidebar:m}=Rm(),[u,N]=p.useState(null),[w,C]=p.useState(!1),[P,S]=p.useState("users"),[T,_]=p.useState(!1),[O,J]=p.useState(null),[K,ke]=p.useState(null),[ge,D]=p.useState(null),[se,A]=p.useState([]),[M,B]=p.useState("24h"),[q,ee]=p.useState(null),[Le,te]=p.useState("asc"),ut=v=>{q===v?te(Le==="asc"?"desc":"asc"):(ee(v),te("asc"))},E=ha.useMemo(()=>!q||!t.length?t:[...t].sort((v,I)=>{var tt,nt,jt,Ge;let Y,le;switch(q){case"name":Y=((tt=v.name)==null?void 0:tt.toLowerCase())||"",le=((nt=I.name)==null?void 0:nt.toLowerCase())||"";break;case"email":Y=((jt=v.email)==null?void 0:jt.toLowerCase())||"",le=((Ge=I.email)==null?void 0:Ge.toLowerCase())||"";break;case"status":Y=v.status||"",le=I.status||"";break;case"plan":Y=v.plan||"",le=I.plan||"";break;case"createdAt":Y=new Date(v.createdAt||0).getTime(),le=new Date(I.createdAt||0).getTime();break;case"lastLoginAt":Y=new Date(v.lastLoginAt||0).getTime(),le=new Date(I.lastLoginAt||0).getTime();break;case"totalSnapshots":Y=v.totalSnapshots||0,le=I.totalSnapshots||0;break;default:return 0}return Y<le?Le==="asc"?-1:1:Y>le?Le==="asc"?1:-1:0}),[t,q,Le]),U=({field:v,children:I})=>n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none",onClick:()=>ut(v),children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{children:I}),q===v&&n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:Le==="asc"?n.jsx("path",{d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"}):n.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})}),q!==v&&n.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]})}),[H,$]=p.useState("all"),[W,qe]=p.useState("all"),[je,yt]=p.useState("all"),[Mt,Pl]=p.useState("all"),[er,Ll]=p.useState(""),[tr,_l]=p.useState(""),[nr,Tl]=p.useState(""),[rr,Rl]=p.useState(""),[Al,ns]=p.useState(!1),[rs,sr]=p.useState(!1),[ss,lr]=p.useState(!1),[F,V]=p.useState(!1);p.useEffect(()=>{const v=I=>{I.target.closest(".custom-dropdown")||(ns(!1),sr(!1),lr(!1),V(!1))};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const[pe,ls]=p.useState(null),[De,wn]=p.useState(!1),[Dt,Ml]=p.useState(null);if(!e||e.role!=="superadmin")return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4 font-inconsolata",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})});p.useEffect(()=>{ir(),ar(),zl(),(async()=>{try{await R.post("/analytics/track",{eventType:"page_view",eventData:{page:"Admin Dashboard"}})}catch(I){console.error("Failed to track page view:",I)}})()},[]),p.useEffect(()=>{M&&ar()},[M]);const ir=async()=>{try{l(!0),a(null);const v=await R.get("/admin/users");r(v.users)}catch(v){a(v.message||"Failed to load users")}finally{l(!1)}},ar=async()=>{try{C(!0);const v=Date.now();let I;switch(M){case"24h":I=v-24*60*60*1e3;break;case"7d":I=v-7*24*60*60*1e3;break;case"30d":I=v-30*24*60*60*1e3;break;default:I=v-7*24*60*60*1e3}const[Y,le,tt,nt]=await Promise.all([R.get("/debug/stats"),R.get("/debug/users"),R.get("/debug/snapshots"),R.get(`/debug/analytics/events?limit=500&startTime=${I}`)]);N(Y),J(le),ke(tt),D(Y),nt.events&&A(nt.events)}catch(v){console.error("Failed to load analytics:",v)}finally{C(!1)}},Fm=async v=>{v.preventDefault();try{a(null),await R.post("/admin/users",d),g("User created successfully!"),o(!1),f({name:"",email:"",password:"",role:"user"}),ir()}catch(I){a(I.message||"Failed to create user")}},Um=async v=>{if(confirm("Are you sure you want to deactivate this user?"))try{a(null),await R.post(`/admin/users/${v}/deactivate`),g("User deactivated successfully!"),ir()}catch(I){a(I.message||"Failed to deactivate user")}},$m=async v=>{try{a(null),await R.post(`/admin/users/${v}/activate`),g("User activated successfully!"),ir()}catch(I){a(I.message||"Failed to activate user")}},Bm=async(v,I)=>{if(!confirm(`  DANGER: Are you absolutely sure you want to PERMANENTLY DELETE user "${I}"?

This will:
 Remove all their data from the system
 Delete all their snapshots
 Delete all their PATs
 Delete all their comments
 This action CANNOT be undone!

Type "DELETE" to confirm:`))return;if(prompt('Type "DELETE" to confirm permanent deletion:')!=="DELETE"){alert("Deletion cancelled. User data is safe.");return}try{a(null),await Lm.deleteUser(v),g(`User "${I}" has been completely deleted from the system!`),ir()}catch(le){a(le.message||"Failed to delete user")}},is=v=>new Date(v).toLocaleDateString(),uo=v=>{switch(v){case"Superadmin":return"text-purple-600 bg-purple-100";case"Pro":return"text-green-600 bg-green-100";case"Free Trial":return"text-blue-600 bg-blue-100";case"Cancelled":return"text-red-600 bg-red-100";case"Past Due":return"text-orange-600 bg-orange-100";case"None":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},Om=v=>v.canAccessPro?n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${uo(v.subscriptionStatus)}`,children:v.subscriptionStatus}),v.trialEndsAt&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Trial ends: ",is(v.trialEndsAt)]}),v.subscriptionStartedAt&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Started: ",is(v.subscriptionStartedAt)]})]}):n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${uo(v.subscriptionStatus)}`,children:v.subscriptionStatus}),Wm=v=>v==="active"?"text-green-600":"text-red-600",Dl=v=>v>=1e6?(v/1e6).toFixed(1)+"M":v>=1e3?(v/1e3).toFixed(1)+"K":v.toString(),Vm=v=>({"24h":"Last 24 Hours","7d":"Last 7 Days","30d":"Last 30 Days"})[v]||v,mo=se.filter(v=>{if(!v||!v.type||H!=="all"&&v.type!==H)return!1;if(W!=="all"){if(W.includes("(")&&W.includes(")")){const I=W.match(/\(([^)]+)\)/);if(I&&v.userId!==I[1])return!1}else if(v.userId!==W)return!1}if(je!=="all"&&v.page!==je)return!1;if(Mt!=="all"&&v.timestamp){const I=v.timestamp;switch(Mt){case"before":if(er&&I>=new Date(er).getTime())return!1;break;case"after":if(tr&&I<=new Date(tr).getTime())return!1;break;case"between":if(nr&&I<new Date(nr).getTime()||rr&&I>new Date(rr).getTime())return!1;break}}return!0}),as=({label:v,value:I,options:Y,onChange:le,isOpen:tt,setIsOpen:nt})=>{const jt=Y.find(Ge=>Ge.value===I);return n.jsxs("div",{className:"relative custom-dropdown",children:[n.jsxs("button",{type:"button",onClick:()=>nt(!tt),className:"inline-flex items-center justify-between w-full px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 min-w-[200px]",children:[n.jsx("span",{className:"text-gray-700",children:(jt==null?void 0:jt.label)||v}),n.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${tt?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),tt&&n.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:n.jsx("div",{className:"py-1 max-h-60 overflow-auto",children:Y.map(Ge=>n.jsx("button",{type:"button",onClick:()=>{le(Ge.value),nt(!1)},className:`w-full px-4 py-2 text-sm text-left hover:bg-gray-50 transition-colors duration-150 first:rounded-t-lg last:rounded-b-lg ${Ge.value===I?"bg-blue-50 text-blue-700 font-medium":"text-gray-700"}`,children:Ge.label},Ge.value))})})]})},Hm=v=>{switch(v){case"user_login":return"bg-blue-100 text-blue-800 border-blue-200";case"user_logout":return"bg-slate-100 text-slate-800 border-slate-200";case"user_registered":return"bg-green-100 text-green-800 border-green-200";case"user_deleted":return"bg-red-100 text-red-800 border-red-200";case"snapshot_created":return"bg-purple-100 text-purple-800 border-purple-200";case"snapshot_viewed":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"snapshot_downloaded":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"snapshot_deleted":return"bg-red-100 text-red-800 border-red-200";case"snapshot_expired":return"bg-amber-100 text-amber-800 border-amber-200";case"page_view":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"comment_created":case"comment_posted":return"bg-teal-100 text-teal-800 border-teal-200";case"comment_replied":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"comment_edited":case"comment_updated":return"bg-teal-100 text-teal-800 border-teal-200";case"comment_deleted":return"bg-red-100 text-red-800 border-red-200";case"comment_resolved":return"bg-green-100 text-green-800 border-green-200";case"comment_archived":return"bg-amber-100 text-amber-800 border-amber-200";case"comments_bulk_resolved":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"comment_subscription_added":return"bg-blue-100 text-blue-800 border-blue-200";case"comment_subscription_removed":return"bg-orange-100 text-orange-800 border-orange-200";case"comment_subscription_activated":return"bg-green-100 text-green-800 border-green-200";case"comment_subscription_paused":return"bg-gray-100 text-gray-800 border-gray-200";case"project_created":return"bg-purple-100 text-purple-800 border-purple-200";case"project_updated":return"bg-blue-100 text-blue-800 border-blue-200";case"project_deleted":return"bg-red-100 text-red-800 border-red-200";case"project_archived":return"bg-amber-100 text-amber-800 border-amber-200";case"project_unarchived":return"bg-lime-100 text-lime-800 border-lime-200";case"review_requested":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"review_approved":return"bg-green-100 text-green-800 border-green-200";case"review_rejected":return"bg-red-100 text-red-800 border-red-200";case"review_submitted":return"bg-green-100 text-green-800 border-green-200";case"review_cancelled":return"bg-orange-100 text-orange-800 border-orange-200";case"review_reminder_sent":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"subscription_started":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"subscription_cancelled":return"bg-orange-100 text-orange-800 border-orange-200";case"subscription_expired":return"bg-red-100 text-red-800 border-red-200";case"payment_succeeded":return"bg-green-100 text-green-800 border-green-200";case"payment_failed":return"bg-red-100 text-red-800 border-red-200";case"migration_completed":return"bg-blue-100 text-blue-800 border-blue-200";case"user_migration_completed":return"bg-blue-100 text-blue-800 border-blue-200";case"snapshot_migration_completed":return"bg-blue-100 text-blue-800 border-blue-200";case"system_backup":return"bg-violet-100 text-violet-800 border-violet-200";case"system_maintenance":return"bg-amber-100 text-amber-800 border-amber-200";case"extension_downloaded":return"bg-green-100 text-green-800 border-green-200";case"extension_upgraded":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"error_occurred":return"bg-red-100 text-red-800 border-red-200";case"unauthorized_access":return"bg-red-100 text-red-800 border-red-200";case"rate_limit_exceeded":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Qm=v=>{var Y,le,tt,nt,jt,Ge,_o,To,Ro,Ao,Mo,Do,zo,Io,Fo,Uo;if(!v||!v.type)return"Unknown event";const I=v.description;if(I)return I;switch(v.type){case"page_view":return`Viewed page: ${v.page||"Unknown page"}`;case"user_login":return"User logged in";case"user_logout":return"User logged out";case"user_registered":return"New user registered";case"snapshot_created":return"Snapshot created";case"snapshot_viewed":return"Snapshot viewed";case"snapshot_downloaded":return"Snapshot downloaded";case"comment_posted":return"Comment posted";case"comment_updated":return"Comment updated";case"comment_resolved":return"Comment resolved";case"comments_bulk_resolved":return"Multiple comments resolved";case"project_created":return`Project created: ${((Y=v.eventData)==null?void 0:Y.projectName)||"Unknown project"}`;case"project_updated":return`Project updated: ${((le=v.eventData)==null?void 0:le.projectName)||"Unknown project"}`;case"project_deleted":return`Project deleted: ${((tt=v.eventData)==null?void 0:tt.projectName)||"Unknown project"}`;case"project_archived":return`Project archived: ${((nt=v.eventData)==null?void 0:nt.projectName)||"Unknown project"}`;case"project_unarchived":return`Project unarchived: ${((jt=v.eventData)==null?void 0:jt.projectName)||"Unknown project"}`;case"review_requested":return`Review requested for snapshot: ${((Ge=v.eventData)==null?void 0:Ge.snapshotName)||((_o=v.eventData)==null?void 0:_o.snapshotId)||"Unknown snapshot"}`;case"review_submitted":return`Review submitted for snapshot: ${((To=v.eventData)==null?void 0:To.snapshotName)||((Ro=v.eventData)==null?void 0:Ro.snapshotId)||"Unknown snapshot"}`;case"review_cancelled":return`Review cancelled for snapshot: ${((Ao=v.eventData)==null?void 0:Ao.snapshotName)||((Mo=v.eventData)==null?void 0:Mo.snapshotId)||"Unknown snapshot"}`;case"review_reminder_sent":return`Review reminder sent for snapshot: ${((Do=v.eventData)==null?void 0:Do.snapshotName)||((zo=v.eventData)==null?void 0:zo.snapshotId)||"Unknown snapshot"}`;case"subscription_started":return"Subscription started";case"subscription_cancelled":return"Subscription cancelled";case"payment_succeeded":return"Payment successful";case"payment_failed":return"Payment failed";case"extension_downloaded":return`Extension downloaded: ${((Io=v.metadata)==null?void 0:Io.version)||"Unknown version"}`;case"extension_upgraded":return`Extension upgraded: ${((Fo=v.metadata)==null?void 0:Fo.version)||"Unknown version"}`;case"error_occurred":return`Error: ${((Uo=v.metadata)==null?void 0:Uo.error)||"Unknown error"}`;case"unauthorized_access":return"Unauthorized access attempt";default:return`${v.type.charAt(0).toUpperCase()+v.type.slice(1).replace(/_/g," ")}`}},qm=["all","user_login","user_logout","user_registered","user_deleted","snapshot_created","snapshot_viewed","snapshot_downloaded","snapshot_deleted","snapshot_expired","page_view","comment_posted","comment_deleted","comment_updated","comment_resolved","comments_bulk_resolved","project_created","project_updated","project_deleted","project_archived","project_unarchived","review_requested","review_submitted","review_cancelled","review_reminder_sent","subscription_started","subscription_cancelled","subscription_expired","payment_succeeded","payment_failed","migration_completed","user_migration_completed","snapshot_migration_completed","system_backup","system_maintenance","extension_downloaded","extension_upgraded","error_occurred","unauthorized_access","rate_limit_exceeded",...Array.from(new Set(se.map(v=>v==null?void 0:v.type).filter(Boolean)))],Gm=["all",...Array.from(new Set(se.map(v=>v!=null&&v.userId&&(v==null?void 0:v.userId)!=="system"&&(v==null?void 0:v.userId)!=="anonymous"?`${v.userEmail||"Unknown"} (${v.userId})`:v==null?void 0:v.userId).filter(Boolean)))],Ym=(()=>{const v=se.map(Y=>Y==null?void 0:Y.page).filter(Boolean);return["all",...Array.from(new Set(v))]})(),zl=async()=>{try{const v=await R.get("/debug/migration/stats");ls(v)}catch(v){console.error("Failed to load migration stats:",v)}},os=async(v,I=!0)=>{try{wn(!0),a(null);const Y=v==="full"?"/debug/migration/run":v==="users"?"/debug/migration/users":"/debug/migration/snapshots",le=await R.post(Y,{dryRun:I,batchSize:50,skipErrors:!0,verbose:!0});Ml(le),g(`${v} migration ${I?"dry run":"completed"}: ${le.result.migrated} migrated, ${le.result.errors} errors`),await zl()}catch(Y){a(Y.message||`Failed to run ${v} migration`)}finally{wn(!1)}};if(s)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})});const Km=()=>{};return n.jsxs("div",{className:"min-h-screen bg-gray-50 font-poppins",children:[n.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Te,{to:"/dashboard",className:"flex items-center",children:n.jsx("span",{className:"text-xl font-share-tech-mono font-bold text-gray-900",children:"QuickStage"})}),n.jsx("button",{onClick:()=>_(!T),className:"ml-4 p-2 rounded-md text-gray-600 hover:bg-gray-100 lg:hidden",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(oo,{}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-sm text-gray-700",children:e.name}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Superadmin"}),n.jsx("button",{onClick:Km,className:"text-gray-400 hover:text-gray-500",title:"Sign out",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})}),n.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[n.jsx("div",{className:`${T?"block":"hidden"} lg:block flex-shrink-0`,children:n.jsx(co,{projects:b,selectedProjectId:j,onSelectProject:x,onRefreshProjects:k,user:e,isCollapsed:y,onToggleCollapse:m})}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-inconsolata",children:"Admin Dashboard"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Manage QuickStage users and accounts"})]})})}),h&&n.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm font-medium text-green-800",children:h})}),n.jsx("div",{className:"ml-auto pl-3",children:n.jsxs("button",{onClick:()=>g(null),className:"inline-flex bg-green-50 rounded-md p-1.5 text-green-500 hover:bg-green-100",children:[n.jsx("span",{className:"sr-only",children:"Dismiss"}),n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}),i&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm font-medium text-red-800",children:i})}),n.jsx("div",{className:"ml-auto pl-3",children:n.jsxs("button",{onClick:()=>a(null),className:"inline-flex bg-red-50 rounded-md p-1.5 text-red-500 hover:bg-red-100",children:[n.jsx("span",{className:"sr-only",children:"Dismiss"}),n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}),n.jsx("div",{className:"mb-6 border-b border-gray-200",children:n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsxs("button",{onClick:()=>S("users"),className:`py-2 px-1 border-b-2 font-medium text-sm ${P==="users"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Users (",t.length,")"]}),n.jsx("button",{onClick:()=>S("analytics"),className:`py-2 px-1 border-b-2 font-medium text-sm ${P==="analytics"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:" Analytics & System Stats"})]})}),c&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4 font-inconsolata",children:"Create New User"}),n.jsxs("form",{onSubmit:Fm,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),n.jsx("input",{type:"text",required:!0,value:d.name,onChange:v=>f({...d,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",required:!0,value:d.email,onChange:v=>f({...d,email:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsx("input",{type:"password",required:!0,value:d.password,onChange:v=>f({...d,password:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),n.jsxs("select",{value:d.role,onChange:v=>f({...d,role:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:"Create User"})]})]})]})})}),P==="users"?n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[n.jsx("div",{className:"px-4 py-5 sm:px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:["Users (",t.length,")"]}),n.jsx("button",{onClick:()=>o(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors",children:"Create New User"})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx(U,{field:"name",children:"User"}),n.jsx(U,{field:"status",children:"Account Status"}),n.jsx(U,{field:"plan",children:"Subscription"}),n.jsx(U,{field:"createdAt",children:"First Login"}),n.jsx(U,{field:"lastLoginAt",children:"Last Login"}),n.jsx(U,{field:"totalSnapshots",children:"Snapshots"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(v=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),n.jsx("div",{className:"text-sm text-gray-500",children:v.email}),n.jsxs("div",{className:"text-xs text-gray-400",children:["Role: ",v.role]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Wm(v.status)}`,children:v.status==="active"?"Active":"Deactivated"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Om(v)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:is(v.createdAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.lastLoginAt?is(v.lastLoginAt):"Never"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{children:[v.activeSnapshots,"/",v.totalSnapshots]}),v.totalSnapshots>0&&v.activeSnapshots===0&&n.jsx("span",{className:"text-xs text-amber-600",title:"Debug: Check snapshot status and expiration",children:" All snapshots show as inactive"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex flex-col space-y-2",children:[v.status==="active"?n.jsx("button",{onClick:()=>Um(v.uid),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md text-amber-700 bg-amber-100 hover:bg-amber-200 border border-amber-300 transition-colors",title:"Temporarily disable user account (reversible)",children:" Deactivate"}):n.jsx("button",{onClick:()=>$m(v.uid),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 border border-green-300 transition-colors",title:"Re-enable user account",children:" Activate"}),v.role!=="superadmin"&&n.jsx("button",{onClick:()=>Bm(v.uid,v.name),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md text-gray-700 bg-gray-100 hover:bg-gray-200 border border-gray-300 transition-colors",title:"Permanently delete user and all their data (irreversible)",children:" Delete"})]})})]},v.uid))})]})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:" System Overview"}),n.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Real-time system statistics and performance metrics"})]}),n.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:w?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading comprehensive analytics..."})]}):u?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-blue-600 font-inconsolata",children:"Total Users"}),n.jsx("p",{className:"text-2xl font-bold text-blue-900",children:Dl(((ho=u.system)==null?void 0:ho.totalUsers)||0)})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6l.586-.586a2 2 0 012.828 0L20 8m-6-6L12.586 1.586a2 2 0 00-2.828 0L6 2m-6-6L1.586 1.586a2 2 0 00-2.828 0L2 2"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-purple-600 font-inconsolata",children:"Total Snapshots"}),n.jsx("p",{className:"text-2xl font-bold text-purple-900",children:Dl(((po=u.system)==null?void 0:po.totalSnapshots)||0)})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-green-600 font-inconsolata",children:"Active Sessions"}),n.jsx("p",{className:"text-2xl font-bold text-green-900",children:Dl(((fo=u.system)==null?void 0:fo.activeSessions)||0)})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-orange-600 font-inconsolata",children:"System Health"}),n.jsx("p",{className:"text-2xl font-bold text-orange-900",children:w?" Loading...":u?" Healthy":" Error"})]})]})})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-600",children:"No analytics data available"}),n.jsx("button",{onClick:ar,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Refresh Analytics"})]})})]}),n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsx("div",{className:"px-4 py-5 sm:px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:" Subscription Analytics"}),n.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Detailed subscription breakdown and revenue insights"})]}),n.jsx("div",{className:"flex space-x-2",children:["24h","7d","30d"].map(v=>n.jsx("button",{onClick:()=>B(v),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${M===v?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Vm(v)},v))})]})}),n.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:u?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-lg p-4 border border-emerald-200",children:[n.jsx("h4",{className:"text-sm font-medium text-emerald-900 font-inconsolata mb-3",children:" Subscription Status"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:" Free:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((xo=u.subscriptions)==null?void 0:xo.free)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:" Trial:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((go=u.subscriptions)==null?void 0:go.trial)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:" Active:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((vo=u.subscriptions)==null?void 0:vo.active)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:" Cancelled:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((yo=u.subscriptions)==null?void 0:yo.cancelled)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:" Past Due:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((jo=u.subscriptions)==null?void 0:jo.pastDue)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:" Superadmin:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((wo=u.subscriptions)==null?void 0:wo.superadmin)||0})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-900 font-inconsolata mb-3",children:" Revenue Metrics"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-blue-700",children:"Trial Users:"}),n.jsx("span",{className:"font-semibold text-blue-900",children:((bo=u.subscriptions)==null?void 0:bo.trial)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-blue-700",children:"Conversion Rate:"}),n.jsxs("span",{className:"font-semibold text-blue-900",children:[(No=u.subscriptions)!=null&&No.active&&((ko=u.subscriptions)!=null&&ko.trial)?Math.round(u.subscriptions.active/(u.subscriptions.active+u.subscriptions.trial)*100):0,"%"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-blue-700",children:"Churn Rate:"}),n.jsxs("span",{className:"font-semibold text-blue-900",children:[(So=u.subscriptions)!=null&&So.cancelled&&((Co=u.subscriptions)!=null&&Co.active)?Math.round(u.subscriptions.cancelled/(u.subscriptions.active+u.subscriptions.cancelled)*100):0,"%"]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[n.jsx("h4",{className:"text-sm font-medium text-purple-900 font-inconsolata mb-3",children:" Growth Trends"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-purple-700",children:"Total Users:"}),n.jsx("span",{className:"font-semibold text-purple-900",children:((Eo=u.system)==null?void 0:Eo.totalUsers)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-purple-700",children:"Active Subscriptions:"}),n.jsx("span",{className:"font-semibold text-purple-900",children:((Po=u.subscriptions)==null?void 0:Po.active)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-purple-700",children:"Trial Users:"}),n.jsx("span",{className:"font-semibold text-purple-900",children:((Lo=u.subscriptions)==null?void 0:Lo.trial)||0})]})]})]})]}):null})]}),n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:" Recent Activity Feed"}),n.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Live feed of system events and user activities"})]}),n.jsx("button",{onClick:async()=>{try{l(!0);const v=Date.now();let I;switch(M){case"24h":I=v-24*60*60*1e3;break;case"7d":I=v-7*24*60*60*1e3;break;case"30d":I=v-30*24*60*60*1e3;break;default:I=v-24*60*60*1e3}const Y=await R.get(`/debug/analytics/events?limit=500&startTime=${I}&fullRetrieval=true`),le=(Y==null?void 0:Y.events)||[];A(le)}catch(v){console.error("Failed to refresh activity feed:",v)}finally{l(!1)}},disabled:s,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin -ml-1 mr-2 h-4 w-4 border-2 border-gray-300 border-t-gray-900 rounded-full"}),"Refreshing..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"-ml-1 mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh All"]})})]}),n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx(as,{label:"All Event Types",value:H,options:qm.map(v=>({value:v,label:v==="all"?"All Event Types":v})),onChange:$,isOpen:Al,setIsOpen:ns}),n.jsx(as,{label:"All Users",value:W,options:Gm.map(v=>({value:v,label:v==="all"?"All Users":v})),onChange:qe,isOpen:rs,setIsOpen:sr}),n.jsx(as,{label:"All Pages",value:je,options:Ym.map(v=>({value:v,label:v==="all"?"All Pages":v})),onChange:yt,isOpen:ss,setIsOpen:lr})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx(as,{label:"All Time",value:Mt,options:[{value:"all",label:"All Time"},{value:"before",label:"Before"},{value:"after",label:"After"},{value:"between",label:"Between"}],onChange:v=>Pl(v),isOpen:F,setIsOpen:V}),Mt==="before"&&n.jsx("input",{type:"datetime-local",value:er,onChange:v=>Ll(v.target.value),className:"px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Select date and time"}),Mt==="after"&&n.jsx("input",{type:"datetime-local",value:tr,onChange:v=>_l(v.target.value),className:"px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Select date and time"}),Mt==="between"&&n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"datetime-local",value:nr,onChange:v=>Tl(v.target.value),className:"px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Start date and time"}),n.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"to"}),n.jsx("input",{type:"datetime-local",value:rr,onChange:v=>Rl(v.target.value),className:"px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"End date and time"})]})]})]})]}),n.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:mo.length>0?n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:mo.map((v,I)=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Hm(v.type)}`,children:v.type}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-900 font-medium",children:Qm(v)}),v.userId&&v.userId!=="system"&&v.userId!=="anonymous"&&n.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-xs text-gray-500",children:[n.jsxs("span",{children:["User: ",v.userName||"Unknown"]}),n.jsxs("span",{children:["ID: ",v.userId]}),v.userEmail&&n.jsxs("span",{children:["Email: ",v.userEmail]})]})]}),n.jsx("div",{className:"text-xs text-gray-500 ml-4",children:new Date(v.timestamp).toLocaleString()})]})})]},I))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-600",children:se.length===0?"No recent events available":"No events match the current filters"}),n.jsx("button",{onClick:ar,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Refresh Events"})]})})]}),n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:" Data Migration System"}),n.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Migrate legacy user and snapshot data to new schema"})]}),n.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:pe?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-900 font-inconsolata mb-3",children:" Migration Status"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-blue-700 mb-2",children:"Users"}),n.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[pe.stats.migratedUsers,"/",pe.stats.totalUsers]}),n.jsxs("div",{className:"text-xs text-blue-600",children:[pe.stats.legacyUsers," legacy users remaining"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-blue-700 mb-2",children:"Snapshots"}),n.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[pe.stats.migratedSnapshots,"/",pe.stats.totalSnapshots]}),n.jsxs("div",{className:"text-xs text-blue-600",children:[pe.stats.legacySnapshots," legacy snapshots remaining"]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex justify-between text-sm text-blue-700 mb-1",children:[n.jsx("span",{children:"Overall Progress"}),n.jsxs("span",{children:[pe.summary.migrationProgress,"%"]})]}),n.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${pe.summary.migrationProgress}%`}})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:()=>os("users",!0),disabled:De,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 disabled:opacity-50 transition-colors",children:[De?"":""," Test User Migration"]}),n.jsxs("button",{onClick:()=>os("snapshots",!0),disabled:De,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-purple-700 bg-purple-100 hover:bg-purple-200 disabled:opacity-50 transition-colors",children:[De?"":""," Test Snapshot Migration"]}),n.jsxs("button",{onClick:()=>os("full",!0),disabled:De,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 disabled:opacity-50 transition-colors",children:[De?"":""," Test Full Migration"]}),n.jsxs("button",{onClick:()=>{confirm("  FINAL CONFIRMATION: This will run the ACTUAL migration and update all legacy data to the new schema. This action cannot be undone. Are you absolutely sure?")&&confirm(' LAST CHANCE: This will permanently modify your database. Type "MIGRATE" to confirm:')&&(prompt('Type "MIGRATE" to confirm actual migration:')==="MIGRATE"?os("full",!1):alert("Migration cancelled. Data is safe."))},disabled:De,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 disabled:opacity-50 transition-colors font-bold",children:[De?"":""," RUN ACTUAL MIGRATION"]})]}),Dt&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 font-inconsolata mb-3",children:" Migration Results"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Migrated:"}),n.jsx("span",{className:"font-semibold text-green-600",children:Dt.result.migrated})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Errors:"}),n.jsx("span",{className:"font-semibold text-red-600",children:Dt.result.errors})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Duration:"}),n.jsxs("span",{className:"font-semibold text-gray-900",children:[Dt.result.duration,"ms"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Success:"}),n.jsx("span",{className:`font-semibold ${Dt.result.success?"text-green-600":"text-red-600"}`,children:Dt.result.success?" Yes":" No"})]})]})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-600",children:"Loading migration statistics..."}),n.jsx("button",{onClick:zl,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Refresh Migration Stats"})]})})]}),n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:" Quick Actions & Debug Tools"}),n.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Direct access to system tools and data export"})]}),n.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx("button",{onClick:async()=>{try{const v=await R.get("/debug/stats"),I=window.open("","_blank");I&&I.document.write(`
                            <html>
                              <head><title>Raw Stats API</title></head>
                              <body>
                                <h1>Raw Stats API Response</h1>
                                <pre>${JSON.stringify(v,null,2)}</pre>
                              </body>
                            </html>
                          `)}catch(v){alert("Failed to fetch stats: "+v)}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 transition-colors",children:" Raw Stats API"}),n.jsx("button",{onClick:async()=>{try{const v=await R.get("/debug/analytics/events?limit=500"),I=window.open("","_blank");I&&I.document.write(`
                            <html>
                              <head><title>Analytics Events</title></head>
                              <body>
                                <h1>Analytics Events</h1>
                                <pre>${JSON.stringify(v,null,2)}</pre>
                              </body>
                            </html>
                          `)}catch(v){alert("Failed to fetch analytics events: "+v)}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 transition-colors",children:" Analytics Events"}),n.jsx("button",{onClick:async()=>{try{const v=await R.get("/debug/health"),I=window.open("","_blank");I&&I.document.write(`
                            <html>
                              <head><title>System Health</title></head>
                              <body>
                                <h1>System Health</h1>
                                <pre>${JSON.stringify(v,null,2)}</pre>
                              </body>
                            </html>
                          `)}catch(v){alert("Failed to fetch system health: "+v)}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-purple-700 bg-purple-100 hover:bg-purple-200 transition-colors",children:" System Health"}),n.jsx("button",{onClick:ar,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-orange-700 bg-orange-100 hover:bg-orange-200 transition-colors",children:" Refresh All Data"})]})})]})]})]})})]})]})}var Am="basil",Hf=function(t){return t===3?"v3":t},Mm="https://js.stripe.com",Qf="".concat(Mm,"/").concat(Am,"/stripe.js"),qf=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Gf=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Yf=function(t){return qf.test(t)||Gf.test(t)},Kf=function(){for(var t=document.querySelectorAll('script[src^="'.concat(Mm,'"]')),r=0;r<t.length;r++){var s=t[r];if(Yf(s.src))return s}return null},rd=function(t){var r="",s=document.createElement("script");s.src="".concat(Qf).concat(r);var l=document.head||document.body;if(!l)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return l.appendChild(s),s},Xf=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:r})},gr=null,Cs=null,Es=null,Jf=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},Zf=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},ex=function(t){return gr!==null?gr:(gr=new Promise(function(r,s){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var l=Kf();if(!(l&&t)){if(!l)l=rd(t);else if(l&&Es!==null&&Cs!==null){var i;l.removeEventListener("load",Es),l.removeEventListener("error",Cs),(i=l.parentNode)===null||i===void 0||i.removeChild(l),l=rd(t)}}Es=Zf(r,s),Cs=Jf(s),l.addEventListener("load",Es),l.addEventListener("error",Cs)}catch(a){s(a);return}}),gr.catch(function(r){return gr=null,Promise.reject(r)}))},tx=function(t,r,s){if(t===null)return null;var l=r[0],i=l.match(/^pk_test/),a=Hf(t.version),c=Am;i&&a!==c&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(c,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var o=t.apply(void 0,r);return Xf(o,s),o},vr,Dm=!1,zm=function(){return vr||(vr=ex(null).catch(function(t){return vr=null,Promise.reject(t)}),vr)};Promise.resolve().then(function(){return zm()}).catch(function(e){Dm||console.warn(e)});var sd=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];Dm=!0;var l=Date.now();return zm().then(function(i){return tx(i,r,l)})};function ld({plan:e,onSuccess:t,onError:r,disabled:s,requiresAuth:l,onAuthRequired:i}){const[a,c]=p.useState(!1),[o,d]=p.useState(!1);p.useEffect(()=>{(async()=>{try{console.log(" Checking Apple Pay availability..."),console.log(" Stripe public key:",gt.STRIPE_PUBLIC_KEY);const g=await sd(gt.STRIPE_PUBLIC_KEY);if(!g){console.error(" Stripe failed to load");return}console.log(" Stripe loaded successfully");const j=await g.paymentRequest({country:"US",currency:"usd",total:{label:`QuickStage Pro - ${e==="monthly"?"Monthly":"Annual"}`,amount:e==="monthly"?600:6e3},requestPayerName:!0,requestPayerEmail:!0}).canMakePayment();console.log(" Payment request result:",j),console.log(" Apple Pay available:",!!(j!=null&&j.applePay)),c(!!(j!=null&&j.applePay))}catch(g){console.error(" Error checking Apple Pay availability:",g)}})()},[e]);const f=async()=>{if(!(s||o)){if(l){i==null||i();return}d(!0);try{const h=await sd(gt.STRIPE_PUBLIC_KEY);if(!h)throw new Error("Stripe not loaded");const g=h.paymentRequest({country:"US",currency:"usd",total:{label:`QuickStage Pro - ${e==="monthly"?"Monthly":"Annual"}`,amount:e==="monthly"?600:6e3},requestPayerName:!0,requestPayerEmail:!0});g.on("paymentmethod",async b=>{try{const j=await fetch("/api/billing/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({plan:e,payment_method_id:b.paymentMethod.id,payment_type:"apple_pay"})});if(!j.ok){const k=await j.json();throw new Error(k.details||"Failed to create subscription")}if((await j.json()).success)b.complete("success"),t==null||t();else throw new Error("Subscription creation failed")}catch(j){console.error("Apple Pay payment failed:",j),b.complete("fail"),r==null||r(j.message)}}),g.show()}catch(h){console.error("Apple Pay error:",h),r==null||r(h.message)}finally{d(!1)}}};return a?n.jsx("button",{onClick:f,disabled:s||o,className:"w-full mt-4 bg-black hover:bg-gray-800 text-white font-medium py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",style:{backgroundColor:"#000",borderRadius:"8px"},children:o?"Processing...":n.jsxs("div",{className:"flex items-center",children:[n.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M13.25 7.5c-.414 0-.75.336-.75.75s.336.75.75.75c1.792 0 3.25 1.458 3.25 3.25S15.042 15.5 13.25 15.5c-1.792 0-3.25-1.458-3.25-3.25V8.25c0-.414-.336-.75-.75-.75s-.75.336-.75.75V12.25C8.5 15.564 11.186 18.25 14.5 18.25S20.5 15.564 20.5 12.25 17.814 6.25 14.5 6.25h-1.25z"}),n.jsx("path",{d:"M6.75 12.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75c-1.792 0-3.25-1.458-3.25-3.25S4.958 4.5 6.75 4.5c1.792 0 3.25 1.458 3.25 3.25v4c0 .414.336.75.75.75s.75-.336.75-.75v-4C11.5 4.436 8.814 1.75 5.5 1.75S-.5 4.436-.5 7.75 2.186 13.75 5.5 13.75h1.25z"})]}),"Pay"]})}):null}function nx(){const e=vt(),t=ln(),{user:r}=At(),[s,l]=p.useState(!1),i=new URLSearchParams(t.search),a=i.get("mode")||"upgrade",c=i.get("plan"),o=a==="trial";p.useEffect(()=>{r&&c&&(c==="monthly"||c==="annual")&&setTimeout(()=>{d(c)},500)},[r,c]);const d=async b=>{if(!r){e(`/login?mode=signup&plan=${b}&redirect=pricing`);return}l(!0);try{const j=o?"/billing/start-trial":"/billing/subscribe",y={plan:b},k=await R.post(j,y);if(k.url)window.location.href=k.url;else throw new Error("No checkout URL received")}catch(j){console.error("Failed to create checkout session:",j),alert(`Failed to start checkout: ${j.message}`)}finally{l(!1)}},f=6,h=60,g=Math.round((f*12-h)/(f*12)*100);return n.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8 font-poppins",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-inconsolata",children:"Choose Your QuickStage Pro Plan"}),n.jsx("p",{className:"mt-4 text-lg text-gray-600",children:o?"Start your 7-day free trial with either plan - cancel anytime":r?"Upgrade to QuickStage Pro for unlimited snapshots and features":"Create an account and upgrade to QuickStage Pro for unlimited snapshots and features"}),!r&&n.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-2xl mx-auto",children:n.jsxs("p",{className:"text-sm text-blue-700",children:[" ",n.jsx("strong",{children:"New to QuickStage?"})," Select your plan below and we'll create your account in the next step."]})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8 relative",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 font-inconsolata",children:"Monthly"}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",f]}),n.jsx("span",{className:"text-gray-500",children:"/month"})]}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Billed monthly"})]}),n.jsxs("ul",{className:"mt-8 space-y-4",children:[n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"Unlimited snapshots"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"Extended expiration times"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"Cancel anytime"})]})]}),n.jsx("button",{onClick:()=>d("monthly"),disabled:s,className:"w-full mt-8 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating...":"Choose Monthly"}),n.jsx(ld,{plan:"monthly",disabled:s,onSuccess:()=>{e("/dashboard")},onError:b=>{console.error("Apple Pay error:",b),alert(`Apple Pay failed: ${b}`)},requiresAuth:!r,onAuthRequired:()=>e("/login?mode=signup&plan=monthly&redirect=pricing")})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-2 border-blue-500 p-8 relative",children:[n.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:n.jsxs("span",{className:"bg-blue-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:["Save ",g,"%"]})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 font-inconsolata",children:"Annual"}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",h]}),n.jsx("span",{className:"text-gray-500",children:"/year"})]}),n.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Billed annually  ",n.jsxs("span",{className:"text-green-600 font-medium",children:["$",f*12-h," savings"]})]})]}),n.jsxs("ul",{className:"mt-8 space-y-4",children:[n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"Everything in Monthly"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"2 months free"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"Priority support"})]})]}),n.jsx("button",{onClick:()=>d("annual"),disabled:s,className:"w-full mt-8 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating...":"Choose Annual"}),n.jsx(ld,{plan:"annual",disabled:s,onSuccess:()=>{e("/dashboard")},onError:b=>{console.error("Apple Pay error:",b),alert(`Apple Pay failed: ${b}`)},requiresAuth:!r,onAuthRequired:()=>e("/login?mode=signup&plan=annual&redirect=pricing")})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Have a promotion code?"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"You can enter it on the next step during checkout"})]})}),n.jsx("div",{className:"text-center",children:n.jsxs("button",{onClick:()=>e(r?"/dashboard":"/"),className:"text-gray-600 hover:text-gray-900 font-medium",children:[" Back ",r?"to Dashboard":"to Home"]})}),n.jsxs("div",{className:"mt-12 text-center",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Secure payment powered by Stripe"}),n.jsxs("div",{className:"flex justify-center items-center space-x-6",children:[n.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"SSL Encrypted"]}),n.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Cancel Anytime"]})]})]})]})})}function rx(){var s;const[e,t]=p.useState("getting-started"),r=[{id:"getting-started",title:"Getting Started",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Welcome to QuickStage"}),n.jsx("p",{children:"QuickStage is a lightning-fast platform for sharing and collaborating on web prototypes. Deploy your local development projects in seconds and get feedback from your team instantly."}),n.jsx("h3",{children:"Quick Setup Guide"}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 my-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-4",children:n.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-2",children:"3-Step Setup"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-800",children:[n.jsx("li",{children:"Download and install the QuickStage extension for VS Code or Cursor"}),n.jsx("li",{children:"Open your project folder in your IDE"}),n.jsx("li",{children:'Click the "Stage" button to deploy your project instantly'})]})]})]})}),n.jsx("h3",{children:"Key Features"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 my-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:" Lightning Fast"}),n.jsx("p",{className:"text-gray-600",children:"Deploy your projects in under 10 seconds with optimized build processes."})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:" Secure Sharing"}),n.jsx("p",{className:"text-gray-600",children:"Password-protected snapshots with role-based access control."})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:" Collaboration"}),n.jsx("p",{className:"text-gray-600",children:"Real-time comments, reviews, and feedback collection."})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:" Mobile Ready"}),n.jsx("p",{className:"text-gray-600",children:"Responsive design works perfectly on all devices."})]})]})]})},{id:"project-organization",title:"Project Organization",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Organizing Your Snapshots with Projects"}),n.jsx("p",{children:"Project folders help you organize snapshots by client, feature, or any categorization that makes sense for your workflow."}),n.jsx("h3",{children:"Creating Projects"}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-green-900 font-semibold mb-2",children:" Pro Tip"}),n.jsx("p",{className:"text-green-800",children:"Use color coding to visually distinguish different types of projects (e.g., client work vs. personal projects)."})]}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[n.jsx("li",{children:"Navigate to your Dashboard"}),n.jsx("li",{children:'Click the "+" button next to "Projects" in the sidebar'}),n.jsx("li",{children:"Enter a project name and choose a color"}),n.jsx("li",{children:'Click "Create" to save your new project'})]}),n.jsx("h3",{children:"Moving Snapshots Between Projects"}),n.jsx("p",{children:"You can organize your snapshots by moving them into project folders:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Individual Move:"})," Edit a snapshot and select a different project"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Bulk Move:"}),' Select multiple snapshots and use the "Move to Project" bulk action']})]}),n.jsx("h3",{children:"Project Management"}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-yellow-900 font-semibold mb-2",children:" Important"}),n.jsx("p",{className:"text-yellow-800",children:"You can only delete empty projects. Move or delete all snapshots before removing a project."})]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Archive:"})," Hide completed projects without deleting them"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Reorder:"})," Drag and drop projects in the sidebar to organize them"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Delete:"})," Remove empty projects permanently"]})]})]})},{id:"snapshot-management",title:"Snapshot Management",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Advanced Snapshot Features"}),n.jsx("p",{children:"QuickStage provides powerful tools for managing and organizing your snapshots with rich metadata and flexible organization options."}),n.jsx("h3",{children:"Enhanced Metadata"}),n.jsx("p",{children:"Add context to your snapshots with detailed metadata:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Name:"})," Give your snapshots meaningful names instead of using IDs"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Description:"})," Add detailed descriptions of what the snapshot contains"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Tags:"})," Use tags for easy filtering and organization"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Version:"})," Track version numbers or release names"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Client Name:"})," Associate snapshots with specific clients"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Milestone:"})," Mark project milestones or development phases"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Review Summary:"})," Add context for reviewers about what to focus on"]})]}),n.jsx("h3",{children:"Dashboard Sorting & Filtering"}),n.jsx("p",{children:"Find what you need quickly with powerful organization tools:"}),n.jsx("h4",{children:"Sortable Columns"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Created date (newest/oldest first)"}),n.jsx("li",{children:"Last modified date"}),n.jsx("li",{children:"Expiration date (expiring soon first)"}),n.jsx("li",{children:"View count (most/least popular)"}),n.jsx("li",{children:"Comment count"}),n.jsx("li",{children:"Snapshot name (alphabetical)"})]}),n.jsx("h4",{children:"Advanced Filtering"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Search:"})," Full-text search across names, descriptions, tags, and metadata"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Date Ranges:"})," Filter by creation or modification dates"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Project Folders:"})," View snapshots from specific projects"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Tags:"})," Filter by one or more tags"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Status:"})," Show active, expired, or all snapshots"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Review Status:"})," Filter by snapshots with pending reviews"]})]}),n.jsx("h3",{children:"Bulk Operations"}),n.jsx("p",{children:"Manage multiple snapshots efficiently:"}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-blue-900 font-semibold mb-2",children:" Time Saver"}),n.jsx("p",{className:"text-blue-800",children:"Select multiple snapshots using checkboxes to perform bulk operations like moving to projects, extending expiry, or adding tags."})]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Move to Project:"})," Organize snapshots into project folders"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Extend Expiry:"})," Extend expiration dates for multiple snapshots"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Bulk Tagging:"})," Add or remove tags from multiple snapshots"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Batch Delete:"})," Remove multiple expired snapshots"]})]})]})},{id:"collaboration",title:"Comments & Collaboration",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Collaborative Feedback System"}),n.jsx("p",{children:"QuickStage's advanced commenting system enables precise, contextual feedback on your prototypes with element pinning and threaded conversations."}),n.jsx("h3",{children:"Element Pinning"}),n.jsx("p",{children:"Pin comments directly to specific UI elements for precise feedback:"}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-purple-900 font-semibold mb-2",children:" Interactive Comments"}),n.jsx("p",{className:"text-purple-800",children:"Click on any element in your prototype to attach comments. Comments automatically adapt to different screen sizes and device orientations."})]}),n.jsx("h4",{children:"How Element Pinning Works"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[n.jsx("li",{children:"Navigate to your snapshot in the viewer"}),n.jsx("li",{children:"Click the comment button to enter comment mode"}),n.jsx("li",{children:"Click on any UI element to pin a comment"}),n.jsx("li",{children:"Type your feedback and submit"}),n.jsx("li",{children:"Comments appear as numbered bubbles on hover"})]}),n.jsx("h3",{children:"Threaded Conversations"}),n.jsx("p",{children:"Keep discussions organized with nested reply chains:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Replies:"})," Respond to specific comments to create conversation threads"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Mentions:"})," Use @username to notify team members"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Rich Text:"})," Format comments with Markdown, code snippets, and emojis"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"File Attachments:"})," Attach images, documents, and design files"]})]}),n.jsx("h3",{children:"Comment States"}),n.jsx("p",{children:"Track the lifecycle of feedback with comment states:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Draft:"})," Work on comments before publishing"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Published:"})," Live comments visible to all team members"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Resolved:"})," Mark feedback as addressed"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Archived:"})," Hide old conversations while preserving history"]})]}),n.jsx("h3",{children:"File Attachments"}),n.jsx("p",{children:"Enhance your feedback with visual examples:"}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-green-900 font-semibold mb-2",children:" Supported Formats"}),n.jsx("p",{className:"text-green-800",children:"JPG, PNG, GIF, PDF, TXT, MD, DOC, DOCX files up to 10MB each."})]})]})},{id:"review-workflows",title:"Review Workflows",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Structured Review Process"}),n.jsx("p",{children:"Streamline your feedback collection with formal review workflows, deadlines, and approval tracking."}),n.jsx("h3",{children:"Creating Review Requests"}),n.jsx("p",{children:"Request formal reviews from specific team members:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[n.jsx("li",{children:"Navigate to your snapshot"}),n.jsx("li",{children:'Click "Request Review" button'}),n.jsx("li",{children:"Select team members to review"}),n.jsx("li",{children:"Set an optional deadline"}),n.jsx("li",{children:"Add review notes or specific areas to focus on"}),n.jsx("li",{children:"Send the review request"})]}),n.jsx("h3",{children:"Review Status Tracking"}),n.jsx("p",{children:"Monitor review progress with visual indicators:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Pending:"})," Review requested but not yet started"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"In Progress:"})," Some reviewers have started"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Completed:"})," All reviewers have submitted feedback"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Overdue:"})," Review deadline has passed"]})]}),n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-orange-900 font-semibold mb-2",children:" Deadline Management"}),n.jsx("p",{className:"text-orange-800",children:"Set review deadlines to ensure timely feedback. Automatic reminders are sent 24 hours before the deadline."})]}),n.jsx("h3",{children:"Review Dashboard"}),n.jsx("p",{children:"Track all your reviews in one place:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Reviews Requested:"})," Reviews you've asked others to complete"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Reviews Assigned:"})," Reviews assigned to you by others"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Overdue Reviews:"})," Reviews past their deadline"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Completed Reviews:"})," Review history and outcomes"]})]}),n.jsx("h3",{children:"Approval Workflow"}),n.jsx("p",{children:"Each reviewer can provide one of these responses:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Approved:"})," No changes needed, ready to proceed"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Changes Requested:"})," Specific feedback provided, changes needed"]})]}),n.jsx("h3",{children:"Automated Follow-ups"}),n.jsx("p",{children:"Stay on top of reviews with automatic notifications:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Email reminders sent to reviewers before deadlines"}),n.jsx("li",{children:"Notifications when reviews are completed"}),n.jsx("li",{children:"Summary emails for review requesters"}),n.jsx("li",{children:"Escalation notifications for overdue reviews"})]})]})},{id:"best-practices",title:"Best Practices",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"QuickStage Best Practices"}),n.jsx("p",{children:"Maximize your team's productivity with these proven workflows and organizational strategies."}),n.jsx("h3",{children:"Project Organization"}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-blue-900 font-semibold mb-2",children:" Organization Strategy"}),n.jsx("p",{className:"text-blue-800",children:'Create projects for each client, product feature, or development sprint. Use consistent naming conventions like "Client-ProjectName" or "Sprint-XX-FeatureName".'})]}),n.jsx("h4",{children:"Recommended Project Structure"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"By Client:"})," Separate projects for each client or customer"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"By Feature:"})," Group related functionality together"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"By Sprint:"})," Organize by development cycles"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"By Environment:"})," Development, staging, production snapshots"]})]}),n.jsx("h3",{children:"Snapshot Naming"}),n.jsx("p",{children:"Use descriptive names that provide context:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Include Version:"}),' "User Dashboard v2.1"']}),n.jsxs("li",{children:[n.jsx("strong",{children:"Add Context:"}),' "Homepage Mobile Responsive Fix"']}),n.jsxs("li",{children:[n.jsx("strong",{children:"Use Dates:"}),' "Landing Page 2024-01-15"']}),n.jsxs("li",{children:[n.jsx("strong",{children:"Specify Purpose:"}),' "Client Review - Shopping Cart"']})]}),n.jsx("h3",{children:"Effective Tagging"}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-green-900 font-semibold mb-2",children:" Tag Strategy"}),n.jsx("p",{className:"text-green-800",children:'Use consistent tags across your team. Create a tagging guide with standard tags like "mobile", "desktop", "bug-fix", "new-feature", "client-review".'})]}),n.jsx("h4",{children:"Tag Categories"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Platform:"})," mobile, desktop, tablet"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Status:"})," draft, review, approved, deployed"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Type:"})," bug-fix, feature, enhancement, prototype"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Priority:"})," urgent, high, medium, low"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Audience:"})," internal, client, stakeholder"]})]}),n.jsx("h3",{children:"Review Workflow"}),n.jsx("h4",{children:"Review Request Guidelines"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Be Specific:"})," Provide clear review notes about what feedback you need"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Set Realistic Deadlines:"})," Allow 24-48 hours for meaningful review"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Include Context:"})," Explain what changed since the last version"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Assign Appropriately:"})," Choose reviewers based on expertise needed"]})]}),n.jsx("h4",{children:"Giving Effective Feedback"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Be Constructive:"})," Explain the issue and suggest solutions"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Use Element Pinning:"})," Attach comments to specific UI elements"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Provide Examples:"})," Attach reference images or mockups"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Consider Context:"})," Account for device types and user scenarios"]})]}),n.jsx("h3",{children:"Collaboration Tips"}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-purple-900 font-semibold mb-2",children:" Team Collaboration"}),n.jsx("p",{className:"text-purple-800",children:"Establish team conventions for commenting, reviewing, and organizing snapshots. Regular retrospectives help refine your workflow."})]}),n.jsx("h4",{children:"Team Workflow"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Daily Standup:"})," Share recent snapshots for quick feedback"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Sprint Reviews:"})," Use formal review workflow for sprint demos"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Client Presentations:"})," Create dedicated client review projects"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Retrospectives:"})," Review comment patterns and workflow efficiency"]})]})]})},{id:"troubleshooting",title:"Troubleshooting",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Common Issues & Solutions"}),n.jsx("p",{children:"Quick solutions to the most common QuickStage issues and questions."}),n.jsx("h3",{children:"Extension Issues"}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-red-900 font-semibold mb-2",children:' "Stage" Button Not Appearing'}),n.jsxs("div",{className:"text-red-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Solutions:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Restart VS Code/Cursor after installing the extension"}),n.jsx("li",{children:"Check that you have a valid project folder open"}),n.jsx("li",{children:"Ensure the extension is enabled in the Extensions panel"}),n.jsx("li",{children:"Update to the latest version of the extension"})]})]})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-red-900 font-semibold mb-2",children:" Upload Fails or Times Out"}),n.jsxs("div",{className:"text-red-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Common Causes & Solutions:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Large Files:"})," Remove or reduce large assets (images, videos)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"node_modules:"})," Ensure node_modules is in .gitignore"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Build Artifacts:"})," Clean build folders (dist/, build/) before staging"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Network Issues:"})," Check your internet connection and try again"]})]})]})]}),n.jsx("h3",{children:"Dashboard & Viewing Issues"}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-yellow-900 font-semibold mb-2",children:" Snapshots Not Loading"}),n.jsxs("div",{className:"text-yellow-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Troubleshooting Steps:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Refresh the page (Ctrl+F5 or Cmd+Shift+R)"}),n.jsx("li",{children:"Clear browser cache and cookies for quickstage.tech"}),n.jsx("li",{children:"Check if you're logged in correctly"}),n.jsx("li",{children:"Try logging out and logging back in"})]})]})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-yellow-900 font-semibold mb-2",children:" Password Protected Snapshot Access"}),n.jsxs("div",{className:"text-yellow-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"If you can't access a snapshot:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Ensure you're entering the password exactly as provided"}),n.jsx("li",{children:"Check for extra spaces or hidden characters"}),n.jsx("li",{children:"Try copying and pasting the password"}),n.jsx("li",{children:"Contact the snapshot owner for a new password"})]})]})]}),n.jsx("h3",{children:"Comments & Collaboration Issues"}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-blue-900 font-semibold mb-2",children:" Comments Not Appearing"}),n.jsxs("div",{className:"text-blue-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Possible Solutions:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Refresh the snapshot viewer page"}),n.jsx("li",{children:'Check if comments are in "resolved" or "archived" state'}),n.jsx("li",{children:"Verify you have permission to view comments"}),n.jsx("li",{children:"Try disabling browser ad blockers temporarily"})]})]})]}),n.jsx("h3",{children:"Account & Billing Issues"}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-purple-900 font-semibold mb-2",children:" Pro Features Not Available"}),n.jsxs("div",{className:"text-purple-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Check These Items:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Verify your subscription status in Settings"}),n.jsx("li",{children:"Ensure payment method is up to date"}),n.jsx("li",{children:"Check if your trial has expired"}),n.jsx("li",{children:"Log out and log back in to refresh permissions"})]})]})]}),n.jsx("h3",{children:"Performance & Speed"}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-green-900 font-semibold mb-2",children:" Slow Loading or Deployment"}),n.jsxs("div",{className:"text-green-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Optimization Tips:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Exclude Large Files:"})," Use .gitignore to exclude unnecessary files"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Optimize Images:"})," Compress images before including in projects"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Clean Dependencies:"})," Remove unused npm packages"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Build Optimization:"})," Use production builds when possible"]})]})]})]}),n.jsx("h3",{children:"Getting Help"}),n.jsx("p",{children:"If you're still experiencing issues:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Check Status:"})," Visit our status page for system updates"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Contact Support:"})," Email support@quickstage.tech with detailed information"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Community:"})," Join our Discord community for peer support"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Documentation:"})," Review this documentation for additional guidance"]})]}),n.jsxs("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-4 my-6",children:[n.jsx("h4",{className:"text-gray-900 font-semibold mb-2",children:" When Contacting Support"}),n.jsx("p",{className:"text-gray-700 mb-2",children:"Please include:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:[n.jsx("li",{children:"Your account email address"}),n.jsx("li",{children:"Browser and version (Chrome 91, Safari 14, etc.)"}),n.jsx("li",{children:"Operating system (Windows 10, macOS Big Sur, etc.)"}),n.jsx("li",{children:"Steps to reproduce the issue"}),n.jsx("li",{children:"Screenshots or error messages if applicable"})]})]})]})}];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Te,{to:"/",className:"flex items-center",children:n.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"QuickStage"})}),n.jsx("span",{className:"ml-4 text-gray-500",children:"/"}),n.jsx("span",{className:"ml-4 text-gray-900 font-medium",children:"Documentation"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Te,{to:"/dashboard",className:"text-indigo-600 hover:text-indigo-800",children:"Dashboard"}),n.jsx(Te,{to:"/login",className:"text-gray-600 hover:text-gray-900",children:"Sign In"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[n.jsx("div",{className:"lg:w-64 flex-shrink-0",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Documentation"}),n.jsx("nav",{className:"space-y-2",children:r.map(l=>n.jsx("button",{onClick:()=>t(l.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${e===l.id?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:l.title},l.id))})]})}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:(s=r.find(l=>l.id===e))==null?void 0:s.content})})]})})]})}const Im=p.createContext(void 0),sx=[{id:"welcome",title:"Welcome to QuickStage",description:"Learn the basics of sharing and collaborating on web prototypes",category:"getting-started",estimatedTime:3,steps:[{id:"welcome-1",title:"Welcome!",content:"QuickStage helps you share web prototypes instantly and collaborate with your team through comments and feedback.",type:"modal"},{id:"welcome-2",title:"Create Your First Snapshot",content:"Upload your HTML, CSS, and JavaScript files or use our browser extension to capture existing websites.",type:"modal"},{id:"welcome-3",title:"Share & Collaborate",content:"Get a shareable URL instantly. Team members can view your prototype and leave contextual comments.",type:"modal"}]},{id:"dashboard-tour",title:"Dashboard Tour",description:"Learn how to organize and manage your snapshots",category:"getting-started",estimatedTime:5,prerequisites:["welcome"],steps:[{id:"dashboard-1",title:"Your Snapshots",content:"This table shows all your uploaded snapshots. You can sort, filter, and search to find specific prototypes.",type:"highlight",target:'[data-testid="snapshot-table"]',position:"top"},{id:"dashboard-2",title:"Project Organization",content:"Use projects to organize your snapshots by client, feature, or team. Create folders to keep things tidy.",type:"highlight",target:'[data-testid="project-sidebar"]',position:"right"},{id:"dashboard-3",title:"Bulk Operations",content:"Select multiple snapshots to perform bulk operations like moving to projects or extending expiry dates.",type:"info"}]},{id:"comments-tutorial",title:"Commenting System",description:"Learn how to use contextual comments for feedback",category:"feature-specific",estimatedTime:4,steps:[{id:"comments-1",title:"Contextual Comments",content:"Click anywhere on your prototype to leave contextual feedback pinned to specific elements.",type:"info"},{id:"comments-2",title:"Comment Threads",content:"Start conversations with threaded replies and mark issues as resolved when fixed.",type:"info"},{id:"comments-3",title:"File Attachments",content:"Attach images, documents, or design files to provide additional context to your feedback.",type:"info"}]}];function lx({children:e}){const{user:t,isAuthenticated:r}=At(),[s,l]=p.useState(null),[i,a]=p.useState(null),[c,o]=p.useState(0),[d,f]=p.useState(!1),[h,g]=p.useState(!1);p.useEffect(()=>{if(!r||!t){l(null),g(!1);return}b()},[r,t]);const b=async()=>{try{f(!0);const S=await R.get("/api/onboarding");if(S.success){l(S.data);const T=await R.get("/api/onboarding/should-show-welcome");T.success&&g(T.data.shouldShow)}}catch(S){console.error("Failed to load onboarding state:",S)}finally{f(!1)}},j=async S=>{try{const T=await R.put("/api/onboarding",S);T.success&&l(T.data)}catch(T){console.error("Failed to update onboarding state:",T)}},y=S=>{const T=sx.find(_=>_.id===S);T&&(a(T),o(0),C(S,"started"))},k=()=>{i&&(c<i.steps.length-1?o(c+1):u())},x=()=>{c>0&&o(c-1)},m=()=>{i&&(C(i.id,"skipped",c),a(null),o(0))},u=async()=>{if(!i||!s)return;const S=i.id;C(S,"completed");const T=[...s.completedTutorials,S];await j({completedTutorials:T}),a(null),o(0)},N=async()=>{s&&(await j({hasSeenWelcome:!0}),g(!1))},w=async()=>{s&&(await j({skippedWelcome:!0}),g(!1))},C=async(S,T,_)=>{try{await R.post("/api/onboarding/tutorial",{tutorialId:S,action:T,step:_})}catch(O){console.error("Failed to track tutorial event:",O)}},P={onboarding:s,activeTutorial:i,currentStep:c,isLoading:d,shouldShowWelcome:h,startTutorial:y,nextStep:k,previousStep:x,skipTutorial:m,completeTutorial:u,markWelcomeSeen:N,skipWelcome:w,trackTutorialEvent:C};return n.jsx(Im.Provider,{value:P,children:e})}function ix(){const e=p.useContext(Im);if(e===void 0)throw new Error("useTutorial must be used within a TutorialProvider");return e}function ax(){var g;const{shouldShowWelcome:e,markWelcomeSeen:t,skipWelcome:r,startTutorial:s}=ix(),[l,i]=p.useState(0);if(!e)return null;const a=[{title:"Welcome to QuickStage! ",description:"Share and collaborate on web prototypes instantly",features:["Upload HTML, CSS & JavaScript files","Get shareable URLs in seconds","Collect contextual feedback with comments","Organize projects and track versions"],image:""},{title:"Lightning Fast Sharing ",description:"From prototype to shareable link in 10 seconds",features:["Drag & drop file upload","Beautiful, professional URLs","Mobile-responsive viewing","Password protection available"],image:""},{title:"Collaborative Feedback ",description:"Get precise feedback with contextual comments",features:["Pin comments to specific UI elements","Thread conversations and replies","Attach files and screenshots","Mark issues as resolved"],image:""},{title:"Team Organization ",description:"Keep your prototypes organized and accessible",features:["Create projects and folders","Bulk operations on snapshots","Advanced filtering and search","Analytics and usage tracking"],image:""}],c=a[l],o=()=>{l<a.length-1&&i(l+1)},d=()=>{l>0&&i(l-1)},f=()=>{t(),s("dashboard-tour")},h=()=>{r()};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[n.jsx("div",{className:"px-8 py-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-inconsolata",children:c==null?void 0:c.title}),n.jsx("p",{className:"text-gray-600 mt-1",children:c==null?void 0:c.description})]}),n.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 text-sm",children:"Skip tour"})]})}),n.jsxs("div",{className:"px-8 py-6",children:[n.jsx("div",{className:"text-center mb-8",children:n.jsx("div",{className:"text-6xl mb-4",children:c==null?void 0:c.image})}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 font-inconsolata",children:"Key Features:"}),n.jsx("ul",{className:"space-y-3",children:(g=c==null?void 0:c.features)==null?void 0:g.map((b,j)=>n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mt-0.5 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-gray-700",children:b})]},j))})]}),l===a.length-1&&n.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Ready to get started?"}),n.jsx("p",{className:"text-blue-700 text-sm mb-4",children:"We'll walk you through the dashboard and show you how to create your first prototype."}),n.jsx("button",{onClick:f,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Start Dashboard Tour"})]})]})]}),n.jsx("div",{className:"px-8 py-6 border-t border-gray-200 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex space-x-2",children:a.map((b,j)=>n.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${j===l?"bg-blue-600":j<l?"bg-green-500":"bg-gray-300"}`},j))}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:d,disabled:l===0,className:"px-4 py-2 text-gray-600 disabled:text-gray-400 hover:text-gray-800 disabled:cursor-not-allowed",children:"Previous"}),l<a.length-1?n.jsx("button",{onClick:o,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Next"}):n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:h,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Maybe Later"}),n.jsx("button",{onClick:f,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Get Started! "})]})]})]})})]})})}function di({children:e}){const{user:t,loading:r}=At();return r?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):t?n.jsx(n.Fragment,{children:e}):n.jsx(la,{to:"/login",replace:!0})}ui.createRoot(document.getElementById("root")).render(n.jsx(ha.StrictMode,{children:n.jsx(Tf,{children:n.jsx(lx,{children:n.jsxs(Cf,{children:[n.jsxs(vf,{children:[n.jsx(st,{path:"/",element:n.jsx(Of,{})}),n.jsx(st,{path:"/login",element:n.jsx(Wf,{})}),n.jsx(st,{path:"/pricing",element:n.jsx(nx,{})}),n.jsx(st,{path:"/docs",element:n.jsx(rx,{})}),n.jsx(st,{path:"/dashboard",element:n.jsx(di,{children:n.jsx(Df,{})})}),n.jsx(st,{path:"/settings",element:n.jsx(di,{children:n.jsx(If,{})})}),n.jsx(st,{path:"/admin",element:n.jsx(di,{children:n.jsx(Vf,{})})}),n.jsx(st,{path:"/s/:id/*",element:n.jsx(Bf,{})}),n.jsx(st,{path:"/app/*",element:n.jsx(la,{to:"/dashboard",replace:!0})}),n.jsx(st,{path:"*",element:n.jsx(la,{to:"/",replace:!0})})]}),n.jsx(ax,{})]})})})}));
//# sourceMappingURL=index-D--cMSfq.js.map
