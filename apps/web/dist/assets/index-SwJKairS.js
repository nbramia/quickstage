function gh(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(s,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=r(l);fetch(l.href,a)}})();function vh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gd={exports:{}},yl={},vd={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=Symbol.for("react.element"),yh=Symbol.for("react.portal"),wh=Symbol.for("react.fragment"),jh=Symbol.for("react.strict_mode"),bh=Symbol.for("react.profiler"),Nh=Symbol.for("react.provider"),kh=Symbol.for("react.context"),Sh=Symbol.for("react.forward_ref"),Ch=Symbol.for("react.suspense"),Eh=Symbol.for("react.memo"),Ph=Symbol.for("react.lazy"),qo=Symbol.iterator;function Lh(e){return e===null||typeof e!="object"?null:(e=qo&&e[qo]||e["@@iterator"],typeof e=="function"?e:null)}var yd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wd=Object.assign,jd={};function ur(e,t,r){this.props=e,this.context=t,this.refs=jd,this.updater=r||yd}ur.prototype.isReactComponent={};ur.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ur.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bd(){}bd.prototype=ur.prototype;function hi(e,t,r){this.props=e,this.context=t,this.refs=jd,this.updater=r||yd}var pi=hi.prototype=new bd;pi.constructor=hi;wd(pi,ur.prototype);pi.isPureReactComponent=!0;var Go=Array.isArray,Nd=Object.prototype.hasOwnProperty,fi={current:null},kd={key:!0,ref:!0,__self:!0,__source:!0};function Sd(e,t,r){var s,l={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Nd.call(t,s)&&!kd.hasOwnProperty(s)&&(l[s]=t[s]);var c=arguments.length-2;if(c===1)l.children=r;else if(1<c){for(var o=Array(c),d=0;d<c;d++)o[d]=arguments[d+2];l.children=o}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)l[s]===void 0&&(l[s]=c[s]);return{$$typeof:is,type:e,key:a,ref:i,props:l,_owner:fi.current}}function _h(e,t){return{$$typeof:is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xi(e){return typeof e=="object"&&e!==null&&e.$$typeof===is}function Rh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Yo=/\/+/g;function Bl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rh(""+e.key):t.toString(36)}function zs(e,t,r,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case is:case yh:i=!0}}if(i)return i=e,l=l(i),e=s===""?"."+Bl(i,0):s,Go(l)?(r="",e!=null&&(r=e.replace(Yo,"$&/")+"/"),zs(l,t,r,"",function(d){return d})):l!=null&&(xi(l)&&(l=_h(l,r+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Yo,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=s===""?".":s+":",Go(e))for(var c=0;c<e.length;c++){a=e[c];var o=s+Bl(a,c);i+=zs(a,t,r,o,l)}else if(o=Lh(e),typeof o=="function")for(e=o.call(e),c=0;!(a=e.next()).done;)a=a.value,o=s+Bl(a,c++),i+=zs(a,t,r,o,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function gs(e,t,r){if(e==null)return e;var s=[],l=0;return zs(e,s,"","",function(a){return t.call(r,a,l++)}),s}function Th(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},Fs={transition:null},Ah={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:Fs,ReactCurrentOwner:fi};function Cd(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:gs,forEach:function(e,t,r){gs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return gs(e,function(){t++}),t},toArray:function(e){return gs(e,function(t){return t})||[]},only:function(e){if(!xi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=ur;X.Fragment=wh;X.Profiler=bh;X.PureComponent=hi;X.StrictMode=jh;X.Suspense=Ch;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ah;X.act=Cd;X.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=wd({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=fi.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)Nd.call(t,o)&&!kd.hasOwnProperty(o)&&(s[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){c=Array(o);for(var d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}return{$$typeof:is,type:e.type,key:l,ref:a,props:s,_owner:i}};X.createContext=function(e){return e={$$typeof:kh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nh,_context:e},e.Consumer=e};X.createElement=Sd;X.createFactory=function(e){var t=Sd.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Sh,render:e}};X.isValidElement=xi;X.lazy=function(e){return{$$typeof:Ph,_payload:{_status:-1,_result:e},_init:Th}};X.memo=function(e,t){return{$$typeof:Eh,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=Fs.transition;Fs.transition={};try{e()}finally{Fs.transition=t}};X.unstable_act=Cd;X.useCallback=function(e,t){return Ve.current.useCallback(e,t)};X.useContext=function(e){return Ve.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};X.useEffect=function(e,t){return Ve.current.useEffect(e,t)};X.useId=function(){return Ve.current.useId()};X.useImperativeHandle=function(e,t,r){return Ve.current.useImperativeHandle(e,t,r)};X.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Ve.current.useMemo(e,t)};X.useReducer=function(e,t,r){return Ve.current.useReducer(e,t,r)};X.useRef=function(e){return Ve.current.useRef(e)};X.useState=function(e){return Ve.current.useState(e)};X.useSyncExternalStore=function(e,t,r){return Ve.current.useSyncExternalStore(e,t,r)};X.useTransition=function(){return Ve.current.useTransition()};X.version="18.3.1";vd.exports=X;var p=vd.exports;const Xn=vh(p),Mh=gh({__proto__:null,default:Xn},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh=p,zh=Symbol.for("react.element"),Fh=Symbol.for("react.fragment"),Ih=Object.prototype.hasOwnProperty,Uh=Dh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$h={key:!0,ref:!0,__self:!0,__source:!0};function Ed(e,t,r){var s,l={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)Ih.call(t,s)&&!$h.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:zh,type:e,key:a,ref:i,props:l,_owner:Uh.current}}yl.Fragment=Fh;yl.jsx=Ed;yl.jsxs=Ed;gd.exports=yl;var n=gd.exports,fa={},Pd={exports:{}},tt={},Ld={exports:{}},_d={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,E){var _=R.length;R.push(E);e:for(;0<_;){var F=_-1>>>1,q=R[F];if(0<l(q,E))R[F]=E,R[_]=q,_=F;else break e}}function r(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var E=R[0],_=R.pop();if(_!==E){R[0]=_;e:for(var F=0,q=R.length,Y=q>>>1;F<Y;){var K=2*(F+1)-1,ce=R[K],V=K+1,se=R[V];if(0>l(ce,_))V<q&&0>l(se,ce)?(R[F]=se,R[V]=_,F=V):(R[F]=ce,R[K]=_,F=K);else if(V<q&&0>l(se,_))R[F]=se,R[V]=_,F=V;else break e}}return E}function l(R,E){var _=R.sortIndex-E.sortIndex;return _!==0?_:R.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],d=[],x=1,h=null,g=3,b=!1,w=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function u(R){for(var E=r(d);E!==null;){if(E.callback===null)s(d);else if(E.startTime<=R)s(d),E.sortIndex=E.expirationTime,t(o,E);else break;E=r(d)}}function N(R){if(y=!1,u(R),!w)if(r(o)!==null)w=!0,J(j);else{var E=r(d);E!==null&&Z(N,E.startTime-R)}}function j(R,E){w=!1,y&&(y=!1,f(S),S=-1),b=!0;var _=g;try{for(u(E),h=r(o);h!==null&&(!(h.expirationTime>E)||R&&!U());){var F=h.callback;if(typeof F=="function"){h.callback=null,g=h.priorityLevel;var q=F(h.expirationTime<=E);E=e.unstable_now(),typeof q=="function"?h.callback=q:h===r(o)&&s(o),u(E)}else s(o);h=r(o)}if(h!==null)var Y=!0;else{var K=r(d);K!==null&&Z(N,K.startTime-E),Y=!1}return Y}finally{h=null,g=_,b=!1}}var P=!1,L=null,S=-1,M=5,D=-1;function U(){return!(e.unstable_now()-D<M)}function W(){if(L!==null){var R=e.unstable_now();D=R;var E=!0;try{E=L(!0,R)}finally{E?Q():(P=!1,L=null)}}else P=!1}var Q;if(typeof m=="function")Q=function(){m(W)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ae=re.port2;re.port1.onmessage=W,Q=function(){ae.postMessage(null)}}else Q=function(){k(W,0)};function J(R){L=R,P||(P=!0,Q())}function Z(R,E){S=k(function(){R(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||b||(w=!0,J(j))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(o)},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var E=3;break;default:E=g}var _=g;g=E;try{return R()}finally{g=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,E){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var _=g;g=R;try{return E()}finally{g=_}},e.unstable_scheduleCallback=function(R,E,_){var F=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?F+_:F):_=F,R){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=_+q,R={id:x++,callback:E,priorityLevel:R,startTime:_,expirationTime:q,sortIndex:-1},_>F?(R.sortIndex=_,t(d,R),r(o)===null&&R===r(d)&&(y?(f(S),S=-1):y=!0,Z(N,_-F))):(R.sortIndex=q,t(o,R),w||b||(w=!0,J(j))),R},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(R){var E=g;return function(){var _=g;g=E;try{return R.apply(this,arguments)}finally{g=_}}}})(_d);Ld.exports=_d;var Bh=Ld.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh=p,et=Bh;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rd=new Set,Or={};function _n(e,t){sr(e,t),sr(e+"Capture",t)}function sr(e,t){for(Or[e]=t,e=0;e<t.length;e++)Rd.add(t[e])}var Dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=Object.prototype.hasOwnProperty,Wh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ko={},Xo={};function Vh(e){return xa.call(Xo,e)?!0:xa.call(Ko,e)?!1:Wh.test(e)?Xo[e]=!0:(Ko[e]=!0,!1)}function Hh(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qh(e,t,r,s){if(t===null||typeof t>"u"||Hh(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,r,s,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var gi=/[\-:]([a-z])/g;function vi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gi,vi);Me[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gi,vi);Me[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gi,vi);Me[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function yi(e,t,r,s){var l=Me.hasOwnProperty(t)?Me[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qh(t,r,l,s)&&(r=null),s||l===null?Vh(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,s=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Ut=Oh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),Un=Symbol.for("react.portal"),$n=Symbol.for("react.fragment"),wi=Symbol.for("react.strict_mode"),ga=Symbol.for("react.profiler"),Td=Symbol.for("react.provider"),Ad=Symbol.for("react.context"),ji=Symbol.for("react.forward_ref"),va=Symbol.for("react.suspense"),ya=Symbol.for("react.suspense_list"),bi=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),Md=Symbol.for("react.offscreen"),Jo=Symbol.iterator;function vr(e){return e===null||typeof e!="object"?null:(e=Jo&&e[Jo]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,Ol;function Lr(e){if(Ol===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ol=t&&t[1]||""}return`
`+Ol+e}var Wl=!1;function Vl(e,t){if(!e||Wl)return"";Wl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),a=s.stack.split(`
`),i=l.length-1,c=a.length-1;1<=i&&0<=c&&l[i]!==a[c];)c--;for(;1<=i&&0<=c;i--,c--)if(l[i]!==a[c]){if(i!==1||c!==1)do if(i--,c--,0>c||l[i]!==a[c]){var o=`
`+l[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=c);break}}}finally{Wl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Lr(e):""}function qh(e){switch(e.tag){case 5:return Lr(e.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 2:case 15:return e=Vl(e.type,!1),e;case 11:return e=Vl(e.type.render,!1),e;case 1:return e=Vl(e.type,!0),e;default:return""}}function wa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $n:return"Fragment";case Un:return"Portal";case ga:return"Profiler";case wi:return"StrictMode";case va:return"Suspense";case ya:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ad:return(e.displayName||"Context")+".Consumer";case Td:return(e._context.displayName||"Context")+".Provider";case ji:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bi:return t=e.displayName||null,t!==null?t:wa(e.type)||"Memo";case Qt:t=e._payload,e=e._init;try{return wa(e(t))}catch{}}return null}function Gh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wa(t);case 8:return t===wi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yh(e){var t=Dd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ys(e){e._valueTracker||(e._valueTracker=Yh(e))}function zd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Dd(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ja(e,t){var r=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Zo(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=cn(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fd(e,t){t=t.checked,t!=null&&yi(e,"checked",t,!1)}function ba(e,t){Fd(e,t);var r=cn(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Na(e,t.type,r):t.hasOwnProperty("defaultValue")&&Na(e,t.type,cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ec(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Na(e,t,r){(t!=="number"||Gs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _r=Array.isArray;function Jn(e,t,r,s){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&s&&(e[r].defaultSelected=!0)}else{for(r=""+cn(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ka(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(_r(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:cn(r)}}function Id(e,t){var r=cn(t.value),s=cn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function nc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ud(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ud(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ws,$d=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kh=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(e){Kh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ar[t]=Ar[e]})});function Bd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ar.hasOwnProperty(e)&&Ar[e]?(""+t).trim():t+"px"}function Od(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,l=Bd(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,l):e[r]=l}}var Xh=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ca(e,t){if(t){if(Xh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Ea(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pa=null;function Ni(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var La=null,Zn=null,er=null;function rc(e){if(e=ds(e)){if(typeof La!="function")throw Error(T(280));var t=e.stateNode;t&&(t=kl(t),La(e.stateNode,e.type,t))}}function Wd(e){Zn?er?er.push(e):er=[e]:Zn=e}function Vd(){if(Zn){var e=Zn,t=er;if(er=Zn=null,rc(e),t)for(e=0;e<t.length;e++)rc(t[e])}}function Hd(e,t){return e(t)}function Qd(){}var Hl=!1;function qd(e,t,r){if(Hl)return e(t,r);Hl=!0;try{return Hd(e,t,r)}finally{Hl=!1,(Zn!==null||er!==null)&&(Qd(),Vd())}}function Vr(e,t){var r=e.stateNode;if(r===null)return null;var s=kl(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var _a=!1;if(Dt)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){_a=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{_a=!1}function Jh(e,t,r,s,l,a,i,c,o){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(x){this.onError(x)}}var Mr=!1,Ys=null,Ks=!1,Ra=null,Zh={onError:function(e){Mr=!0,Ys=e}};function e0(e,t,r,s,l,a,i,c,o){Mr=!1,Ys=null,Jh.apply(Zh,arguments)}function t0(e,t,r,s,l,a,i,c,o){if(e0.apply(this,arguments),Mr){if(Mr){var d=Ys;Mr=!1,Ys=null}else throw Error(T(198));Ks||(Ks=!0,Ra=d)}}function Rn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Gd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sc(e){if(Rn(e)!==e)throw Error(T(188))}function n0(e){var t=e.alternate;if(!t){if(t=Rn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,s=t;;){var l=r.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){r=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===r)return sc(l),e;if(a===s)return sc(l),t;a=a.sibling}throw Error(T(188))}if(r.return!==s.return)r=l,s=a;else{for(var i=!1,c=l.child;c;){if(c===r){i=!0,r=l,s=a;break}if(c===s){i=!0,s=l,r=a;break}c=c.sibling}if(!i){for(c=a.child;c;){if(c===r){i=!0,r=a,s=l;break}if(c===s){i=!0,s=a,r=l;break}c=c.sibling}if(!i)throw Error(T(189))}}if(r.alternate!==s)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function Yd(e){return e=n0(e),e!==null?Kd(e):null}function Kd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kd(e);if(t!==null)return t;e=e.sibling}return null}var Xd=et.unstable_scheduleCallback,lc=et.unstable_cancelCallback,r0=et.unstable_shouldYield,s0=et.unstable_requestPaint,we=et.unstable_now,l0=et.unstable_getCurrentPriorityLevel,ki=et.unstable_ImmediatePriority,Jd=et.unstable_UserBlockingPriority,Xs=et.unstable_NormalPriority,a0=et.unstable_LowPriority,Zd=et.unstable_IdlePriority,wl=null,bt=null;function i0(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(wl,e,void 0,(e.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:d0,o0=Math.log,c0=Math.LN2;function d0(e){return e>>>=0,e===0?32:31-(o0(e)/c0|0)|0}var js=64,bs=4194304;function Rr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Js(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var c=i&~l;c!==0?s=Rr(c):(a&=i,a!==0&&(s=Rr(a)))}else i=r&~l,i!==0?s=Rr(i):a!==0&&(s=Rr(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-ft(t),l=1<<r,s|=e[r],t&=~l;return s}function u0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m0(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-ft(a),c=1<<i,o=l[i];o===-1?(!(c&r)||c&s)&&(l[i]=u0(c,t)):o<=t&&(e.expiredLanes|=c),a&=~c}}function Ta(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function eu(){var e=js;return js<<=1,!(js&4194240)&&(js=64),e}function Ql(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function os(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ft(t),e[t]=r}function h0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-ft(r),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,r&=~a}}function Si(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-ft(r),l=1<<s;l&t|e[s]&t&&(e[s]|=t),r&=~l}}var ie=0;function tu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nu,Ci,ru,su,lu,Aa=!1,Ns=[],Zt=null,en=null,tn=null,Hr=new Map,Qr=new Map,Gt=[],p0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ac(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Hr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qr.delete(t.pointerId)}}function wr(e,t,r,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=ds(t),t!==null&&Ci(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function f0(e,t,r,s,l){switch(t){case"focusin":return Zt=wr(Zt,e,t,r,s,l),!0;case"dragenter":return en=wr(en,e,t,r,s,l),!0;case"mouseover":return tn=wr(tn,e,t,r,s,l),!0;case"pointerover":var a=l.pointerId;return Hr.set(a,wr(Hr.get(a)||null,e,t,r,s,l)),!0;case"gotpointercapture":return a=l.pointerId,Qr.set(a,wr(Qr.get(a)||null,e,t,r,s,l)),!0}return!1}function au(e){var t=wn(e.target);if(t!==null){var r=Rn(t);if(r!==null){if(t=r.tag,t===13){if(t=Gd(r),t!==null){e.blockedOn=t,lu(e.priority,function(){ru(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ma(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Pa=s,r.target.dispatchEvent(s),Pa=null}else return t=ds(r),t!==null&&Ci(t),e.blockedOn=r,!1;t.shift()}return!0}function ic(e,t,r){Is(e)&&r.delete(t)}function x0(){Aa=!1,Zt!==null&&Is(Zt)&&(Zt=null),en!==null&&Is(en)&&(en=null),tn!==null&&Is(tn)&&(tn=null),Hr.forEach(ic),Qr.forEach(ic)}function jr(e,t){e.blockedOn===t&&(e.blockedOn=null,Aa||(Aa=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,x0)))}function qr(e){function t(l){return jr(l,e)}if(0<Ns.length){jr(Ns[0],e);for(var r=1;r<Ns.length;r++){var s=Ns[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Zt!==null&&jr(Zt,e),en!==null&&jr(en,e),tn!==null&&jr(tn,e),Hr.forEach(t),Qr.forEach(t),r=0;r<Gt.length;r++)s=Gt[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Gt.length&&(r=Gt[0],r.blockedOn===null);)au(r),r.blockedOn===null&&Gt.shift()}var tr=Ut.ReactCurrentBatchConfig,Zs=!0;function g0(e,t,r,s){var l=ie,a=tr.transition;tr.transition=null;try{ie=1,Ei(e,t,r,s)}finally{ie=l,tr.transition=a}}function v0(e,t,r,s){var l=ie,a=tr.transition;tr.transition=null;try{ie=4,Ei(e,t,r,s)}finally{ie=l,tr.transition=a}}function Ei(e,t,r,s){if(Zs){var l=Ma(e,t,r,s);if(l===null)na(e,t,s,el,r),ac(e,s);else if(f0(l,e,t,r,s))s.stopPropagation();else if(ac(e,s),t&4&&-1<p0.indexOf(e)){for(;l!==null;){var a=ds(l);if(a!==null&&nu(a),a=Ma(e,t,r,s),a===null&&na(e,t,s,el,r),a===l)break;l=a}l!==null&&s.stopPropagation()}else na(e,t,s,null,r)}}var el=null;function Ma(e,t,r,s){if(el=null,e=Ni(s),e=wn(e),e!==null)if(t=Rn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Gd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return el=e,null}function iu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l0()){case ki:return 1;case Jd:return 4;case Xs:case a0:return 16;case Zd:return 536870912;default:return 16}default:return 16}}var Kt=null,Pi=null,Us=null;function ou(){if(Us)return Us;var e,t=Pi,r=t.length,s,l="value"in Kt?Kt.value:Kt.textContent,a=l.length;for(e=0;e<r&&t[e]===l[e];e++);var i=r-e;for(s=1;s<=i&&t[r-s]===l[a-s];s++);return Us=l.slice(e,1<s?1-s:void 0)}function $s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ks(){return!0}function oc(){return!1}function nt(e){function t(r,s,l,a,i){this._reactName=r,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ks:oc,this.isPropagationStopped=oc,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),t}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=nt(mr),cs=xe({},mr,{view:0,detail:0}),y0=nt(cs),ql,Gl,br,jl=xe({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_i,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&e.type==="mousemove"?(ql=e.screenX-br.screenX,Gl=e.screenY-br.screenY):Gl=ql=0,br=e),ql)},movementY:function(e){return"movementY"in e?e.movementY:Gl}}),cc=nt(jl),w0=xe({},jl,{dataTransfer:0}),j0=nt(w0),b0=xe({},cs,{relatedTarget:0}),Yl=nt(b0),N0=xe({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),k0=nt(N0),S0=xe({},mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),C0=nt(S0),E0=xe({},mr,{data:0}),dc=nt(E0),P0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_0[e])?!!t[e]:!1}function _i(){return R0}var T0=xe({},cs,{key:function(e){if(e.key){var t=P0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_i,charCode:function(e){return e.type==="keypress"?$s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),A0=nt(T0),M0=xe({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uc=nt(M0),D0=xe({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_i}),z0=nt(D0),F0=xe({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),I0=nt(F0),U0=xe({},jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$0=nt(U0),B0=[9,13,27,32],Ri=Dt&&"CompositionEvent"in window,Dr=null;Dt&&"documentMode"in document&&(Dr=document.documentMode);var O0=Dt&&"TextEvent"in window&&!Dr,cu=Dt&&(!Ri||Dr&&8<Dr&&11>=Dr),mc=" ",hc=!1;function du(e,t){switch(e){case"keyup":return B0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function W0(e,t){switch(e){case"compositionend":return uu(t);case"keypress":return t.which!==32?null:(hc=!0,mc);case"textInput":return e=t.data,e===mc&&hc?null:e;default:return null}}function V0(e,t){if(Bn)return e==="compositionend"||!Ri&&du(e,t)?(e=ou(),Us=Pi=Kt=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cu&&t.locale!=="ko"?null:t.data;default:return null}}var H0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H0[e.type]:t==="textarea"}function mu(e,t,r,s){Wd(s),t=tl(t,"onChange"),0<t.length&&(r=new Li("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var zr=null,Gr=null;function Q0(e){Nu(e,0)}function bl(e){var t=Vn(e);if(zd(t))return e}function q0(e,t){if(e==="change")return t}var hu=!1;if(Dt){var Kl;if(Dt){var Xl="oninput"in document;if(!Xl){var fc=document.createElement("div");fc.setAttribute("oninput","return;"),Xl=typeof fc.oninput=="function"}Kl=Xl}else Kl=!1;hu=Kl&&(!document.documentMode||9<document.documentMode)}function xc(){zr&&(zr.detachEvent("onpropertychange",pu),Gr=zr=null)}function pu(e){if(e.propertyName==="value"&&bl(Gr)){var t=[];mu(t,Gr,e,Ni(e)),qd(Q0,t)}}function G0(e,t,r){e==="focusin"?(xc(),zr=t,Gr=r,zr.attachEvent("onpropertychange",pu)):e==="focusout"&&xc()}function Y0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bl(Gr)}function K0(e,t){if(e==="click")return bl(t)}function X0(e,t){if(e==="input"||e==="change")return bl(t)}function J0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:J0;function Yr(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var l=r[s];if(!xa.call(t,l)||!gt(e[l],t[l]))return!1}return!0}function gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vc(e,t){var r=gc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gc(r)}}function fu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xu(){for(var e=window,t=Gs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gs(e.document)}return t}function Ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Z0(e){var t=xu(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fu(r.ownerDocument.documentElement,r)){if(s!==null&&Ti(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=vc(r,a);var i=vc(r,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ep=Dt&&"documentMode"in document&&11>=document.documentMode,On=null,Da=null,Fr=null,za=!1;function yc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;za||On==null||On!==Gs(s)||(s=On,"selectionStart"in s&&Ti(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Fr&&Yr(Fr,s)||(Fr=s,s=tl(Da,"onSelect"),0<s.length&&(t=new Li("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=On)))}function Ss(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wn={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionend:Ss("Transition","TransitionEnd")},Jl={},gu={};Dt&&(gu=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function Nl(e){if(Jl[e])return Jl[e];if(!Wn[e])return e;var t=Wn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in gu)return Jl[e]=t[r];return e}var vu=Nl("animationend"),yu=Nl("animationiteration"),wu=Nl("animationstart"),ju=Nl("transitionend"),bu=new Map,wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function un(e,t){bu.set(e,t),_n(t,[e])}for(var Zl=0;Zl<wc.length;Zl++){var ea=wc[Zl],tp=ea.toLowerCase(),np=ea[0].toUpperCase()+ea.slice(1);un(tp,"on"+np)}un(vu,"onAnimationEnd");un(yu,"onAnimationIteration");un(wu,"onAnimationStart");un("dblclick","onDoubleClick");un("focusin","onFocus");un("focusout","onBlur");un(ju,"onTransitionEnd");sr("onMouseEnter",["mouseout","mouseover"]);sr("onMouseLeave",["mouseout","mouseover"]);sr("onPointerEnter",["pointerout","pointerover"]);sr("onPointerLeave",["pointerout","pointerover"]);_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_n("onBeforeInput",["compositionend","keypress","textInput","paste"]);_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function jc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,t0(s,t,void 0,e),e.currentTarget=null}function Nu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var c=s[i],o=c.instance,d=c.currentTarget;if(c=c.listener,o!==a&&l.isPropagationStopped())break e;jc(l,c,d),a=o}else for(i=0;i<s.length;i++){if(c=s[i],o=c.instance,d=c.currentTarget,c=c.listener,o!==a&&l.isPropagationStopped())break e;jc(l,c,d),a=o}}}if(Ks)throw e=Ra,Ks=!1,Ra=null,e}function de(e,t){var r=t[Ba];r===void 0&&(r=t[Ba]=new Set);var s=e+"__bubble";r.has(s)||(ku(t,e,2,!1),r.add(s))}function ta(e,t,r){var s=0;t&&(s|=4),ku(r,e,s,t)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function Kr(e){if(!e[Cs]){e[Cs]=!0,Rd.forEach(function(r){r!=="selectionchange"&&(rp.has(r)||ta(r,!1,e),ta(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cs]||(t[Cs]=!0,ta("selectionchange",!1,t))}}function ku(e,t,r,s){switch(iu(t)){case 1:var l=g0;break;case 4:l=v0;break;default:l=Ei}r=l.bind(null,t,r,e),l=void 0,!_a||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function na(e,t,r,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var c=s.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===l||o.nodeType===8&&o.parentNode===l))return;i=i.return}for(;c!==null;){if(i=wn(c),i===null)return;if(o=i.tag,o===5||o===6){s=a=i;continue e}c=c.parentNode}}s=s.return}qd(function(){var d=a,x=Ni(r),h=[];e:{var g=bu.get(e);if(g!==void 0){var b=Li,w=e;switch(e){case"keypress":if($s(r)===0)break e;case"keydown":case"keyup":b=A0;break;case"focusin":w="focus",b=Yl;break;case"focusout":w="blur",b=Yl;break;case"beforeblur":case"afterblur":b=Yl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=j0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=z0;break;case vu:case yu:case wu:b=k0;break;case ju:b=I0;break;case"scroll":b=y0;break;case"wheel":b=$0;break;case"copy":case"cut":case"paste":b=C0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=uc}var y=(t&4)!==0,k=!y&&e==="scroll",f=y?g!==null?g+"Capture":null:g;y=[];for(var m=d,u;m!==null;){u=m;var N=u.stateNode;if(u.tag===5&&N!==null&&(u=N,f!==null&&(N=Vr(m,f),N!=null&&y.push(Xr(m,N,u)))),k)break;m=m.return}0<y.length&&(g=new b(g,w,null,r,x),h.push({event:g,listeners:y}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",g&&r!==Pa&&(w=r.relatedTarget||r.fromElement)&&(wn(w)||w[zt]))break e;if((b||g)&&(g=x.window===x?x:(g=x.ownerDocument)?g.defaultView||g.parentWindow:window,b?(w=r.relatedTarget||r.toElement,b=d,w=w?wn(w):null,w!==null&&(k=Rn(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(b=null,w=d),b!==w)){if(y=cc,N="onMouseLeave",f="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=uc,N="onPointerLeave",f="onPointerEnter",m="pointer"),k=b==null?g:Vn(b),u=w==null?g:Vn(w),g=new y(N,m+"leave",b,r,x),g.target=k,g.relatedTarget=u,N=null,wn(x)===d&&(y=new y(f,m+"enter",w,r,x),y.target=u,y.relatedTarget=k,N=y),k=N,b&&w)t:{for(y=b,f=w,m=0,u=y;u;u=Fn(u))m++;for(u=0,N=f;N;N=Fn(N))u++;for(;0<m-u;)y=Fn(y),m--;for(;0<u-m;)f=Fn(f),u--;for(;m--;){if(y===f||f!==null&&y===f.alternate)break t;y=Fn(y),f=Fn(f)}y=null}else y=null;b!==null&&bc(h,g,b,y,!1),w!==null&&k!==null&&bc(h,k,w,y,!0)}}e:{if(g=d?Vn(d):window,b=g.nodeName&&g.nodeName.toLowerCase(),b==="select"||b==="input"&&g.type==="file")var j=q0;else if(pc(g))if(hu)j=X0;else{j=Y0;var P=G0}else(b=g.nodeName)&&b.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=K0);if(j&&(j=j(e,d))){mu(h,j,r,x);break e}P&&P(e,g,d),e==="focusout"&&(P=g._wrapperState)&&P.controlled&&g.type==="number"&&Na(g,"number",g.value)}switch(P=d?Vn(d):window,e){case"focusin":(pc(P)||P.contentEditable==="true")&&(On=P,Da=d,Fr=null);break;case"focusout":Fr=Da=On=null;break;case"mousedown":za=!0;break;case"contextmenu":case"mouseup":case"dragend":za=!1,yc(h,r,x);break;case"selectionchange":if(ep)break;case"keydown":case"keyup":yc(h,r,x)}var L;if(Ri)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Bn?du(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(cu&&r.locale!=="ko"&&(Bn||S!=="onCompositionStart"?S==="onCompositionEnd"&&Bn&&(L=ou()):(Kt=x,Pi="value"in Kt?Kt.value:Kt.textContent,Bn=!0)),P=tl(d,S),0<P.length&&(S=new dc(S,e,null,r,x),h.push({event:S,listeners:P}),L?S.data=L:(L=uu(r),L!==null&&(S.data=L)))),(L=O0?W0(e,r):V0(e,r))&&(d=tl(d,"onBeforeInput"),0<d.length&&(x=new dc("onBeforeInput","beforeinput",null,r,x),h.push({event:x,listeners:d}),x.data=L))}Nu(h,t)})}function Xr(e,t,r){return{instance:e,listener:t,currentTarget:r}}function tl(e,t){for(var r=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Vr(e,r),a!=null&&s.unshift(Xr(e,a,l)),a=Vr(e,t),a!=null&&s.push(Xr(e,a,l))),e=e.return}return s}function Fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bc(e,t,r,s,l){for(var a=t._reactName,i=[];r!==null&&r!==s;){var c=r,o=c.alternate,d=c.stateNode;if(o!==null&&o===s)break;c.tag===5&&d!==null&&(c=d,l?(o=Vr(r,a),o!=null&&i.unshift(Xr(r,o,c))):l||(o=Vr(r,a),o!=null&&i.push(Xr(r,o,c)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var sp=/\r\n?/g,lp=/\u0000|\uFFFD/g;function Nc(e){return(typeof e=="string"?e:""+e).replace(sp,`
`).replace(lp,"")}function Es(e,t,r){if(t=Nc(t),Nc(e)!==t&&r)throw Error(T(425))}function nl(){}var Fa=null,Ia=null;function Ua(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $a=typeof setTimeout=="function"?setTimeout:void 0,ap=typeof clearTimeout=="function"?clearTimeout:void 0,kc=typeof Promise=="function"?Promise:void 0,ip=typeof queueMicrotask=="function"?queueMicrotask:typeof kc<"u"?function(e){return kc.resolve(null).then(e).catch(op)}:$a;function op(e){setTimeout(function(){throw e})}function ra(e,t){var r=t,s=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(s===0){e.removeChild(l),qr(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=l}while(r);qr(t)}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),jt="__reactFiber$"+hr,Jr="__reactProps$"+hr,zt="__reactContainer$"+hr,Ba="__reactEvents$"+hr,cp="__reactListeners$"+hr,dp="__reactHandles$"+hr;function wn(e){var t=e[jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zt]||r[jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Sc(e);e!==null;){if(r=e[jt])return r;e=Sc(e)}return t}e=r,r=e.parentNode}return null}function ds(e){return e=e[jt]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function kl(e){return e[Jr]||null}var Oa=[],Hn=-1;function mn(e){return{current:e}}function ue(e){0>Hn||(e.current=Oa[Hn],Oa[Hn]=null,Hn--)}function oe(e,t){Hn++,Oa[Hn]=e.current,e.current=t}var dn={},Ie=mn(dn),Ge=mn(!1),Sn=dn;function lr(e,t){var r=e.type.contextTypes;if(!r)return dn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in r)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ye(e){return e=e.childContextTypes,e!=null}function rl(){ue(Ge),ue(Ie)}function Cc(e,t,r){if(Ie.current!==dn)throw Error(T(168));oe(Ie,t),oe(Ge,r)}function Su(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(T(108,Gh(e)||"Unknown",l));return xe({},r,s)}function sl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,Sn=Ie.current,oe(Ie,e),oe(Ge,Ge.current),!0}function Ec(e,t,r){var s=e.stateNode;if(!s)throw Error(T(169));r?(e=Su(e,t,Sn),s.__reactInternalMemoizedMergedChildContext=e,ue(Ge),ue(Ie),oe(Ie,e)):ue(Ge),oe(Ge,r)}var _t=null,Sl=!1,sa=!1;function Cu(e){_t===null?_t=[e]:_t.push(e)}function up(e){Sl=!0,Cu(e)}function hn(){if(!sa&&_t!==null){sa=!0;var e=0,t=ie;try{var r=_t;for(ie=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}_t=null,Sl=!1}catch(l){throw _t!==null&&(_t=_t.slice(e+1)),Xd(ki,hn),l}finally{ie=t,sa=!1}}return null}var Qn=[],qn=0,ll=null,al=0,st=[],lt=0,Cn=null,Tt=1,At="";function vn(e,t){Qn[qn++]=al,Qn[qn++]=ll,ll=e,al=t}function Eu(e,t,r){st[lt++]=Tt,st[lt++]=At,st[lt++]=Cn,Cn=e;var s=Tt;e=At;var l=32-ft(s)-1;s&=~(1<<l),r+=1;var a=32-ft(t)+l;if(30<a){var i=l-l%5;a=(s&(1<<i)-1).toString(32),s>>=i,l-=i,Tt=1<<32-ft(t)+l|r<<l|s,At=a+e}else Tt=1<<a|r<<l|s,At=e}function Ai(e){e.return!==null&&(vn(e,1),Eu(e,1,0))}function Mi(e){for(;e===ll;)ll=Qn[--qn],Qn[qn]=null,al=Qn[--qn],Qn[qn]=null;for(;e===Cn;)Cn=st[--lt],st[lt]=null,At=st[--lt],st[lt]=null,Tt=st[--lt],st[lt]=null}var Ze=null,Je=null,he=!1,pt=null;function Pu(e,t){var r=at(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Pc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Je=nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cn!==null?{id:Tt,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=at(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ze=e,Je=null,!0):!1;default:return!1}}function Wa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Va(e){if(he){var t=Je;if(t){var r=t;if(!Pc(e,t)){if(Wa(e))throw Error(T(418));t=nn(r.nextSibling);var s=Ze;t&&Pc(e,t)?Pu(s,r):(e.flags=e.flags&-4097|2,he=!1,Ze=e)}}else{if(Wa(e))throw Error(T(418));e.flags=e.flags&-4097|2,he=!1,Ze=e}}}function Lc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function Ps(e){if(e!==Ze)return!1;if(!he)return Lc(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ua(e.type,e.memoizedProps)),t&&(t=Je)){if(Wa(e))throw Lu(),Error(T(418));for(;t;)Pu(e,t),t=nn(t.nextSibling)}if(Lc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Je=nn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=Ze?nn(e.stateNode.nextSibling):null;return!0}function Lu(){for(var e=Je;e;)e=nn(e.nextSibling)}function ar(){Je=Ze=null,he=!1}function Di(e){pt===null?pt=[e]:pt.push(e)}var mp=Ut.ReactCurrentBatchConfig;function Nr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var s=r.stateNode}if(!s)throw Error(T(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var c=l.refs;i===null?delete c[a]:c[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function Ls(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _c(e){var t=e._init;return t(e._payload)}function _u(e){function t(f,m){if(e){var u=f.deletions;u===null?(f.deletions=[m],f.flags|=16):u.push(m)}}function r(f,m){if(!e)return null;for(;m!==null;)t(f,m),m=m.sibling;return null}function s(f,m){for(f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function l(f,m){return f=an(f,m),f.index=0,f.sibling=null,f}function a(f,m,u){return f.index=u,e?(u=f.alternate,u!==null?(u=u.index,u<m?(f.flags|=2,m):u):(f.flags|=2,m)):(f.flags|=1048576,m)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function c(f,m,u,N){return m===null||m.tag!==6?(m=ua(u,f.mode,N),m.return=f,m):(m=l(m,u),m.return=f,m)}function o(f,m,u,N){var j=u.type;return j===$n?x(f,m,u.props.children,N,u.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Qt&&_c(j)===m.type)?(N=l(m,u.props),N.ref=Nr(f,m,u),N.return=f,N):(N=qs(u.type,u.key,u.props,null,f.mode,N),N.ref=Nr(f,m,u),N.return=f,N)}function d(f,m,u,N){return m===null||m.tag!==4||m.stateNode.containerInfo!==u.containerInfo||m.stateNode.implementation!==u.implementation?(m=ma(u,f.mode,N),m.return=f,m):(m=l(m,u.children||[]),m.return=f,m)}function x(f,m,u,N,j){return m===null||m.tag!==7?(m=kn(u,f.mode,N,j),m.return=f,m):(m=l(m,u),m.return=f,m)}function h(f,m,u){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ua(""+m,f.mode,u),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case vs:return u=qs(m.type,m.key,m.props,null,f.mode,u),u.ref=Nr(f,null,m),u.return=f,u;case Un:return m=ma(m,f.mode,u),m.return=f,m;case Qt:var N=m._init;return h(f,N(m._payload),u)}if(_r(m)||vr(m))return m=kn(m,f.mode,u,null),m.return=f,m;Ls(f,m)}return null}function g(f,m,u,N){var j=m!==null?m.key:null;if(typeof u=="string"&&u!==""||typeof u=="number")return j!==null?null:c(f,m,""+u,N);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case vs:return u.key===j?o(f,m,u,N):null;case Un:return u.key===j?d(f,m,u,N):null;case Qt:return j=u._init,g(f,m,j(u._payload),N)}if(_r(u)||vr(u))return j!==null?null:x(f,m,u,N,null);Ls(f,u)}return null}function b(f,m,u,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return f=f.get(u)||null,c(m,f,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case vs:return f=f.get(N.key===null?u:N.key)||null,o(m,f,N,j);case Un:return f=f.get(N.key===null?u:N.key)||null,d(m,f,N,j);case Qt:var P=N._init;return b(f,m,u,P(N._payload),j)}if(_r(N)||vr(N))return f=f.get(u)||null,x(m,f,N,j,null);Ls(m,N)}return null}function w(f,m,u,N){for(var j=null,P=null,L=m,S=m=0,M=null;L!==null&&S<u.length;S++){L.index>S?(M=L,L=null):M=L.sibling;var D=g(f,L,u[S],N);if(D===null){L===null&&(L=M);break}e&&L&&D.alternate===null&&t(f,L),m=a(D,m,S),P===null?j=D:P.sibling=D,P=D,L=M}if(S===u.length)return r(f,L),he&&vn(f,S),j;if(L===null){for(;S<u.length;S++)L=h(f,u[S],N),L!==null&&(m=a(L,m,S),P===null?j=L:P.sibling=L,P=L);return he&&vn(f,S),j}for(L=s(f,L);S<u.length;S++)M=b(L,f,S,u[S],N),M!==null&&(e&&M.alternate!==null&&L.delete(M.key===null?S:M.key),m=a(M,m,S),P===null?j=M:P.sibling=M,P=M);return e&&L.forEach(function(U){return t(f,U)}),he&&vn(f,S),j}function y(f,m,u,N){var j=vr(u);if(typeof j!="function")throw Error(T(150));if(u=j.call(u),u==null)throw Error(T(151));for(var P=j=null,L=m,S=m=0,M=null,D=u.next();L!==null&&!D.done;S++,D=u.next()){L.index>S?(M=L,L=null):M=L.sibling;var U=g(f,L,D.value,N);if(U===null){L===null&&(L=M);break}e&&L&&U.alternate===null&&t(f,L),m=a(U,m,S),P===null?j=U:P.sibling=U,P=U,L=M}if(D.done)return r(f,L),he&&vn(f,S),j;if(L===null){for(;!D.done;S++,D=u.next())D=h(f,D.value,N),D!==null&&(m=a(D,m,S),P===null?j=D:P.sibling=D,P=D);return he&&vn(f,S),j}for(L=s(f,L);!D.done;S++,D=u.next())D=b(L,f,S,D.value,N),D!==null&&(e&&D.alternate!==null&&L.delete(D.key===null?S:D.key),m=a(D,m,S),P===null?j=D:P.sibling=D,P=D);return e&&L.forEach(function(W){return t(f,W)}),he&&vn(f,S),j}function k(f,m,u,N){if(typeof u=="object"&&u!==null&&u.type===$n&&u.key===null&&(u=u.props.children),typeof u=="object"&&u!==null){switch(u.$$typeof){case vs:e:{for(var j=u.key,P=m;P!==null;){if(P.key===j){if(j=u.type,j===$n){if(P.tag===7){r(f,P.sibling),m=l(P,u.props.children),m.return=f,f=m;break e}}else if(P.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Qt&&_c(j)===P.type){r(f,P.sibling),m=l(P,u.props),m.ref=Nr(f,P,u),m.return=f,f=m;break e}r(f,P);break}else t(f,P);P=P.sibling}u.type===$n?(m=kn(u.props.children,f.mode,N,u.key),m.return=f,f=m):(N=qs(u.type,u.key,u.props,null,f.mode,N),N.ref=Nr(f,m,u),N.return=f,f=N)}return i(f);case Un:e:{for(P=u.key;m!==null;){if(m.key===P)if(m.tag===4&&m.stateNode.containerInfo===u.containerInfo&&m.stateNode.implementation===u.implementation){r(f,m.sibling),m=l(m,u.children||[]),m.return=f,f=m;break e}else{r(f,m);break}else t(f,m);m=m.sibling}m=ma(u,f.mode,N),m.return=f,f=m}return i(f);case Qt:return P=u._init,k(f,m,P(u._payload),N)}if(_r(u))return w(f,m,u,N);if(vr(u))return y(f,m,u,N);Ls(f,u)}return typeof u=="string"&&u!==""||typeof u=="number"?(u=""+u,m!==null&&m.tag===6?(r(f,m.sibling),m=l(m,u),m.return=f,f=m):(r(f,m),m=ua(u,f.mode,N),m.return=f,f=m),i(f)):r(f,m)}return k}var ir=_u(!0),Ru=_u(!1),il=mn(null),ol=null,Gn=null,zi=null;function Fi(){zi=Gn=ol=null}function Ii(e){var t=il.current;ue(il),e._currentValue=t}function Ha(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function nr(e,t){ol=e,zi=Gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(zi!==e)if(e={context:e,memoizedValue:t,next:null},Gn===null){if(ol===null)throw Error(T(308));Gn=e,ol.dependencies={lanes:0,firstContext:e}}else Gn=Gn.next=e;return t}var jn=null;function Ui(e){jn===null?jn=[e]:jn.push(e)}function Tu(e,t,r,s){var l=t.interleaved;return l===null?(r.next=r,Ui(t)):(r.next=l.next,l.next=r),t.interleaved=r,Ft(e,s)}function Ft(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qt=!1;function $i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Au(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ne&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Ft(e,r)}return l=s.interleaved,l===null?(t.next=t,Ui(s)):(t.next=l.next,l.next=t),s.interleaved=t,Ft(e,r)}function Bs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Si(e,r)}}function Rc(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var l=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?l=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?l=a=t:a=a.next=t}else l=a=t;r={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function cl(e,t,r,s){var l=e.updateQueue;qt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var o=c,d=o.next;o.next=null,i===null?a=d:i.next=d,i=o;var x=e.alternate;x!==null&&(x=x.updateQueue,c=x.lastBaseUpdate,c!==i&&(c===null?x.firstBaseUpdate=d:c.next=d,x.lastBaseUpdate=o))}if(a!==null){var h=l.baseState;i=0,x=d=o=null,c=a;do{var g=c.lane,b=c.eventTime;if((s&g)===g){x!==null&&(x=x.next={eventTime:b,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var w=e,y=c;switch(g=t,b=r,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(b,h,g);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,g=typeof w=="function"?w.call(b,h,g):w,g==null)break e;h=xe({},h,g);break e;case 2:qt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[c]:g.push(c))}else b={eventTime:b,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},x===null?(d=x=b,o=h):x=x.next=b,i|=g;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;g=c,c=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(x===null&&(o=h),l.baseState=o,l.firstBaseUpdate=d,l.lastBaseUpdate=x,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);Pn|=i,e.lanes=i,e.memoizedState=h}}function Tc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=r,typeof l!="function")throw Error(T(191,l));l.call(s)}}}var us={},Nt=mn(us),Zr=mn(us),es=mn(us);function bn(e){if(e===us)throw Error(T(174));return e}function Bi(e,t){switch(oe(es,t),oe(Zr,e),oe(Nt,us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sa(t,e)}ue(Nt),oe(Nt,t)}function or(){ue(Nt),ue(Zr),ue(es)}function Mu(e){bn(es.current);var t=bn(Nt.current),r=Sa(t,e.type);t!==r&&(oe(Zr,e),oe(Nt,r))}function Oi(e){Zr.current===e&&(ue(Nt),ue(Zr))}var pe=mn(0);function dl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function Wi(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var Os=Ut.ReactCurrentDispatcher,aa=Ut.ReactCurrentBatchConfig,En=0,fe=null,Ee=null,Le=null,ul=!1,Ir=!1,ts=0,hp=0;function De(){throw Error(T(321))}function Vi(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gt(e[r],t[r]))return!1;return!0}function Hi(e,t,r,s,l,a){if(En=a,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Os.current=e===null||e.memoizedState===null?gp:vp,e=r(s,l),Ir){a=0;do{if(Ir=!1,ts=0,25<=a)throw Error(T(301));a+=1,Le=Ee=null,t.updateQueue=null,Os.current=yp,e=r(s,l)}while(Ir)}if(Os.current=ml,t=Ee!==null&&Ee.next!==null,En=0,Le=Ee=fe=null,ul=!1,t)throw Error(T(300));return e}function Qi(){var e=ts!==0;return ts=0,e}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?fe.memoizedState=Le=e:Le=Le.next=e,Le}function ct(){if(Ee===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Le===null?fe.memoizedState:Le.next;if(t!==null)Le=t,Ee=e;else{if(e===null)throw Error(T(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Le===null?fe.memoizedState=Le=e:Le=Le.next=e}return Le}function ns(e,t){return typeof t=="function"?t(e):t}function ia(e){var t=ct(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var s=Ee,l=s.baseQueue,a=r.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}s.baseQueue=l=a,r.pending=null}if(l!==null){a=l.next,s=s.baseState;var c=i=null,o=null,d=a;do{var x=d.lane;if((En&x)===x)o!==null&&(o=o.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:x,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};o===null?(c=o=h,i=s):o=o.next=h,fe.lanes|=x,Pn|=x}d=d.next}while(d!==null&&d!==a);o===null?i=s:o.next=c,gt(s,t.memoizedState)||(qe=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=o,r.lastRenderedState=s}if(e=r.interleaved,e!==null){l=e;do a=l.lane,fe.lanes|=a,Pn|=a,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function oa(e){var t=ct(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var s=r.dispatch,l=r.pending,a=t.memoizedState;if(l!==null){r.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);gt(a,t.memoizedState)||(qe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,s]}function Du(){}function zu(e,t){var r=fe,s=ct(),l=t(),a=!gt(s.memoizedState,l);if(a&&(s.memoizedState=l,qe=!0),s=s.queue,qi(Uu.bind(null,r,s,e),[e]),s.getSnapshot!==t||a||Le!==null&&Le.memoizedState.tag&1){if(r.flags|=2048,rs(9,Iu.bind(null,r,s,l,t),void 0,null),_e===null)throw Error(T(349));En&30||Fu(r,t,l)}return l}function Fu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Iu(e,t,r,s){t.value=r,t.getSnapshot=s,$u(t)&&Bu(e)}function Uu(e,t,r){return r(function(){$u(t)&&Bu(e)})}function $u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gt(e,r)}catch{return!0}}function Bu(e){var t=Ft(e,1);t!==null&&xt(t,e,1,-1)}function Ac(e){var t=wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:e},t.queue=e,e=e.dispatch=xp.bind(null,fe,e),[t.memoizedState,e]}function rs(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Ou(){return ct().memoizedState}function Ws(e,t,r,s){var l=wt();fe.flags|=e,l.memoizedState=rs(1|t,r,void 0,s===void 0?null:s)}function Cl(e,t,r,s){var l=ct();s=s===void 0?null:s;var a=void 0;if(Ee!==null){var i=Ee.memoizedState;if(a=i.destroy,s!==null&&Vi(s,i.deps)){l.memoizedState=rs(t,r,a,s);return}}fe.flags|=e,l.memoizedState=rs(1|t,r,a,s)}function Mc(e,t){return Ws(8390656,8,e,t)}function qi(e,t){return Cl(2048,8,e,t)}function Wu(e,t){return Cl(4,2,e,t)}function Vu(e,t){return Cl(4,4,e,t)}function Hu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qu(e,t,r){return r=r!=null?r.concat([e]):null,Cl(4,4,Hu.bind(null,t,e),r)}function Gi(){}function qu(e,t){var r=ct();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Vi(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Gu(e,t){var r=ct();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Vi(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Yu(e,t,r){return En&21?(gt(r,t)||(r=eu(),fe.lanes|=r,Pn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=r)}function pp(e,t){var r=ie;ie=r!==0&&4>r?r:4,e(!0);var s=aa.transition;aa.transition={};try{e(!1),t()}finally{ie=r,aa.transition=s}}function Ku(){return ct().memoizedState}function fp(e,t,r){var s=ln(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Xu(e))Ju(t,r);else if(r=Tu(e,t,r,s),r!==null){var l=We();xt(r,e,s,l),Zu(r,t,s)}}function xp(e,t,r){var s=ln(e),l={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))Ju(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,c=a(i,r);if(l.hasEagerState=!0,l.eagerState=c,gt(c,i)){var o=t.interleaved;o===null?(l.next=l,Ui(t)):(l.next=o.next,o.next=l),t.interleaved=l;return}}catch{}finally{}r=Tu(e,t,l,s),r!==null&&(l=We(),xt(r,e,s,l),Zu(r,t,s))}}function Xu(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Ju(e,t){Ir=ul=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Zu(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Si(e,r)}}var ml={readContext:ot,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},gp={readContext:ot,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Mc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ws(4194308,4,Hu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ws(4,2,e,t)},useMemo:function(e,t){var r=wt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=wt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=fp.bind(null,fe,e),[s.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:Ac,useDebugValue:Gi,useDeferredValue:function(e){return wt().memoizedState=e},useTransition:function(){var e=Ac(!1),t=e[0];return e=pp.bind(null,e[1]),wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=fe,l=wt();if(he){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),_e===null)throw Error(T(349));En&30||Fu(s,t,r)}l.memoizedState=r;var a={value:r,getSnapshot:t};return l.queue=a,Mc(Uu.bind(null,s,a,e),[e]),s.flags|=2048,rs(9,Iu.bind(null,s,a,r,t),void 0,null),r},useId:function(){var e=wt(),t=_e.identifierPrefix;if(he){var r=At,s=Tt;r=(s&~(1<<32-ft(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=ts++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=hp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vp={readContext:ot,useCallback:qu,useContext:ot,useEffect:qi,useImperativeHandle:Qu,useInsertionEffect:Wu,useLayoutEffect:Vu,useMemo:Gu,useReducer:ia,useRef:Ou,useState:function(){return ia(ns)},useDebugValue:Gi,useDeferredValue:function(e){var t=ct();return Yu(t,Ee.memoizedState,e)},useTransition:function(){var e=ia(ns)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Du,useSyncExternalStore:zu,useId:Ku,unstable_isNewReconciler:!1},yp={readContext:ot,useCallback:qu,useContext:ot,useEffect:qi,useImperativeHandle:Qu,useInsertionEffect:Wu,useLayoutEffect:Vu,useMemo:Gu,useReducer:oa,useRef:Ou,useState:function(){return oa(ns)},useDebugValue:Gi,useDeferredValue:function(e){var t=ct();return Ee===null?t.memoizedState=e:Yu(t,Ee.memoizedState,e)},useTransition:function(){var e=oa(ns)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Du,useSyncExternalStore:zu,useId:Ku,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Qa(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:xe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var El={isMounted:function(e){return(e=e._reactInternals)?Rn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=We(),l=ln(e),a=Mt(s,l);a.payload=t,r!=null&&(a.callback=r),t=rn(e,a,l),t!==null&&(xt(t,e,l,s),Bs(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=We(),l=ln(e),a=Mt(s,l);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=rn(e,a,l),t!==null&&(xt(t,e,l,s),Bs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=We(),s=ln(e),l=Mt(r,s);l.tag=2,t!=null&&(l.callback=t),t=rn(e,l,s),t!==null&&(xt(t,e,s,r),Bs(t,e,s))}};function Dc(e,t,r,s,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!Yr(r,s)||!Yr(l,a):!0}function em(e,t,r){var s=!1,l=dn,a=t.contextType;return typeof a=="object"&&a!==null?a=ot(a):(l=Ye(t)?Sn:Ie.current,s=t.contextTypes,a=(s=s!=null)?lr(e,l):dn),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=El,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function zc(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&El.enqueueReplaceState(t,t.state,null)}function qa(e,t,r,s){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},$i(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=ot(a):(a=Ye(t)?Sn:Ie.current,l.context=lr(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Qa(e,t,a,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&El.enqueueReplaceState(l,l.state,null),cl(e,r,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function cr(e,t){try{var r="",s=t;do r+=qh(s),s=s.return;while(s);var l=r}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function ca(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ga(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wp=typeof WeakMap=="function"?WeakMap:Map;function tm(e,t,r){r=Mt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){pl||(pl=!0,si=s),Ga(e,t)},r}function nm(e,t,r){r=Mt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;r.payload=function(){return s(l)},r.callback=function(){Ga(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ga(e,t),typeof s!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Fc(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new wp;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(r)||(l.add(r),e=Mp.bind(null,e,t,r),t.then(e,e))}function Ic(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uc(e,t,r,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mt(-1,1),t.tag=2,rn(r,t,1))),r.lanes|=1),e)}var jp=Ut.ReactCurrentOwner,qe=!1;function Be(e,t,r,s){t.child=e===null?Ru(t,null,r,s):ir(t,e.child,r,s)}function $c(e,t,r,s,l){r=r.render;var a=t.ref;return nr(t,l),s=Hi(e,t,r,s,a,l),r=Qi(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,It(e,t,l)):(he&&r&&Ai(t),t.flags|=1,Be(e,t,s,l),t.child)}function Bc(e,t,r,s,l){if(e===null){var a=r.type;return typeof a=="function"&&!no(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,rm(e,t,a,s,l)):(e=qs(r.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Yr,r(i,s)&&e.ref===t.ref)return It(e,t,l)}return t.flags|=1,e=an(a,s),e.ref=t.ref,e.return=t,t.child=e}function rm(e,t,r,s,l){if(e!==null){var a=e.memoizedProps;if(Yr(a,s)&&e.ref===t.ref)if(qe=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,It(e,t,l)}return Ya(e,t,r,s,l)}function sm(e,t,r){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Kn,Xe),Xe|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(Kn,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:r,oe(Kn,Xe),Xe|=s}else a!==null?(s=a.baseLanes|r,t.memoizedState=null):s=r,oe(Kn,Xe),Xe|=s;return Be(e,t,l,r),t.child}function lm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ya(e,t,r,s,l){var a=Ye(r)?Sn:Ie.current;return a=lr(t,a),nr(t,l),r=Hi(e,t,r,s,a,l),s=Qi(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,It(e,t,l)):(he&&s&&Ai(t),t.flags|=1,Be(e,t,r,l),t.child)}function Oc(e,t,r,s,l){if(Ye(r)){var a=!0;sl(t)}else a=!1;if(nr(t,l),t.stateNode===null)Vs(e,t),em(t,r,s),qa(t,r,s,l),s=!0;else if(e===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var o=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=ot(d):(d=Ye(r)?Sn:Ie.current,d=lr(t,d));var x=r.getDerivedStateFromProps,h=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==s||o!==d)&&zc(t,i,s,d),qt=!1;var g=t.memoizedState;i.state=g,cl(t,s,i,l),o=t.memoizedState,c!==s||g!==o||Ge.current||qt?(typeof x=="function"&&(Qa(t,r,x,s),o=t.memoizedState),(c=qt||Dc(t,r,c,s,g,o,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=o),i.props=s,i.state=o,i.context=d,s=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Au(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:mt(t.type,c),i.props=d,h=t.pendingProps,g=i.context,o=r.contextType,typeof o=="object"&&o!==null?o=ot(o):(o=Ye(r)?Sn:Ie.current,o=lr(t,o));var b=r.getDerivedStateFromProps;(x=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==h||g!==o)&&zc(t,i,s,o),qt=!1,g=t.memoizedState,i.state=g,cl(t,s,i,l);var w=t.memoizedState;c!==h||g!==w||Ge.current||qt?(typeof b=="function"&&(Qa(t,r,b,s),w=t.memoizedState),(d=qt||Dc(t,r,d,s,g,w,o)||!1)?(x||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,w,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,w,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=w),i.props=s,i.state=w,i.context=o,s=d):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return Ka(e,t,r,s,a,l)}function Ka(e,t,r,s,l,a){lm(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&Ec(t,r,!1),It(e,t,a);s=t.stateNode,jp.current=t;var c=i&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=ir(t,e.child,null,a),t.child=ir(t,null,c,a)):Be(e,t,c,a),t.memoizedState=s.state,l&&Ec(t,r,!0),t.child}function am(e){var t=e.stateNode;t.pendingContext?Cc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cc(e,t.context,!1),Bi(e,t.containerInfo)}function Wc(e,t,r,s,l){return ar(),Di(l),t.flags|=256,Be(e,t,r,s),t.child}var Xa={dehydrated:null,treeContext:null,retryLane:0};function Ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function im(e,t,r){var s=t.pendingProps,l=pe.current,a=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(l&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),oe(pe,l&1),e===null)return Va(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=_l(i,s,0,null),e=kn(e,s,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ja(r),t.memoizedState=Xa,e):Yi(t,i));if(l=e.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return bp(e,t,i,s,c,l,r);if(a){a=s.fallback,i=t.mode,l=e.child,c=l.sibling;var o={mode:"hidden",children:s.children};return!(i&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=o,t.deletions=null):(s=an(l,o),s.subtreeFlags=l.subtreeFlags&14680064),c!==null?a=an(c,a):(a=kn(a,i,r,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?Ja(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Xa,s}return a=e.child,e=a.sibling,s=an(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Yi(e,t){return t=_l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _s(e,t,r,s){return s!==null&&Di(s),ir(t,e.child,null,r),e=Yi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bp(e,t,r,s,l,a,i){if(r)return t.flags&256?(t.flags&=-257,s=ca(Error(T(422))),_s(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=_l({mode:"visible",children:s.children},l,0,null),a=kn(a,l,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&ir(t,e.child,null,i),t.child.memoizedState=Ja(i),t.memoizedState=Xa,a);if(!(t.mode&1))return _s(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var c=s.dgst;return s=c,a=Error(T(419)),s=ca(a,s,void 0),_s(e,t,i,s)}if(c=(i&e.childLanes)!==0,qe||c){if(s=_e,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Ft(e,l),xt(s,e,l,-1))}return to(),s=ca(Error(T(421))),_s(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Dp.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Je=nn(l.nextSibling),Ze=t,he=!0,pt=null,e!==null&&(st[lt++]=Tt,st[lt++]=At,st[lt++]=Cn,Tt=e.id,At=e.overflow,Cn=t),t=Yi(t,s.children),t.flags|=4096,t)}function Vc(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ha(e.return,t,r)}function da(e,t,r,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=r,a.tailMode=l)}function om(e,t,r){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(Be(e,t,s.children,r),s=pe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vc(e,r,t);else if(e.tag===19)Vc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(oe(pe,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&dl(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),da(t,!1,l,r,a);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&dl(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}da(t,!0,r,null,a);break;case"together":da(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function It(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=an(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=an(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Np(e,t,r){switch(t.tag){case 3:am(t),ar();break;case 5:Mu(t);break;case 1:Ye(t.type)&&sl(t);break;case 4:Bi(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;oe(il,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(oe(pe,pe.current&1),t.flags|=128,null):r&t.child.childLanes?im(e,t,r):(oe(pe,pe.current&1),e=It(e,t,r),e!==null?e.sibling:null);oe(pe,pe.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return om(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),oe(pe,pe.current),s)break;return null;case 22:case 23:return t.lanes=0,sm(e,t,r)}return It(e,t,r)}var cm,Za,dm,um;cm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Za=function(){};dm=function(e,t,r,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,bn(Nt.current);var a=null;switch(r){case"input":l=ja(e,l),s=ja(e,s),a=[];break;case"select":l=xe({},l,{value:void 0}),s=xe({},s,{value:void 0}),a=[];break;case"textarea":l=ka(e,l),s=ka(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=nl)}Ca(r,s);var i;r=null;for(d in l)if(!s.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var c=l[d];for(i in c)c.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Or.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var o=s[d];if(c=l!=null?l[d]:void 0,s.hasOwnProperty(d)&&o!==c&&(o!=null||c!=null))if(d==="style")if(c){for(i in c)!c.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in o)o.hasOwnProperty(i)&&c[i]!==o[i]&&(r||(r={}),r[i]=o[i])}else r||(a||(a=[]),a.push(d,r)),r=o;else d==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(a=a||[]).push(d,o)):d==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(d,""+o):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Or.hasOwnProperty(d)?(o!=null&&d==="onScroll"&&de("scroll",e),a||c===o||(a=[])):(a=a||[]).push(d,o))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};um=function(e,t,r,s){r!==s&&(t.flags|=4)};function kr(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function kp(e,t,r){var s=t.pendingProps;switch(Mi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Ye(t.type)&&rl(),ze(t),null;case 3:return s=t.stateNode,or(),ue(Ge),ue(Ie),Wi(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pt!==null&&(ii(pt),pt=null))),Za(e,t),ze(t),null;case 5:Oi(t);var l=bn(es.current);if(r=t.type,e!==null&&t.stateNode!=null)dm(e,t,r,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(T(166));return ze(t),null}if(e=bn(Nt.current),Ps(t)){s=t.stateNode,r=t.type;var a=t.memoizedProps;switch(s[jt]=t,s[Jr]=a,e=(t.mode&1)!==0,r){case"dialog":de("cancel",s),de("close",s);break;case"iframe":case"object":case"embed":de("load",s);break;case"video":case"audio":for(l=0;l<Tr.length;l++)de(Tr[l],s);break;case"source":de("error",s);break;case"img":case"image":case"link":de("error",s),de("load",s);break;case"details":de("toggle",s);break;case"input":Zo(s,a),de("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},de("invalid",s);break;case"textarea":tc(s,a),de("invalid",s)}Ca(r,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="children"?typeof c=="string"?s.textContent!==c&&(a.suppressHydrationWarning!==!0&&Es(s.textContent,c,e),l=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Es(s.textContent,c,e),l=["children",""+c]):Or.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&de("scroll",s)}switch(r){case"input":ys(s),ec(s,a,!0);break;case"textarea":ys(s),nc(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=nl)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ud(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(r,{is:s.is}):(e=i.createElement(r),r==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,r),e[jt]=t,e[Jr]=s,cm(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ea(r,s),r){case"dialog":de("cancel",e),de("close",e),l=s;break;case"iframe":case"object":case"embed":de("load",e),l=s;break;case"video":case"audio":for(l=0;l<Tr.length;l++)de(Tr[l],e);l=s;break;case"source":de("error",e),l=s;break;case"img":case"image":case"link":de("error",e),de("load",e),l=s;break;case"details":de("toggle",e),l=s;break;case"input":Zo(e,s),l=ja(e,s),de("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=xe({},s,{value:void 0}),de("invalid",e);break;case"textarea":tc(e,s),l=ka(e,s),de("invalid",e);break;default:l=s}Ca(r,l),c=l;for(a in c)if(c.hasOwnProperty(a)){var o=c[a];a==="style"?Od(e,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&$d(e,o)):a==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&Wr(e,o):typeof o=="number"&&Wr(e,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Or.hasOwnProperty(a)?o!=null&&a==="onScroll"&&de("scroll",e):o!=null&&yi(e,a,o,i))}switch(r){case"input":ys(e),ec(e,s,!1);break;case"textarea":ys(e),nc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+cn(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Jn(e,!!s.multiple,a,!1):s.defaultValue!=null&&Jn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=nl)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)um(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(T(166));if(r=bn(es.current),bn(Nt.current),Ps(t)){if(s=t.stateNode,r=t.memoizedProps,s[jt]=t,(a=s.nodeValue!==r)&&(e=Ze,e!==null))switch(e.tag){case 3:Es(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Es(s.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[jt]=t,t.stateNode=s}return ze(t),null;case 13:if(ue(pe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&Je!==null&&t.mode&1&&!(t.flags&128))Lu(),ar(),t.flags|=98560,a=!1;else if(a=Ps(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(T(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(T(317));a[jt]=t}else ar(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),a=!1}else pt!==null&&(ii(pt),pt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Pe===0&&(Pe=3):to())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return or(),Za(e,t),e===null&&Kr(t.stateNode.containerInfo),ze(t),null;case 10:return Ii(t.type._context),ze(t),null;case 17:return Ye(t.type)&&rl(),ze(t),null;case 19:if(ue(pe),a=t.memoizedState,a===null)return ze(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)kr(a,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=dl(e),i!==null){for(t.flags|=128,kr(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)a=r,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return oe(pe,pe.current&1|2),t.child}e=e.sibling}a.tail!==null&&we()>dr&&(t.flags|=128,s=!0,kr(a,!1),t.lanes=4194304)}else{if(!s)if(e=dl(i),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),kr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!he)return ze(t),null}else 2*we()-a.renderingStartTime>dr&&r!==1073741824&&(t.flags|=128,s=!0,kr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=we(),t.sibling=null,r=pe.current,oe(pe,s?r&1|2:r&1),t):(ze(t),null);case 22:case 23:return eo(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Xe&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Sp(e,t){switch(Mi(t),t.tag){case 1:return Ye(t.type)&&rl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return or(),ue(Ge),ue(Ie),Wi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Oi(t),null;case 13:if(ue(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(pe),null;case 4:return or(),null;case 10:return Ii(t.type._context),null;case 22:case 23:return eo(),null;case 24:return null;default:return null}}var Rs=!1,Fe=!1,Cp=typeof WeakSet=="function"?WeakSet:Set,$=null;function Yn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){ve(e,t,s)}else r.current=null}function ei(e,t,r){try{r()}catch(s){ve(e,t,s)}}var Hc=!1;function Ep(e,t){if(Fa=Zs,e=xu(),Ti(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,c=-1,o=-1,d=0,x=0,h=e,g=null;t:for(;;){for(var b;h!==r||l!==0&&h.nodeType!==3||(c=i+l),h!==a||s!==0&&h.nodeType!==3||(o=i+s),h.nodeType===3&&(i+=h.nodeValue.length),(b=h.firstChild)!==null;)g=h,h=b;for(;;){if(h===e)break t;if(g===r&&++d===l&&(c=i),g===a&&++x===s&&(o=i),(b=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=b}r=c===-1||o===-1?null:{start:c,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ia={focusedElem:e,selectionRange:r},Zs=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,k=w.memoizedState,f=t.stateNode,m=f.getSnapshotBeforeUpdate(t.elementType===t.type?y:mt(t.type,y),k);f.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var u=t.stateNode.containerInfo;u.nodeType===1?u.textContent="":u.nodeType===9&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(N){ve(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return w=Hc,Hc=!1,w}function Ur(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&ei(t,r,a)}l=l.next}while(l!==s)}}function Pl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function ti(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function mm(e){var t=e.alternate;t!==null&&(e.alternate=null,mm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[Jr],delete t[Ba],delete t[cp],delete t[dp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hm(e){return e.tag===5||e.tag===3||e.tag===4}function Qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ni(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=nl));else if(s!==4&&(e=e.child,e!==null))for(ni(e,t,r),e=e.sibling;e!==null;)ni(e,t,r),e=e.sibling}function ri(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ri(e,t,r),e=e.sibling;e!==null;)ri(e,t,r),e=e.sibling}var Te=null,ht=!1;function Ht(e,t,r){for(r=r.child;r!==null;)pm(e,t,r),r=r.sibling}function pm(e,t,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(wl,r)}catch{}switch(r.tag){case 5:Fe||Yn(r,t);case 6:var s=Te,l=ht;Te=null,Ht(e,t,r),Te=s,ht=l,Te!==null&&(ht?(e=Te,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Te.removeChild(r.stateNode));break;case 18:Te!==null&&(ht?(e=Te,r=r.stateNode,e.nodeType===8?ra(e.parentNode,r):e.nodeType===1&&ra(e,r),qr(e)):ra(Te,r.stateNode));break;case 4:s=Te,l=ht,Te=r.stateNode.containerInfo,ht=!0,Ht(e,t,r),Te=s,ht=l;break;case 0:case 11:case 14:case 15:if(!Fe&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&ei(r,t,i),l=l.next}while(l!==s)}Ht(e,t,r);break;case 1:if(!Fe&&(Yn(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(c){ve(r,t,c)}Ht(e,t,r);break;case 21:Ht(e,t,r);break;case 22:r.mode&1?(Fe=(s=Fe)||r.memoizedState!==null,Ht(e,t,r),Fe=s):Ht(e,t,r);break;default:Ht(e,t,r)}}function qc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Cp),t.forEach(function(s){var l=zp.bind(null,e,s);r.has(s)||(r.add(s),s.then(l,l))})}}function ut(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];try{var a=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:Te=c.stateNode,ht=!1;break e;case 3:Te=c.stateNode.containerInfo,ht=!0;break e;case 4:Te=c.stateNode.containerInfo,ht=!0;break e}c=c.return}if(Te===null)throw Error(T(160));pm(a,i,l),Te=null,ht=!1;var o=l.alternate;o!==null&&(o.return=null),l.return=null}catch(d){ve(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fm(t,e),t=t.sibling}function fm(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),yt(e),s&4){try{Ur(3,e,e.return),Pl(3,e)}catch(y){ve(e,e.return,y)}try{Ur(5,e,e.return)}catch(y){ve(e,e.return,y)}}break;case 1:ut(t,e),yt(e),s&512&&r!==null&&Yn(r,r.return);break;case 5:if(ut(t,e),yt(e),s&512&&r!==null&&Yn(r,r.return),e.flags&32){var l=e.stateNode;try{Wr(l,"")}catch(y){ve(e,e.return,y)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Fd(l,a),Ea(c,i);var d=Ea(c,a);for(i=0;i<o.length;i+=2){var x=o[i],h=o[i+1];x==="style"?Od(l,h):x==="dangerouslySetInnerHTML"?$d(l,h):x==="children"?Wr(l,h):yi(l,x,h,d)}switch(c){case"input":ba(l,a);break;case"textarea":Id(l,a);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?Jn(l,!!a.multiple,b,!1):g!==!!a.multiple&&(a.defaultValue!=null?Jn(l,!!a.multiple,a.defaultValue,!0):Jn(l,!!a.multiple,a.multiple?[]:"",!1))}l[Jr]=a}catch(y){ve(e,e.return,y)}}break;case 6:if(ut(t,e),yt(e),s&4){if(e.stateNode===null)throw Error(T(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(y){ve(e,e.return,y)}}break;case 3:if(ut(t,e),yt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{qr(t.containerInfo)}catch(y){ve(e,e.return,y)}break;case 4:ut(t,e),yt(e);break;case 13:ut(t,e),yt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Ji=we())),s&4&&qc(e);break;case 22:if(x=r!==null&&r.memoizedState!==null,e.mode&1?(Fe=(d=Fe)||x,ut(t,e),Fe=d):ut(t,e),yt(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!x&&e.mode&1)for($=e,x=e.child;x!==null;){for(h=$=x;$!==null;){switch(g=$,b=g.child,g.tag){case 0:case 11:case 14:case 15:Ur(4,g,g.return);break;case 1:Yn(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){s=g,r=g.return;try{t=s,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){ve(s,r,y)}}break;case 5:Yn(g,g.return);break;case 22:if(g.memoizedState!==null){Yc(h);continue}}b!==null?(b.return=g,$=b):Yc(h)}x=x.sibling}e:for(x=null,h=e;;){if(h.tag===5){if(x===null){x=h;try{l=h.stateNode,d?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=h.stateNode,o=h.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=Bd("display",i))}catch(y){ve(e,e.return,y)}}}else if(h.tag===6){if(x===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(y){ve(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ut(t,e),yt(e),s&4&&qc(e);break;case 21:break;default:ut(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(hm(r)){var s=r;break e}r=r.return}throw Error(T(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Wr(l,""),s.flags&=-33);var a=Qc(e);ri(e,a,l);break;case 3:case 4:var i=s.stateNode.containerInfo,c=Qc(e);ni(e,c,i);break;default:throw Error(T(161))}}catch(o){ve(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pp(e,t,r){$=e,xm(e)}function xm(e,t,r){for(var s=(e.mode&1)!==0;$!==null;){var l=$,a=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||Rs;if(!i){var c=l.alternate,o=c!==null&&c.memoizedState!==null||Fe;c=Rs;var d=Fe;if(Rs=i,(Fe=o)&&!d)for($=l;$!==null;)i=$,o=i.child,i.tag===22&&i.memoizedState!==null?Kc(l):o!==null?(o.return=i,$=o):Kc(l);for(;a!==null;)$=a,xm(a),a=a.sibling;$=l,Rs=c,Fe=d}Gc(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,$=a):Gc(e)}}function Gc(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||Pl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Fe)if(r===null)s.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:mt(t.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Tc(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Tc(t,i,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var x=d.memoizedState;if(x!==null){var h=x.dehydrated;h!==null&&qr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Fe||t.flags&512&&ti(t)}catch(g){ve(t,t.return,g)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function Yc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function Kc(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Pl(4,t)}catch(o){ve(t,r,o)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(o){ve(t,l,o)}}var a=t.return;try{ti(t)}catch(o){ve(t,a,o)}break;case 5:var i=t.return;try{ti(t)}catch(o){ve(t,i,o)}}}catch(o){ve(t,t.return,o)}if(t===e){$=null;break}var c=t.sibling;if(c!==null){c.return=t.return,$=c;break}$=t.return}}var Lp=Math.ceil,hl=Ut.ReactCurrentDispatcher,Ki=Ut.ReactCurrentOwner,it=Ut.ReactCurrentBatchConfig,ne=0,_e=null,Ne=null,Ae=0,Xe=0,Kn=mn(0),Pe=0,ss=null,Pn=0,Ll=0,Xi=0,$r=null,Qe=null,Ji=0,dr=1/0,Lt=null,pl=!1,si=null,sn=null,Ts=!1,Xt=null,fl=0,Br=0,li=null,Hs=-1,Qs=0;function We(){return ne&6?we():Hs!==-1?Hs:Hs=we()}function ln(e){return e.mode&1?ne&2&&Ae!==0?Ae&-Ae:mp.transition!==null?(Qs===0&&(Qs=eu()),Qs):(e=ie,e!==0||(e=window.event,e=e===void 0?16:iu(e.type)),e):1}function xt(e,t,r,s){if(50<Br)throw Br=0,li=null,Error(T(185));os(e,r,s),(!(ne&2)||e!==_e)&&(e===_e&&(!(ne&2)&&(Ll|=r),Pe===4&&Yt(e,Ae)),Ke(e,s),r===1&&ne===0&&!(t.mode&1)&&(dr=we()+500,Sl&&hn()))}function Ke(e,t){var r=e.callbackNode;m0(e,t);var s=Js(e,e===_e?Ae:0);if(s===0)r!==null&&lc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&lc(r),t===1)e.tag===0?up(Xc.bind(null,e)):Cu(Xc.bind(null,e)),ip(function(){!(ne&6)&&hn()}),r=null;else{switch(tu(s)){case 1:r=ki;break;case 4:r=Jd;break;case 16:r=Xs;break;case 536870912:r=Zd;break;default:r=Xs}r=km(r,gm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function gm(e,t){if(Hs=-1,Qs=0,ne&6)throw Error(T(327));var r=e.callbackNode;if(rr()&&e.callbackNode!==r)return null;var s=Js(e,e===_e?Ae:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=xl(e,s);else{t=s;var l=ne;ne|=2;var a=ym();(_e!==e||Ae!==t)&&(Lt=null,dr=we()+500,Nn(e,t));do try{Tp();break}catch(c){vm(e,c)}while(!0);Fi(),hl.current=a,ne=l,Ne!==null?t=0:(_e=null,Ae=0,t=Pe)}if(t!==0){if(t===2&&(l=Ta(e),l!==0&&(s=l,t=ai(e,l))),t===1)throw r=ss,Nn(e,0),Yt(e,s),Ke(e,we()),r;if(t===6)Yt(e,s);else{if(l=e.current.alternate,!(s&30)&&!_p(l)&&(t=xl(e,s),t===2&&(a=Ta(e),a!==0&&(s=a,t=ai(e,a))),t===1))throw r=ss,Nn(e,0),Yt(e,s),Ke(e,we()),r;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(T(345));case 2:yn(e,Qe,Lt);break;case 3:if(Yt(e,s),(s&130023424)===s&&(t=Ji+500-we(),10<t)){if(Js(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){We(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=$a(yn.bind(null,e,Qe,Lt),t);break}yn(e,Qe,Lt);break;case 4:if(Yt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-ft(s);a=1<<i,i=t[i],i>l&&(l=i),s&=~a}if(s=l,s=we()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Lp(s/1960))-s,10<s){e.timeoutHandle=$a(yn.bind(null,e,Qe,Lt),s);break}yn(e,Qe,Lt);break;case 5:yn(e,Qe,Lt);break;default:throw Error(T(329))}}}return Ke(e,we()),e.callbackNode===r?gm.bind(null,e):null}function ai(e,t){var r=$r;return e.current.memoizedState.isDehydrated&&(Nn(e,t).flags|=256),e=xl(e,t),e!==2&&(t=Qe,Qe=r,t!==null&&ii(t)),e}function ii(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function _p(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var l=r[s],a=l.getSnapshot;l=l.value;try{if(!gt(a(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yt(e,t){for(t&=~Xi,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ft(t),s=1<<r;e[r]=-1,t&=~s}}function Xc(e){if(ne&6)throw Error(T(327));rr();var t=Js(e,0);if(!(t&1))return Ke(e,we()),null;var r=xl(e,t);if(e.tag!==0&&r===2){var s=Ta(e);s!==0&&(t=s,r=ai(e,s))}if(r===1)throw r=ss,Nn(e,0),Yt(e,t),Ke(e,we()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yn(e,Qe,Lt),Ke(e,we()),null}function Zi(e,t){var r=ne;ne|=1;try{return e(t)}finally{ne=r,ne===0&&(dr=we()+500,Sl&&hn())}}function Ln(e){Xt!==null&&Xt.tag===0&&!(ne&6)&&rr();var t=ne;ne|=1;var r=it.transition,s=ie;try{if(it.transition=null,ie=1,e)return e()}finally{ie=s,it.transition=r,ne=t,!(ne&6)&&hn()}}function eo(){Xe=Kn.current,ue(Kn)}function Nn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ap(r)),Ne!==null)for(r=Ne.return;r!==null;){var s=r;switch(Mi(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&rl();break;case 3:or(),ue(Ge),ue(Ie),Wi();break;case 5:Oi(s);break;case 4:or();break;case 13:ue(pe);break;case 19:ue(pe);break;case 10:Ii(s.type._context);break;case 22:case 23:eo()}r=r.return}if(_e=e,Ne=e=an(e.current,null),Ae=Xe=t,Pe=0,ss=null,Xi=Ll=Pn=0,Qe=$r=null,jn!==null){for(t=0;t<jn.length;t++)if(r=jn[t],s=r.interleaved,s!==null){r.interleaved=null;var l=s.next,a=r.pending;if(a!==null){var i=a.next;a.next=l,s.next=i}r.pending=s}jn=null}return e}function vm(e,t){do{var r=Ne;try{if(Fi(),Os.current=ml,ul){for(var s=fe.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ul=!1}if(En=0,Le=Ee=fe=null,Ir=!1,ts=0,Ki.current=null,r===null||r.return===null){Pe=1,ss=t,Ne=null;break}e:{var a=e,i=r.return,c=r,o=t;if(t=Ae,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=o,x=c,h=x.tag;if(!(x.mode&1)&&(h===0||h===11||h===15)){var g=x.alternate;g?(x.updateQueue=g.updateQueue,x.memoizedState=g.memoizedState,x.lanes=g.lanes):(x.updateQueue=null,x.memoizedState=null)}var b=Ic(i);if(b!==null){b.flags&=-257,Uc(b,i,c,a,t),b.mode&1&&Fc(a,d,t),t=b,o=d;var w=t.updateQueue;if(w===null){var y=new Set;y.add(o),t.updateQueue=y}else w.add(o);break e}else{if(!(t&1)){Fc(a,d,t),to();break e}o=Error(T(426))}}else if(he&&c.mode&1){var k=Ic(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Uc(k,i,c,a,t),Di(cr(o,c));break e}}a=o=cr(o,c),Pe!==4&&(Pe=2),$r===null?$r=[a]:$r.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var f=tm(a,o,t);Rc(a,f);break e;case 1:c=o;var m=a.type,u=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(sn===null||!sn.has(u)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=nm(a,c,t);Rc(a,N);break e}}a=a.return}while(a!==null)}jm(r)}catch(j){t=j,Ne===r&&r!==null&&(Ne=r=r.return);continue}break}while(!0)}function ym(){var e=hl.current;return hl.current=ml,e===null?ml:e}function to(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),_e===null||!(Pn&268435455)&&!(Ll&268435455)||Yt(_e,Ae)}function xl(e,t){var r=ne;ne|=2;var s=ym();(_e!==e||Ae!==t)&&(Lt=null,Nn(e,t));do try{Rp();break}catch(l){vm(e,l)}while(!0);if(Fi(),ne=r,hl.current=s,Ne!==null)throw Error(T(261));return _e=null,Ae=0,Pe}function Rp(){for(;Ne!==null;)wm(Ne)}function Tp(){for(;Ne!==null&&!r0();)wm(Ne)}function wm(e){var t=Nm(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?jm(e):Ne=t,Ki.current=null}function jm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Sp(r,t),r!==null){r.flags&=32767,Ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Ne=null;return}}else if(r=kp(r,t,Xe),r!==null){Ne=r;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Pe===0&&(Pe=5)}function yn(e,t,r){var s=ie,l=it.transition;try{it.transition=null,ie=1,Ap(e,t,r,s)}finally{it.transition=l,ie=s}return null}function Ap(e,t,r,s){do rr();while(Xt!==null);if(ne&6)throw Error(T(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(h0(e,a),e===_e&&(Ne=_e=null,Ae=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ts||(Ts=!0,km(Xs,function(){return rr(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=it.transition,it.transition=null;var i=ie;ie=1;var c=ne;ne|=4,Ki.current=null,Ep(e,r),fm(r,e),Z0(Ia),Zs=!!Fa,Ia=Fa=null,e.current=r,Pp(r),s0(),ne=c,ie=i,it.transition=a}else e.current=r;if(Ts&&(Ts=!1,Xt=e,fl=l),a=e.pendingLanes,a===0&&(sn=null),i0(r.stateNode),Ke(e,we()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],s(l.value,{componentStack:l.stack,digest:l.digest});if(pl)throw pl=!1,e=si,si=null,e;return fl&1&&e.tag!==0&&rr(),a=e.pendingLanes,a&1?e===li?Br++:(Br=0,li=e):Br=0,hn(),null}function rr(){if(Xt!==null){var e=tu(fl),t=it.transition,r=ie;try{if(it.transition=null,ie=16>e?16:e,Xt===null)var s=!1;else{if(e=Xt,Xt=null,fl=0,ne&6)throw Error(T(331));var l=ne;for(ne|=4,$=e.current;$!==null;){var a=$,i=a.child;if($.flags&16){var c=a.deletions;if(c!==null){for(var o=0;o<c.length;o++){var d=c[o];for($=d;$!==null;){var x=$;switch(x.tag){case 0:case 11:case 15:Ur(8,x,a)}var h=x.child;if(h!==null)h.return=x,$=h;else for(;$!==null;){x=$;var g=x.sibling,b=x.return;if(mm(x),x===d){$=null;break}if(g!==null){g.return=b,$=g;break}$=b}}}var w=a.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}$=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,$=i;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ur(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,$=f;break e}$=a.return}}var m=e.current;for($=m;$!==null;){i=$;var u=i.child;if(i.subtreeFlags&2064&&u!==null)u.return=i,$=u;else e:for(i=m;$!==null;){if(c=$,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Pl(9,c)}}catch(j){ve(c,c.return,j)}if(c===i){$=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,$=N;break e}$=c.return}}if(ne=l,hn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(wl,e)}catch{}s=!0}return s}finally{ie=r,it.transition=t}}return!1}function Jc(e,t,r){t=cr(r,t),t=tm(e,t,1),e=rn(e,t,1),t=We(),e!==null&&(os(e,1,t),Ke(e,t))}function ve(e,t,r){if(e.tag===3)Jc(e,e,r);else for(;t!==null;){if(t.tag===3){Jc(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(sn===null||!sn.has(s))){e=cr(r,e),e=nm(t,e,1),t=rn(t,e,1),e=We(),t!==null&&(os(t,1,e),Ke(t,e));break}}t=t.return}}function Mp(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&r,_e===e&&(Ae&r)===r&&(Pe===4||Pe===3&&(Ae&130023424)===Ae&&500>we()-Ji?Nn(e,0):Xi|=r),Ke(e,t)}function bm(e,t){t===0&&(e.mode&1?(t=bs,bs<<=1,!(bs&130023424)&&(bs=4194304)):t=1);var r=We();e=Ft(e,t),e!==null&&(os(e,t,r),Ke(e,r))}function Dp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),bm(e,r)}function zp(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(T(314))}s!==null&&s.delete(t),bm(e,r)}var Nm;Nm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)qe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qe=!1,Np(e,t,r);qe=!!(e.flags&131072)}else qe=!1,he&&t.flags&1048576&&Eu(t,al,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Vs(e,t),e=t.pendingProps;var l=lr(t,Ie.current);nr(t,r),l=Hi(null,t,s,e,l,r);var a=Qi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(s)?(a=!0,sl(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,$i(t),l.updater=El,t.stateNode=l,l._reactInternals=t,qa(t,s,e,r),t=Ka(null,t,s,!0,a,r)):(t.tag=0,he&&a&&Ai(t),Be(null,t,l,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Ip(s),e=mt(s,e),l){case 0:t=Ya(null,t,s,e,r);break e;case 1:t=Oc(null,t,s,e,r);break e;case 11:t=$c(null,t,s,e,r);break e;case 14:t=Bc(null,t,s,mt(s.type,e),r);break e}throw Error(T(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:mt(s,l),Ya(e,t,s,l,r);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:mt(s,l),Oc(e,t,s,l,r);case 3:e:{if(am(t),e===null)throw Error(T(387));s=t.pendingProps,a=t.memoizedState,l=a.element,Au(e,t),cl(t,s,null,r);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=cr(Error(T(423)),t),t=Wc(e,t,s,r,l);break e}else if(s!==l){l=cr(Error(T(424)),t),t=Wc(e,t,s,r,l);break e}else for(Je=nn(t.stateNode.containerInfo.firstChild),Ze=t,he=!0,pt=null,r=Ru(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ar(),s===l){t=It(e,t,r);break e}Be(e,t,s,r)}t=t.child}return t;case 5:return Mu(t),e===null&&Va(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,Ua(s,l)?i=null:a!==null&&Ua(s,a)&&(t.flags|=32),lm(e,t),Be(e,t,i,r),t.child;case 6:return e===null&&Va(t),null;case 13:return im(e,t,r);case 4:return Bi(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ir(t,null,s,r):Be(e,t,s,r),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:mt(s,l),$c(e,t,s,l,r);case 7:return Be(e,t,t.pendingProps,r),t.child;case 8:return Be(e,t,t.pendingProps.children,r),t.child;case 12:return Be(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,oe(il,s._currentValue),s._currentValue=i,a!==null)if(gt(a.value,i)){if(a.children===l.children&&!Ge.current){t=It(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){i=a.child;for(var o=c.firstContext;o!==null;){if(o.context===s){if(a.tag===1){o=Mt(-1,r&-r),o.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var x=d.pending;x===null?o.next=o:(o.next=x.next,x.next=o),d.pending=o}}a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Ha(a.return,r,t),c.lanes|=r;break}o=o.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(T(341));i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Ha(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Be(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,nr(t,r),l=ot(l),s=s(l),t.flags|=1,Be(e,t,s,r),t.child;case 14:return s=t.type,l=mt(s,t.pendingProps),l=mt(s.type,l),Bc(e,t,s,l,r);case 15:return rm(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:mt(s,l),Vs(e,t),t.tag=1,Ye(s)?(e=!0,sl(t)):e=!1,nr(t,r),em(t,s,l),qa(t,s,l,r),Ka(null,t,s,!0,e,r);case 19:return om(e,t,r);case 22:return sm(e,t,r)}throw Error(T(156,t.tag))};function km(e,t){return Xd(e,t)}function Fp(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,r,s){return new Fp(e,t,r,s)}function no(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ip(e){if(typeof e=="function")return no(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ji)return 11;if(e===bi)return 14}return 2}function an(e,t){var r=e.alternate;return r===null?(r=at(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qs(e,t,r,s,l,a){var i=2;if(s=e,typeof e=="function")no(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case $n:return kn(r.children,l,a,t);case wi:i=8,l|=8;break;case ga:return e=at(12,r,t,l|2),e.elementType=ga,e.lanes=a,e;case va:return e=at(13,r,t,l),e.elementType=va,e.lanes=a,e;case ya:return e=at(19,r,t,l),e.elementType=ya,e.lanes=a,e;case Md:return _l(r,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Td:i=10;break e;case Ad:i=9;break e;case ji:i=11;break e;case bi:i=14;break e;case Qt:i=16,s=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=at(i,r,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function kn(e,t,r,s){return e=at(7,e,s,t),e.lanes=r,e}function _l(e,t,r,s){return e=at(22,e,s,t),e.elementType=Md,e.lanes=r,e.stateNode={isHidden:!1},e}function ua(e,t,r){return e=at(6,e,null,t),e.lanes=r,e}function ma(e,t,r){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Up(e,t,r,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ro(e,t,r,s,l,a,i,c,o){return e=new Up(e,t,r,c,o),t===1?(t=1,a===!0&&(t|=8)):t=0,a=at(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$i(a),e}function $p(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Sm(e){if(!e)return dn;e=e._reactInternals;e:{if(Rn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(Ye(r))return Su(e,r,t)}return t}function Cm(e,t,r,s,l,a,i,c,o){return e=ro(r,s,!0,e,l,a,i,c,o),e.context=Sm(null),r=e.current,s=We(),l=ln(r),a=Mt(s,l),a.callback=t??null,rn(r,a,l),e.current.lanes=l,os(e,l,s),Ke(e,s),e}function Rl(e,t,r,s){var l=t.current,a=We(),i=ln(l);return r=Sm(r),t.context===null?t.context=r:t.pendingContext=r,t=Mt(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=rn(l,t,i),e!==null&&(xt(e,l,i,a),Bs(e,l,i)),i}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function so(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}function Bp(){return null}var Em=typeof reportError=="function"?reportError:function(e){console.error(e)};function lo(e){this._internalRoot=e}Tl.prototype.render=lo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Rl(e,t,null,null)};Tl.prototype.unmount=lo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ln(function(){Rl(null,e,null,null)}),t[zt]=null}};function Tl(e){this._internalRoot=e}Tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=su();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gt.length&&t!==0&&t<Gt[r].priority;r++);Gt.splice(r,0,e),r===0&&au(e)}};function ao(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ed(){}function Op(e,t,r,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var d=gl(i);a.call(d)}}var i=Cm(t,s,e,0,null,!1,!1,"",ed);return e._reactRootContainer=i,e[zt]=i.current,Kr(e.nodeType===8?e.parentNode:e),Ln(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var c=s;s=function(){var d=gl(o);c.call(d)}}var o=ro(e,0,!1,null,null,!1,!1,"",ed);return e._reactRootContainer=o,e[zt]=o.current,Kr(e.nodeType===8?e.parentNode:e),Ln(function(){Rl(t,o,r,s)}),o}function Ml(e,t,r,s,l){var a=r._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var c=l;l=function(){var o=gl(i);c.call(o)}}Rl(t,i,e,l)}else i=Op(r,t,e,l,s);return gl(i)}nu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Rr(t.pendingLanes);r!==0&&(Si(t,r|1),Ke(t,we()),!(ne&6)&&(dr=we()+500,hn()))}break;case 13:Ln(function(){var s=Ft(e,1);if(s!==null){var l=We();xt(s,e,1,l)}}),so(e,1)}};Ci=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var r=We();xt(t,e,134217728,r)}so(e,134217728)}};ru=function(e){if(e.tag===13){var t=ln(e),r=Ft(e,t);if(r!==null){var s=We();xt(r,e,t,s)}so(e,t)}};su=function(){return ie};lu=function(e,t){var r=ie;try{return ie=e,t()}finally{ie=r}};La=function(e,t,r){switch(t){case"input":if(ba(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var l=kl(s);if(!l)throw Error(T(90));zd(s),ba(s,l)}}}break;case"textarea":Id(e,r);break;case"select":t=r.value,t!=null&&Jn(e,!!r.multiple,t,!1)}};Hd=Zi;Qd=Ln;var Wp={usingClientEntryPoint:!1,Events:[ds,Vn,kl,Wd,Vd,Zi]},Sr={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vp={bundleType:Sr.bundleType,version:Sr.version,rendererPackageName:Sr.rendererPackageName,rendererConfig:Sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ut.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yd(e),e===null?null:e.stateNode},findFiberByHostInstance:Sr.findFiberByHostInstance||Bp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var As=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!As.isDisabled&&As.supportsFiber)try{wl=As.inject(Vp),bt=As}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wp;tt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ao(t))throw Error(T(200));return $p(e,t,null,r)};tt.createRoot=function(e,t){if(!ao(e))throw Error(T(299));var r=!1,s="",l=Em;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ro(e,1,!1,null,null,r,!1,s,l),e[zt]=t.current,Kr(e.nodeType===8?e.parentNode:e),new lo(t)};tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Yd(t),e=e===null?null:e.stateNode,e};tt.flushSync=function(e){return Ln(e)};tt.hydrate=function(e,t,r){if(!Al(t))throw Error(T(200));return Ml(null,e,t,!0,r)};tt.hydrateRoot=function(e,t,r){if(!ao(e))throw Error(T(405));var s=r!=null&&r.hydratedSources||null,l=!1,a="",i=Em;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Cm(t,null,e,1,r??null,l,!1,a,i),e[zt]=t.current,Kr(e),s)for(e=0;e<s.length;e++)r=s[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new Tl(t)};tt.render=function(e,t,r){if(!Al(t))throw Error(T(200));return Ml(null,e,t,!1,r)};tt.unmountComponentAtNode=function(e){if(!Al(e))throw Error(T(40));return e._reactRootContainer?(Ln(function(){Ml(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};tt.unstable_batchedUpdates=Zi;tt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Al(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Ml(e,t,r,!1,s)};tt.version="18.3.1-next-f1338f8080-20240426";function Pm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pm)}catch(e){console.error(e)}}Pm(),Pd.exports=tt;var Hp=Pd.exports,td=Hp;fa.createRoot=td.createRoot,fa.hydrateRoot=td.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ls.apply(this,arguments)}var Jt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Jt||(Jt={}));const nd="popstate";function Qp(e){e===void 0&&(e={});function t(s,l){let{pathname:a,search:i,hash:c}=s.location;return oi("",{pathname:a,search:i,hash:c},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:vl(l)}return Gp(t,r,null,e)}function je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qp(){return Math.random().toString(36).substr(2,8)}function rd(e,t){return{usr:e.state,key:e.key,idx:t}}function oi(e,t,r,s){return r===void 0&&(r=null),ls({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pr(t):t,{state:r,key:t&&t.key||s||qp()})}function vl(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function pr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Gp(e,t,r,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:a=!1}=s,i=l.history,c=Jt.Pop,o=null,d=x();d==null&&(d=0,i.replaceState(ls({},i.state,{idx:d}),""));function x(){return(i.state||{idx:null}).idx}function h(){c=Jt.Pop;let k=x(),f=k==null?null:k-d;d=k,o&&o({action:c,location:y.location,delta:f})}function g(k,f){c=Jt.Push;let m=oi(y.location,k,f);d=x()+1;let u=rd(m,d),N=y.createHref(m);try{i.pushState(u,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;l.location.assign(N)}a&&o&&o({action:c,location:y.location,delta:1})}function b(k,f){c=Jt.Replace;let m=oi(y.location,k,f);d=x();let u=rd(m,d),N=y.createHref(m);i.replaceState(u,"",N),a&&o&&o({action:c,location:y.location,delta:0})}function w(k){let f=l.location.origin!=="null"?l.location.origin:l.location.href,m=typeof k=="string"?k:vl(k);return m=m.replace(/ $/,"%20"),je(f,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,f)}let y={get action(){return c},get location(){return e(l,i)},listen(k){if(o)throw new Error("A history only accepts one active listener");return l.addEventListener(nd,h),o=k,()=>{l.removeEventListener(nd,h),o=null}},createHref(k){return t(l,k)},createURL:w,encodeLocation(k){let f=w(k);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:g,replace:b,go(k){return i.go(k)}};return y}var sd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sd||(sd={}));function Yp(e,t,r){return r===void 0&&(r="/"),Kp(e,t,r)}function Kp(e,t,r,s){let l=typeof t=="string"?pr(t):t,a=io(l.pathname||"/",r);if(a==null)return null;let i=_m(e);Xp(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let d=df(a);c=af(i[o],d)}return c}function _m(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let l=(a,i,c)=>{let o={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};o.relativePath.startsWith("/")&&(je(o.relativePath.startsWith(s),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(s.length));let d=on([s,o.relativePath]),x=r.concat(o);a.children&&a.children.length>0&&(je(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),_m(a.children,t,x,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:sf(d,a.index),routesMeta:x})};return e.forEach((a,i)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))l(a,i);else for(let o of Rm(a.path))l(a,i,o)}),t}function Rm(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,l=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return l?[a,""]:[a];let i=Rm(s.join("/")),c=[];return c.push(...i.map(o=>o===""?a:[a,o].join("/"))),l&&c.push(...i),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function Xp(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:lf(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const Jp=/^:[\w-]+$/,Zp=3,ef=2,tf=1,nf=10,rf=-2,ld=e=>e==="*";function sf(e,t){let r=e.split("/"),s=r.length;return r.some(ld)&&(s+=rf),t&&(s+=ef),r.filter(l=>!ld(l)).reduce((l,a)=>l+(Jp.test(a)?Zp:a===""?tf:nf),s)}function lf(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function af(e,t,r){let{routesMeta:s}=e,l={},a="/",i=[];for(let c=0;c<s.length;++c){let o=s[c],d=c===s.length-1,x=a==="/"?t:t.slice(a.length)||"/",h=of({path:o.relativePath,caseSensitive:o.caseSensitive,end:d},x),g=o.route;if(!h)return null;Object.assign(l,h.params),i.push({params:l,pathname:on([a,h.pathname]),pathnameBase:pf(on([a,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(a=on([a,h.pathnameBase]))}return i}function of(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=cf(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),c=l.slice(1);return{params:s.reduce((d,x,h)=>{let{paramName:g,isOptional:b}=x;if(g==="*"){let y=c[h]||"";i=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const w=c[h];return b&&!w?d[g]=void 0:d[g]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:i,pattern:e}}function cf(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Lm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,o)=>(s.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function df(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function io(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function uf(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:l=""}=typeof e=="string"?pr(e):e;return{pathname:r?r.startsWith("/")?r:mf(r,t):t,search:ff(s),hash:xf(l)}}function mf(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function ha(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hf(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function oo(e,t){let r=hf(e);return t?r.map((s,l)=>l===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function co(e,t,r,s){s===void 0&&(s=!1);let l;typeof e=="string"?l=pr(e):(l=ls({},e),je(!l.pathname||!l.pathname.includes("?"),ha("?","pathname","search",l)),je(!l.pathname||!l.pathname.includes("#"),ha("#","pathname","hash",l)),je(!l.search||!l.search.includes("#"),ha("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,c;if(i==null)c=r;else{let h=t.length-1;if(!s&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),h-=1;l.pathname=g.join("/")}c=h>=0?t[h]:"/"}let o=uf(l,c),d=i&&i!=="/"&&i.endsWith("/"),x=(a||i===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(d||x)&&(o.pathname+="/"),o}const on=e=>e.join("/").replace(/\/\/+/g,"/"),pf=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ff=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xf=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gf(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Tm=["post","put","patch","delete"];new Set(Tm);const vf=["get",...Tm];new Set(vf);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},as.apply(this,arguments)}const uo=p.createContext(null),yf=p.createContext(null),pn=p.createContext(null),Dl=p.createContext(null),$t=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Am=p.createContext(null);function wf(e,t){let{relative:r}=t===void 0?{}:t;fr()||je(!1);let{basename:s,navigator:l}=p.useContext(pn),{hash:a,pathname:i,search:c}=Dm(e,{relative:r}),o=i;return s!=="/"&&(o=i==="/"?s:on([s,i])),l.createHref({pathname:o,search:c,hash:a})}function fr(){return p.useContext(Dl)!=null}function fn(){return fr()||je(!1),p.useContext(Dl).location}function Mm(e){p.useContext(pn).static||p.useLayoutEffect(e)}function St(){let{isDataRoute:e}=p.useContext($t);return e?Mf():jf()}function jf(){fr()||je(!1);let e=p.useContext(uo),{basename:t,future:r,navigator:s}=p.useContext(pn),{matches:l}=p.useContext($t),{pathname:a}=fn(),i=JSON.stringify(oo(l,r.v7_relativeSplatPath)),c=p.useRef(!1);return Mm(()=>{c.current=!0}),p.useCallback(function(d,x){if(x===void 0&&(x={}),!c.current)return;if(typeof d=="number"){s.go(d);return}let h=co(d,JSON.parse(i),a,x.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:on([t,h.pathname])),(x.replace?s.replace:s.push)(h,x.state,x)},[t,s,i,a,e])}function bf(){let{matches:e}=p.useContext($t),t=e[e.length-1];return t?t.params:{}}function Dm(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=p.useContext(pn),{matches:l}=p.useContext($t),{pathname:a}=fn(),i=JSON.stringify(oo(l,s.v7_relativeSplatPath));return p.useMemo(()=>co(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function Nf(e,t){return kf(e,t)}function kf(e,t,r,s){fr()||je(!1);let{navigator:l}=p.useContext(pn),{matches:a}=p.useContext($t),i=a[a.length-1],c=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let d=fn(),x;if(t){var h;let k=typeof t=="string"?pr(t):t;o==="/"||(h=k.pathname)!=null&&h.startsWith(o)||je(!1),x=k}else x=d;let g=x.pathname||"/",b=g;if(o!=="/"){let k=o.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=Yp(e,{pathname:b}),y=Lf(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:on([o,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?o:on([o,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,r,s);return t&&y?p.createElement(Dl.Provider,{value:{location:as({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Jt.Pop}},y):y}function Sf(){let e=Af(),t=gf(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:l},r):null,null)}const Cf=p.createElement(Sf,null);class Ef extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement($t.Provider,{value:this.props.routeContext},p.createElement(Am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Pf(e){let{routeContext:t,match:r,children:s}=e,l=p.useContext(uo);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement($t.Provider,{value:t},s)}function Lf(e,t,r,s){var l;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,c=(l=r)==null?void 0:l.errors;if(c!=null){let x=i.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);x>=0||je(!1),i=i.slice(0,Math.min(i.length,x+1))}let o=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let x=0;x<i.length;x++){let h=i[x];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=x),h.route.id){let{loaderData:g,errors:b}=r,w=h.route.loader&&g[h.route.id]===void 0&&(!b||b[h.route.id]===void 0);if(h.route.lazy||w){o=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((x,h,g)=>{let b,w=!1,y=null,k=null;r&&(b=c&&h.route.id?c[h.route.id]:void 0,y=h.route.errorElement||Cf,o&&(d<0&&g===0?(Df("route-fallback"),w=!0,k=null):d===g&&(w=!0,k=h.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,g+1)),m=()=>{let u;return b?u=y:w?u=k:h.route.Component?u=p.createElement(h.route.Component,null):h.route.element?u=h.route.element:u=x,p.createElement(Pf,{match:h,routeContext:{outlet:x,matches:f,isDataRoute:r!=null},children:u})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?p.createElement(Ef,{location:r.location,revalidation:r.revalidation,component:y,error:b,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var zm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zm||{}),Fm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fm||{});function _f(e){let t=p.useContext(uo);return t||je(!1),t}function Rf(e){let t=p.useContext(yf);return t||je(!1),t}function Tf(e){let t=p.useContext($t);return t||je(!1),t}function Im(e){let t=Tf(),r=t.matches[t.matches.length-1];return r.route.id||je(!1),r.route.id}function Af(){var e;let t=p.useContext(Am),r=Rf(),s=Im();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Mf(){let{router:e}=_f(zm.UseNavigateStable),t=Im(Fm.UseNavigateStable),r=p.useRef(!1);return Mm(()=>{r.current=!0}),p.useCallback(function(l,a){a===void 0&&(a={}),r.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,as({fromRouteId:t},a)))},[e,t])}const ad={};function Df(e,t,r){ad[e]||(ad[e]=!0)}function zf(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ci(e){let{to:t,replace:r,state:s,relative:l}=e;fr()||je(!1);let{future:a,static:i}=p.useContext(pn),{matches:c}=p.useContext($t),{pathname:o}=fn(),d=St(),x=co(t,oo(c,a.v7_relativeSplatPath),o,l==="path"),h=JSON.stringify(x);return p.useEffect(()=>d(JSON.parse(h),{replace:r,state:s,relative:l}),[d,h,l,r,s]),null}function rt(e){je(!1)}function Ff(e){let{basename:t="/",children:r=null,location:s,navigationType:l=Jt.Pop,navigator:a,static:i=!1,future:c}=e;fr()&&je(!1);let o=t.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:o,navigator:a,static:i,future:as({v7_relativeSplatPath:!1},c)}),[o,c,a,i]);typeof s=="string"&&(s=pr(s));let{pathname:x="/",search:h="",hash:g="",state:b=null,key:w="default"}=s,y=p.useMemo(()=>{let k=io(x,o);return k==null?null:{location:{pathname:k,search:h,hash:g,state:b,key:w},navigationType:l}},[o,x,h,g,b,w,l]);return y==null?null:p.createElement(pn.Provider,{value:d},p.createElement(Dl.Provider,{children:r,value:y}))}function If(e){let{children:t,location:r}=e;return Nf(di(t),r)}new Promise(()=>{});function di(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(s,l)=>{if(!p.isValidElement(s))return;let a=[...t,l];if(s.type===p.Fragment){r.push.apply(r,di(s.props.children,a));return}s.type!==rt&&je(!1),!s.props.index||!s.props.children||je(!1);let i={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=di(s.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ui.apply(this,arguments)}function Uf(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,a;for(a=0;a<s.length;a++)l=s[a],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function $f(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Bf(e,t){return e.button===0&&(!t||t==="_self")&&!$f(e)}function mi(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(l=>[r,l]):[[r,s]])},[]))}function Of(e,t){let r=mi(e);return t&&t.forEach((s,l)=>{r.has(l)||t.getAll(l).forEach(a=>{r.append(l,a)})}),r}const Wf=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Vf="6";try{window.__reactRouterVersion=Vf}catch{}const Hf="startTransition",id=Mh[Hf];function Qf(e){let{basename:t,children:r,future:s,window:l}=e,a=p.useRef();a.current==null&&(a.current=Qp({window:l,v5Compat:!0}));let i=a.current,[c,o]=p.useState({action:i.action,location:i.location}),{v7_startTransition:d}=s||{},x=p.useCallback(h=>{d&&id?id(()=>o(h)):o(h)},[o,d]);return p.useLayoutEffect(()=>i.listen(x),[i,x]),p.useEffect(()=>zf(s),[s]),p.createElement(Ff,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:i,future:s})}const qf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=p.forwardRef(function(t,r){let{onClick:s,relative:l,reloadDocument:a,replace:i,state:c,target:o,to:d,preventScrollReset:x,viewTransition:h}=t,g=Uf(t,Wf),{basename:b}=p.useContext(pn),w,y=!1;if(typeof d=="string"&&Gf.test(d)&&(w=d,qf))try{let u=new URL(window.location.href),N=d.startsWith("//")?new URL(u.protocol+d):new URL(d),j=io(N.pathname,b);N.origin===u.origin&&j!=null?d=j+N.search+N.hash:y=!0}catch{}let k=wf(d,{relative:l}),f=Yf(d,{replace:i,state:c,target:o,preventScrollReset:x,relative:l,viewTransition:h});function m(u){s&&s(u),u.defaultPrevented||f(u)}return p.createElement("a",ui({},g,{href:w||k,onClick:y||a?s:m,ref:r,target:o}))});var od;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(od||(od={}));var cd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cd||(cd={}));function Yf(e,t){let{target:r,replace:s,state:l,preventScrollReset:a,relative:i,viewTransition:c}=t===void 0?{}:t,o=St(),d=fn(),x=Dm(e,{relative:i});return p.useCallback(h=>{if(Bf(h,r)){h.preventDefault();let g=s!==void 0?s:vl(d)===vl(x);o(e,{replace:g,state:l,preventScrollReset:a,relative:i,viewTransition:c})}},[d,o,x,s,l,r,e,a,i,c])}function Kf(e){let t=p.useRef(mi(e)),r=p.useRef(!1),s=fn(),l=p.useMemo(()=>Of(s.search,r.current?null:t.current),[s.search]),a=St(),i=p.useCallback((c,o)=>{const d=mi(typeof c=="function"?c(l):c);r.current=!0,a("?"+d,o)},[a,l]);return[l,i]}const kt={WORKER_BASE_URL:"https://quickstage.tech",WEB_BASE_URL:"https://quickstage.tech",PUBLIC_BASE_URL:"https://quickstage.tech",API_BASE_URL:"/api",getSnapshotUrl:e=>`${kt.WORKER_BASE_URL}/s/${e}`,EXTENSION_DOWNLOAD_URL:"/quickstage.vsix",VERSION_INFO_URL:"/api/extensions/version",STRIPE_PUBLIC_KEY:"pk_test_YOUR_ACTUAL_KEY_HERE"},In=kt.WORKER_BASE_URL.replace(/\/$/,"");let Um=localStorage.getItem("quickstage_session_token");function Rt(e){Um=e,e?localStorage.setItem("quickstage_session_token",e):localStorage.removeItem("quickstage_session_token")}function Cr(){return Um}const A={async get(e){const t={"Content-Type":"application/json"},r=Cr();r&&(t.Authorization=`Bearer ${r}`),console.log("Making request to:",`${In}${e}`),console.log("Headers:",t);const s=await fetch(`${In}${e}`,{credentials:"include",headers:t});if(!s.ok)throw console.error("Request failed:",s.status,s.statusText),s.status===401?(console.log("Token invalid, clearing session..."),Rt(null),window.location.href="/login",new Error("Authentication failed - please log in again")):new Error(`API request failed: ${s.status}`);const l=await s.json();return console.log(`API GET ${e} response:`,l),l},async post(e,t){const r={},s=Cr();s&&(r.Authorization=`Bearer ${s}`);let l;t&&(t instanceof FormData?(console.log("API: Sending FormData"),console.log("FormData text:",t.get("text")),console.log("FormData state:",t.get("state")),l=t):(r["Content-Type"]="application/json",l=JSON.stringify(t),console.log("API: Sending JSON data:",l)));const a=`${In}${e}`,i=await fetch(a,{method:"POST",credentials:"include",headers:r,body:l});if(!i.ok){let c="";try{c=await i.text()}catch{}throw i.status===401?(console.log("Token invalid, clearing session..."),Rt(null),window.location.href="/login",new Error("Authentication failed - please log in again")):new Error(`API request failed: ${i.status}${c?": "+c:""}`)}return i.json()},async put(e,t){const r={"Content-Type":"application/json"},s=Cr();s&&(r.Authorization=`Bearer ${s}`);const l=await fetch(`${In}${e}`,{method:"PUT",credentials:"include",headers:r,body:t?JSON.stringify(t):void 0});if(!l.ok)throw l.status===401?(console.log("Token invalid, clearing session..."),Rt(null),window.location.href="/login",new Error("Authentication failed - please log in again")):new Error(`API request failed: ${l.status}`);return l.json()},async patch(e,t){const r={"Content-Type":"application/json"},s=Cr();s&&(r.Authorization=`Bearer ${s}`);const l=await fetch(`${In}${e}`,{method:"PATCH",credentials:"include",headers:r,body:t?JSON.stringify(t):void 0});if(!l.ok)throw l.status===401?(console.log("Token invalid, clearing session..."),Rt(null),window.location.href="/login",new Error("Authentication failed - please log in again")):new Error(`API request failed: ${l.status}`);return l.json()},async delete(e){const t={"Content-Type":"application/json"},r=Cr();r&&(t.Authorization=`Bearer ${r}`);const s=await fetch(`${In}${e}`,{method:"DELETE",credentials:"include",headers:t});if(!s.ok)throw s.status===401?(console.log("Token invalid, clearing session..."),Rt(null),window.location.href="/login",new Error("Authentication failed - please log in again")):new Error(`API request failed: ${s.status}`);return s.json()}},$m={async deleteUser(e){return A.delete(`/admin/users/${e}`)},async deactivateUser(e){return A.post(`/admin/users/${e}/deactivate`)},async activateUser(e){return A.post(`/admin/users/${e}/activate`)},async cleanupCorruptedUsers(){return A.post("/admin/cleanup-corrupted-users")}},Bm=p.createContext(void 0);function Ct(){const e=p.useContext(Bm);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Xf({children:e}){const[t,r]=p.useState(null),[s,l]=p.useState(!0),[a,i]=p.useState(null),c=async()=>{try{i(null),l(!0);const m=await A.get("/me");m.user?r(m.user):r(null)}catch(m){console.error("Failed to fetch user:",m),r(null)}finally{l(!1)}},o=async m=>{try{i(null),l(!0),await A.post("/auth/dev-login",{uid:m}),await c()}catch(u){const N=u.message||"Login failed";throw i(N),r(null),u}finally{l(!1)}},d=async(m,u)=>{try{i(null),l(!0);const N=await A.post("/auth/login",{email:m,password:u});N.ok&&N.user?(N.sessionToken&&Rt(N.sessionToken),await c()):await c()}catch(N){const j=N.message||"Login failed";throw i(j),r(null),N}finally{l(!1)}},x=async m=>{try{i(null),l(!0);const u=await A.post("/auth/google",{idToken:m});u.ok&&u.user?(u.sessionToken&&Rt(u.sessionToken),await c()):await c()}catch(u){const N=u.message||"Google login failed";throw i(N),r(null),u}finally{l(!1)}},h=async(m,u,N)=>{try{i(null),l(!0);const j=await A.post("/auth/register",{email:m,password:u,name:N});j.ok&&j.user?(j.sessionToken&&Rt(j.sessionToken),await c()):await c()}catch(j){const P=j.message||"Registration failed";throw i(P),r(null),j}finally{l(!1)}},g=async()=>{try{i(null),await A.post("/auth/logout")}catch(m){console.error("Logout error:",m)}finally{Rt(null),r(null),i(null)}},b=async m=>{try{i(null),l(!0),await A.put("/auth/profile",m),await c()}catch(u){const N=u.message||"Profile update failed";throw i(N),u}finally{l(!1)}},w=async(m,u)=>{try{i(null),l(!0),await A.post("/auth/change-password",{currentPassword:m,newPassword:u})}catch(N){const j=N.message||"Password change failed";throw i(j),N}finally{l(!1)}},y=async()=>{try{i(null),l(!0);const m=await A.post("/billing/cancel");return m.ok?(await c(),{ok:!0,message:m.message||"Subscription cancelled successfully."}):{ok:!1,error:m.message||"Failed to cancel subscription."}}catch(m){const u=m.message||"Subscription cancellation failed";return i(u),{ok:!1,error:u}}finally{l(!1)}},k=()=>{i(null)};p.useEffect(()=>{localStorage.getItem("quickstage_session_token")?c():l(!1)},[]);const f={user:t,loading:s,error:a,login:o,loginWithEmailPassword:d,loginWithGoogle:x,registerWithEmailPassword:h,logout:g,refreshUser:c,clearError:k,isAuthenticated:!!t,updateProfile:b,changePassword:w,cancelSubscription:y};return n.jsx(Bm.Provider,{value:f,children:e})}function mo({className:e=""}){const[t,r]=p.useState([]),[s,l]=p.useState(0),[a,i]=p.useState(!1),[c,o]=p.useState(!1),d=async()=>{try{o(!0);const y=(await A.get("/api/notifications")).notifications||[];r(y),l(y.filter(k=>!k.readAt).length)}catch(w){console.error("Failed to load notifications:",w)}finally{o(!1)}};p.useEffect(()=>{d()},[]);const x=async w=>{try{await A.post(`/api/notifications/${w}/read`),r(y=>y.map(k=>k.id===w?{...k,readAt:Date.now()}:k)),l(y=>Math.max(0,y-1))}catch(y){console.error("Failed to mark notification as read:",y)}},h=async()=>{try{await A.post("/api/notifications/read-all"),r(w=>w.map(y=>({...y,readAt:Date.now()}))),l(0)}catch(w){console.error("Failed to mark all notifications as read:",w)}},g=w=>{w.readAt||x(w.id),w.actionUrl&&(window.location.href=w.actionUrl),i(!1)},b=w=>{const k=Date.now()-w,f=Math.floor(k/(1e3*60)),m=Math.floor(k/(1e3*60*60)),u=Math.floor(k/(1e3*60*60*24));return f<1?"Just now":f<60?`${f}m ago`:m<24?`${m}h ago`:`${u}d ago`};return n.jsxs("div",{className:`relative ${e}`,children:[n.jsxs("button",{onClick:()=>i(!a),className:"relative p-1.5 text-gray-600 hover:text-gray-900 focus:outline-none focus:text-gray-900 transition-colors","aria-label":`Notifications ${s>0?`(${s} unread)`:""}`,children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:n.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})}),s>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:s>99?"99+":s})]}),a&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-96 overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-inconsolata",children:"Notifications"}),s>0&&n.jsx("button",{onClick:h,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Mark all read"})]}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:c?n.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading..."}):t.length===0?n.jsxs("div",{className:"p-6 text-center text-gray-500",children:[n.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})}),n.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):t.map(w=>n.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${w.readAt?"":"bg-blue-50"}`,onClick:()=>g(w),children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${w.type==="comment_reply"?"bg-blue-100":w.type==="comment_new"?"bg-green-100":w.type==="comment_resolved"?"bg-purple-100":"bg-gray-100"}`,children:n.jsx("svg",{className:`w-4 h-4 ${w.type==="comment_reply"?"text-blue-600":w.type==="comment_new"?"text-green-600":w.type==="comment_resolved"?"text-purple-600":"text-gray-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:w.title}),!w.readAt&&n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-2 flex-shrink-0"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:w.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:b(w.createdAt)})]})]})},w.id))}),t.length>0&&n.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:n.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium w-full text-center",children:"View all notifications"})})]})]})]})}function ho({projects:e,selectedProjectId:t,onSelectProject:r,onRefreshProjects:s,user:l,isCollapsed:a=!1,onToggleCollapse:i}){const c=fn(),[o,d]=p.useState(!1),[x,h]=p.useState(""),[g,b]=p.useState("#4F46E5"),[w,y]=p.useState(!1),k=["#4F46E5","#7C3AED","#EC4899","#EF4444","#F59E0B","#10B981","#3B82F6","#6B7280"],f=async()=>{if(x.trim()){y(!0);try{await A.post("/api/projects",{name:x,color:g}),h(""),d(!1),s()}catch(j){console.error("Failed to create project:",j)}finally{y(!1)}}},m=async j=>{if(confirm("Are you sure you want to delete this project? This action cannot be undone."))try{await A.delete(`/api/projects/${j}`),t===j&&r(void 0),s()}catch(P){alert(P.error||"Failed to delete project")}},u=e.filter(j=>!j.isArchived||j.id==="__no_project__"),N=e.filter(j=>j.isArchived&&j.id!=="__no_project__");return n.jsxs("div",{className:`${a?"w-16":"w-64"} bg-white border-r border-gray-200 h-full overflow-y-auto transition-all duration-300 flex flex-col font-poppins`,children:[n.jsx("div",{className:"p-4 flex-1",children:n.jsxs("nav",{className:"space-y-1",children:[n.jsxs("button",{onClick:()=>r(void 0),className:`w-full flex items-center px-3 py-2 rounded-lg transition-colors ${c.pathname==="/dashboard"&&!t?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50 text-gray-700"}`,title:a?"Dashboard":"",children:[n.jsxs("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v0"})]}),!a&&n.jsx("span",{className:"font-medium",children:"Dashboard"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsxs("div",{className:"flex items-center px-3 py-2 rounded-lg transition-colors hover:bg-gray-50 text-gray-700",children:[n.jsx("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),!a&&n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("span",{className:"font-medium",children:"Projects"}),n.jsx("button",{onClick:()=>d(!0),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"New Project",children:n.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]}),o&&!a&&n.jsxs("div",{className:"ml-6 mt-2 mb-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("input",{type:"text",value:x,onChange:j=>h(j.target.value),placeholder:"Project name...",className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-2 text-sm",autoFocus:!0,onKeyPress:j=>j.key==="Enter"&&f()}),n.jsx("div",{className:"flex gap-1 mb-2",children:k.map(j=>n.jsx("button",{onClick:()=>b(j),className:`w-6 h-6 rounded ${g===j?"ring-2 ring-offset-1 ring-gray-400":""}`,style:{backgroundColor:j}},j))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:f,disabled:w||!x.trim(),className:"flex-1 px-3 py-1 bg-indigo-600 text-white rounded-md text-sm hover:bg-indigo-700 disabled:opacity-50",children:"Create"}),n.jsx("button",{onClick:()=>{d(!1),h("")},className:"flex-1 px-3 py-1 bg-gray-200 text-gray-700 rounded-md text-sm hover:bg-gray-300",children:"Cancel"})]})]}),!a&&n.jsx("div",{className:"ml-6 space-y-1",children:u.map(j=>n.jsxs("div",{className:`group relative flex items-center px-3 py-2 rounded-lg cursor-pointer transition-colors ${t===j.id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>r(j.id),title:j.name,children:[j.id==="__no_project__"?n.jsx("svg",{className:"w-3 h-3 mr-2 flex-shrink-0 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}):n.jsx("div",{className:"w-3 h-3 rounded-full mr-2 flex-shrink-0",style:{backgroundColor:j.color||"#6B7280"}}),n.jsx("span",{className:"flex-1 text-sm truncate",children:j.name}),n.jsx("span",{className:"text-xs text-gray-500",children:j.snapshotCount}),j.snapshotCount===0&&j.id!=="__no_project__"&&n.jsx("button",{onClick:P=>{P.stopPropagation(),m(j.id)},className:"ml-2 opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete project",children:n.jsx("svg",{className:"w-4 h-4 text-red-500 hover:text-red-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},j.id))})]}),n.jsxs(Oe,{to:"/settings",className:`flex items-center px-3 py-2 rounded-lg transition-colors ${c.pathname==="/settings"?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50 text-gray-700"}`,title:a?"Settings":"",children:[n.jsxs("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),!a&&n.jsx("span",{className:"font-medium",children:"Settings"})]}),(l==null?void 0:l.role)==="superadmin"&&n.jsxs(Oe,{to:"/admin",className:`flex items-center px-3 py-2 rounded-lg transition-colors ${c.pathname==="/admin"?"bg-red-50 text-red-700":"hover:bg-red-50 text-red-600"}`,title:a?"Admin Panel":"",children:[n.jsx("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),!a&&n.jsx("span",{className:"font-medium",children:"Admin"})]})]})}),!a&&N.length>0&&n.jsxs("div",{className:"px-4 pb-4",children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2 mt-4",children:"Archived"}),n.jsx("div",{className:"space-y-1",children:N.map(j=>n.jsxs("div",{className:`flex items-center px-3 py-2 rounded-lg cursor-pointer transition-colors opacity-50 ${t===j.id?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>r(j.id),children:[n.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:j.color||"#6B7280"}}),n.jsx("span",{className:"flex-1 text-gray-600 truncate",children:j.name}),n.jsx("span",{className:"text-xs text-gray-400",children:j.snapshotCount})]},j.id))})]}),i&&n.jsx("div",{className:"mt-auto border-t border-gray-200",children:n.jsx("div",{className:"flex justify-center p-4",children:n.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:a?"Expand sidebar":"Collapse sidebar",children:n.jsx("svg",{className:`w-4 h-4 text-gray-600 transition-transform ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})})})})]})}function Om({onClose:e,onSubmit:t}){const[r,s]=p.useState([]),[l,a]=p.useState(""),[i,c]=p.useState(""),[o,d]=p.useState(""),[x,h]=p.useState(""),[g,b]=p.useState(null),w=()=>{if(!l.trim()||!i.trim()){b("Please enter both name and email");return}if(r.some(m=>m.userEmail===l)){b("This reviewer is already added");return}const f=`user_${l.replace(/[^a-zA-Z0-9]/g,"_")}`;s([...r,{userId:f,userName:i,userEmail:l}]),a(""),c(""),b(null)},y=f=>{s(r.filter(m=>m.userEmail!==f))},k=f=>{if(f.preventDefault(),r.length===0){b("Please add at least one reviewer");return}const m=o?new Date(o).toISOString():void 0;t({reviewers:r,deadline:m,notes:x.trim()||void 0})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-inconsolata",children:"Request Review"}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("form",{onSubmit:k,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Reviewers"}),n.jsxs("div",{className:"space-y-2 mb-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",placeholder:"Reviewer name",value:i,onChange:f=>c(f.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("input",{type:"email",placeholder:"reviewer@example.com",value:l,onChange:f=>a(f.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsx("button",{type:"button",onClick:w,className:"w-full px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Reviewer"})]}),r.length>0&&n.jsx("div",{className:"space-y-2",children:r.map(f=>n.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:f.userName}),n.jsx("p",{className:"text-sm text-gray-600",children:f.userEmail})]}),n.jsx("button",{type:"button",onClick:()=>y(f.userEmail),className:"text-red-500 hover:text-red-700",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},f.userEmail))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deadline (optional)"}),n.jsx("input",{type:"datetime-local",value:o,onChange:f=>d(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (optional)"}),n.jsx("textarea",{value:x,onChange:f=>h(f.target.value),placeholder:"Add any specific instructions or context for reviewers...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),g&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:n.jsx("p",{className:"text-red-600 text-sm",children:g})}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Send Review Request"})]})]})]})})})}function Jf({snapshots:e,onRefresh:t,selectedSnapshots:r,onToggleSelect:s,onSelectAll:l}){var Wt;const[a,i]=p.useState("createdAt"),[c,o]=p.useState("desc"),[d,x]=p.useState(""),[h,g]=p.useState(!1),[b,w]=p.useState(new Set),[y,k]=p.useState(new Set),[f,m]=p.useState(new Set),[u,N]=p.useState(null),[j,P]=p.useState(""),[L,S]=p.useState(null),[M,D]=p.useState(null),[U,W]=p.useState(null),[Q,re]=p.useState(""),[ae,J]=p.useState(new Set),[Z,R]=p.useState(new Set),[E,_]=p.useState(null),[F,q]=p.useState(new Set),{user:Y}=Ct();Xn.useEffect(()=>{(async()=>{if(Y)try{const G=(await A.get("/api/subscriptions")).subscriptions||[],z=G.filter(be=>be.isActive&&!be.commentId).map(be=>be.snapshotId),O=G.filter(be=>!be.isActive&&!be.commentId).map(be=>be.snapshotId);J(new Set([...z,...O])),R(new Set(O))}catch(B){console.error("Failed to load user subscriptions:",B)}})()},[Y]);const K=C=>{a===C?o(c==="asc"?"desc":"asc"):(i(C),o("asc"))},ce=p.useMemo(()=>{let C=[...e];if(d){const B=d.toLowerCase();C=C.filter(G=>{var z,O,be,ke;return((z=G.name)==null?void 0:z.toLowerCase().includes(B))||G.id.toLowerCase().includes(B)||((O=G.description)==null?void 0:O.toLowerCase().includes(B))||((be=G.clientName)==null?void 0:be.toLowerCase().includes(B))||((ke=G.tags)==null?void 0:ke.some(zl=>zl.toLowerCase().includes(B)))})}return h||(C=C.filter(B=>new Date(B.expiresAt)>new Date)),C.sort((B,G)=>{let z,O;switch(a){case"name":z=B.name||`Snapshot ${B.id.slice(0,8)}`,O=G.name||`Snapshot ${G.id.slice(0,8)}`;break;case"createdAt":z=new Date(B.createdAt).getTime(),O=new Date(G.createdAt).getTime();break;case"updatedAt":z=new Date(B.lastModifiedAt||B.updatedAt||B.createdAt).getTime(),O=new Date(G.lastModifiedAt||G.updatedAt||G.createdAt).getTime();break;case"expiresAt":z=new Date(B.expiresAt).getTime(),O=new Date(G.expiresAt).getTime();break;case"viewCount":z=B.viewCount||0,O=G.viewCount||0;break;case"commentCount":z=B.commentCount||0,O=G.commentCount||0;break;default:return 0}return typeof z=="string"&&typeof O=="string"?c==="asc"?z.localeCompare(O):O.localeCompare(z):c==="asc"?z-O:O-z}),C},[e,a,c,d,h]),V=async(C,B,G)=>{const z=`${kt.PUBLIC_BASE_URL}/s/${C}`;try{await navigator.clipboard.writeText(z),w(O=>new Set(O).add(C)),S({x:B.clientX,y:B.clientY,text:"URL Copied"}),setTimeout(()=>{w(O=>{const be=new Set(O);return be.delete(C),be}),S(null)},2e3)}catch(O){console.error("Failed to copy:",O)}},se=async(C,B)=>{try{await A.post(`/api/snapshots/${C}/extend`,{days:7}),k(G=>new Set(G).add(C)),S({x:B.clientX,y:B.clientY,text:"Expiration Extended"}),setTimeout(()=>{k(G=>{const z=new Set(G);return z.delete(C),z}),S(null)},2e3),t()}catch(G){console.error("Failed to extend snapshot:",G)}},ye=async(C,B)=>{const G=`${kt.PUBLIC_BASE_URL}/s/${C}`;if(B)try{await navigator.clipboard.writeText(B),console.log("Password copied to clipboard")}catch(z){console.error("Failed to copy password:",z)}window.open(G,"_blank")},me=async(C,B,G)=>{try{await navigator.clipboard.writeText(B),m(z=>new Set(z).add(C)),S({x:G.clientX,y:G.clientY,text:"Password Copied"}),setTimeout(()=>{m(z=>{const O=new Set(z);return O.delete(C),O}),S(null)},2e3)}catch(z){console.error("Failed to copy password:",z)}},Bt=async C=>{if(j.trim())try{const B=await A.put(`/api/snapshots/${C}`,{password:j});await navigator.clipboard.writeText(j),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Password Copied"}),setTimeout(()=>{S(null)},2e3),N(null),P(""),t()}catch(B){console.error("Failed to change password:",B)}},vt=C=>{H(C)&&(W(C.id),re(C.name||`Snapshot ${C.id.slice(0,8)}`))},xn=()=>{W(null),re("")},dt=async C=>{if(!Q.trim()){xn();return}try{await A.put(`/api/snapshots/${C}`,{name:Q.trim()}),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Name updated"}),setTimeout(()=>S(null),2e3),W(null),re(""),t()}catch(B){console.error("Failed to rename snapshot:",B),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Failed to update name"}),setTimeout(()=>S(null),2e3)}},xr=(C,B)=>{C.key==="Enter"?dt(B):C.key==="Escape"&&xn()},Et=async C=>{if(!M){console.error("No snapshot ID provided for review request");return}console.log("Requesting review for snapshot:",M);const B=e.find(z=>z.id===M);if(!B){console.error("Snapshot not found in current list:",M),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Snapshot not found"}),setTimeout(()=>S(null),2e3);return}if(new Date(B.expiresAt)<=new Date){console.warn("Attempting to request review on expired snapshot:",M),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Cannot request review on expired snapshot"}),setTimeout(()=>S(null),3e3);return}try{console.log("Verifying snapshot exists on backend:",M),await A.get(`/api/snapshots/${M}`),console.log("Snapshot verification successful")}catch(z){if(console.error("Snapshot verification failed:",z),z.message&&z.message.includes("404")){console.error("Snapshot no longer exists on backend:",M),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Snapshot no longer exists - refreshing list..."}),setTimeout(()=>{S(null),t()},2e3);return}console.warn("Could not verify snapshot existence, proceeding with review request:",z)}try{const z=`/api/snapshots/${M}/reviews`;console.log("Making review request to:",z),console.log("Request data:",{reviewers:C.reviewers,deadline:C.deadline,notes:C.notes}),await A.post(z,{reviewers:C.reviewers,deadline:C.deadline,notes:C.notes}),console.log("Review request successful for snapshot:",M),D(null),t(),S({x:window.innerWidth/2,y:window.innerHeight/2,text:"Review Requested"}),setTimeout(()=>{S(null)},2e3)}catch(z){console.error("Failed to request review for snapshot:",M),console.error("Error details:",z),console.error("Error message:",z.message),console.error("Error response:",z.response);let O="Review Request Failed";z.message&&(z.message.includes("404")?z.message.includes("Snapshot not found")?(console.log("Snapshot not found error detected, refreshing snapshot list"),O="Snapshot no longer exists - refreshing list...",setTimeout(()=>{console.log("Refreshing snapshot list due to 404 error"),t()},1e3)):O="API endpoint not found":z.message.includes("401")?O="Authentication required":z.message.includes("403")?O="Not authorized - you must own this snapshot to request reviews":z.message.includes("500")&&(O="Server error")),S({x:window.innerWidth/2,y:window.innerHeight/2,text:O}),setTimeout(()=>{S(null)},3e3)}},Tn=async C=>{if(!Y)return;const B=ae.has(C),G=Z.has(C);q(z=>new Set(z).add(C));try{B?G?(await A.post(`/api/snapshots/${C}/subscribe`,{}),R(z=>{const O=new Set(z);return O.delete(C),O}),Ot(C,"Resumed")):(await A.post(`/api/snapshots/${C}/unsubscribe`,{}),R(z=>new Set(z).add(C)),Ot(C,"Paused")):(await A.post(`/api/snapshots/${C}/subscribe`,{}),J(z=>new Set(z).add(C)),R(z=>{const O=new Set(z);return O.delete(C),O}),Ot(C,"Followed"))}catch(z){console.error("Follow/unfollow error:",z);const O=B?G?"resume":"pause":"follow";console.error(z.message||`Failed to ${O} snapshot`)}finally{q(z=>{const O=new Set(z);return O.delete(C),O})}},Ot=(C,B)=>{_({snapshotId:C,message:B}),setTimeout(()=>{_(null)},2e3)},H=C=>{if(!Y)return!1;const B=Y.uid||Y.id;return B?C.ownerUid?C.ownerUid===B:!0:!1},ee=C=>new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),Ue=C=>{const B=new Date,z=new Date(C).getTime()-B.getTime();return Math.ceil(z/(1e3*60*60*24))},An=C=>C<0?"text-gray-500":C<=1?"text-red-600":C<=3?"text-orange-600":C<=7?"text-yellow-600":"text-green-600",Re=({field:C})=>a!==C?n.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):c==="asc"?n.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):n.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})});return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n.jsx("input",{type:"text",value:d,onChange:C=>x(C.target.value),placeholder:"Search snapshots...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:h,onChange:C=>g(C.target.checked),className:"mr-2 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Show expired"})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[ce.length," of ",e.length," snapshots"]})]})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left",children:n.jsx("input",{type:"checkbox",checked:ce.length>0&&ce.every(C=>r.has(C.id)),onChange:C=>l(C.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>K("name"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Name",n.jsx(Re,{field:"name"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>K("createdAt"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Created",n.jsx(Re,{field:"createdAt"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>K("expiresAt"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Expires",n.jsx(Re,{field:"expiresAt"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>K("viewCount"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Views",n.jsx(Re,{field:"viewCount"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Review"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce.map(C=>{var O,be;const B=Ue(C.expiresAt),G=An(B),z=B<0;return n.jsxs("tr",{className:`hover:bg-gray-50 ${z?"opacity-60":""}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:r.has(C.id),onChange:()=>s(C.id),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[U===C.id?n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("input",{type:"text",value:Q,onChange:ke=>re(ke.target.value),onKeyDown:ke=>xr(ke,C.id),onBlur:()=>dt(C.id),className:"text-sm font-medium text-gray-900 bg-transparent border-b border-indigo-500 focus:outline-none focus:border-indigo-700",autoFocus:!0})}):n.jsxs("div",{children:[n.jsx("div",{className:`text-sm font-medium text-gray-900 ${H(C)?"cursor-pointer hover:text-indigo-600":""}`,onClick:()=>vt(C),title:H(C)?"Click to rename":"",children:C.name||`Snapshot ${C.id.slice(0,8)}`}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["ID: ",C.id]})]}),C.tags&&C.tags.length>0&&n.jsx("div",{className:"flex gap-1 mt-1",children:C.tags.map(ke=>n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:ke},ke))})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ee(C.createdAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:`text-sm ${G}`,children:z?"Expired":`${B} days`})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900 cursor-default",title:"Views - Unique Viewers",children:[C.viewCount||0," - ",C.uniqueViewers||0]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(O=C.review)!=null&&O.isRequested?n.jsx("div",{className:"flex items-center gap-1",children:n.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${C.review.status==="completed"?"bg-green-100 text-green-800":C.review.status==="overdue"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[C.review.checkedOffCount,"/",C.review.totalReviewers]})}):n.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>ye(C.id,C.password),className:"text-indigo-600 hover:text-indigo-900",title:"View snapshot",children:n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),n.jsx("button",{onClick:ke=>V(C.id,ke,C.password),className:"text-gray-600 hover:text-gray-900",title:"Copy URL",children:b.has(C.id)?n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),!z&&B<=7&&n.jsx("button",{onClick:ke=>se(C.id,ke),className:"text-orange-600 hover:text-orange-900",title:"Extend expiration by 7 days",children:y.has(C.id)?n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),C.password&&n.jsx("button",{onClick:ke=>me(C.id,C.password,ke),className:"text-gray-600 hover:text-gray-900",title:"Copy password",children:f.has(C.id)?n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),H(C)&&!((be=C.review)!=null&&be.isRequested)&&n.jsx("button",{onClick:()=>D(C.id),className:"text-purple-600 hover:text-purple-900",title:"Request review",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),n.jsx("button",{onClick:()=>N(C.id),className:"text-blue-600 hover:text-blue-900",title:"Change password",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),n.jsx("button",{onClick:()=>Tn(C.id),disabled:F.has(C.id),className:`${ae.has(C.id)?Z.has(C.id)?"text-yellow-600 hover:text-yellow-900":"text-green-600 hover:text-green-900":"text-gray-600 hover:text-gray-900"} ${F.has(C.id)?"opacity-50 cursor-not-allowed":""}`,title:ae.has(C.id)?Z.has(C.id)?"Resume notifications (currently paused)":"Unfollow notifications (currently active)":"Follow notifications",children:F.has(C.id)?n.jsx("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):ae.has(C.id)?Z.has(C.id)?n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})})]},C.id)})})]})}),ce.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 font-inconsolata",children:"No snapshots found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:d?"Try adjusting your search":"Get started by creating a new snapshot"})]}),L&&n.jsx("div",{className:"fixed z-50 bg-black text-white px-2 py-1 rounded text-sm pointer-events-none",style:{left:L.x+10,top:L.y-30},children:L.text}),E&&n.jsx("div",{className:"fixed top-4 right-4 z-50 bg-green-100 border border-green-200 text-green-800 px-4 py-2 rounded-lg shadow-lg",children:E.message}),u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4 font-inconsolata",children:"Change Password"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),n.jsx("div",{className:"p-3 bg-gray-100 rounded border text-sm text-gray-800 font-mono",children:((Wt=e.find(C=>C.id===u))==null?void 0:Wt.password)||"No password set"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),n.jsx("input",{type:"text",id:"newPassword",value:j,onChange:C=>P(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter new password",autoFocus:!0})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>{N(null),P("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg",children:"Cancel"}),n.jsx("button",{onClick:()=>Bt(u),disabled:!j.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-lg",children:"Set new password"})]})]})}),M&&n.jsx(Om,{onClose:()=>D(null),onSubmit:Et})]})}function Zf({snapshots:e,onExtend:t}){const r=e.filter(o=>new Date(o.expiresAt)>new Date),s=r.filter(o=>{const d=Math.ceil((new Date(o.expiresAt).getTime()-Date.now())/864e5);return d<=3&&d>0}),l=e.filter(o=>{var d;return((d=o.review)==null?void 0:d.isRequested)&&o.review.status==="pending"}),a=e.filter(o=>{var d;return((d=o.review)==null?void 0:d.isRequested)&&o.review.status==="overdue"}),i=[...e].filter(o=>o.viewCount>0).sort((o,d)=>(d.viewCount||0)-(o.viewCount||0)).slice(0,5),c=[...e].filter(o=>{var d;return((d=o.analytics)==null?void 0:d.recentViewers)&&o.analytics.recentViewers.length>0}).slice(0,5);return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Review Status"}),n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})]}),n.jsxs("div",{className:"space-y-2",children:[l.length>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Pending Reviews"}),n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:l.length})]}),a.length>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Overdue Reviews"}),n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:a.length})]}),l.length===0&&a.length===0&&n.jsx("p",{className:"text-sm text-gray-500",children:"No pending reviews"}),(l.length>0||a.length>0)&&n.jsx("div",{className:"pt-2 mt-2 border-t border-gray-100",children:[...a,...l].slice(0,3).map(o=>n.jsx(Oe,{to:`/viewer/${o.id}`,target:"_blank",rel:"noopener noreferrer",className:"block py-1 text-sm text-indigo-600 hover:text-indigo-800 truncate",children:o.name||`Snapshot ${o.id.slice(0,8)}`},o.id))})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Expiring Soon"}),n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),s.length>0?n.jsx("div",{className:"space-y-2",children:s.slice(0,5).map(o=>{const d=Math.ceil((new Date(o.expiresAt).getTime()-Date.now())/864e5);return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Oe,{to:`/viewer/${o.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-700 hover:text-indigo-600 truncate flex-1 mr-2",children:o.name||`Snapshot ${o.id.slice(0,8)}`}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:`text-xs font-medium ${d<=1?"text-red-600":"text-orange-600"}`,children:[d," day",d!==1?"s":""]}),o.viewCount>0&&n.jsx("button",{onClick:()=>t(o.id),className:"text-xs text-indigo-600 hover:text-indigo-800",children:"Extend"})]})]},o.id)})}):n.jsx("p",{className:"text-sm text-gray-500",children:"No snapshots expiring soon"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Most Viewed"}),n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})]}),i.length>0?n.jsx("div",{className:"space-y-2",children:i.map(o=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Oe,{to:`/viewer/${o.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-700 hover:text-indigo-600 truncate flex-1 mr-2",children:o.name||`Snapshot ${o.id.slice(0,8)}`}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),n.jsx("span",{className:"text-xs text-gray-600",children:o.viewCount})]})]},o.id))}):n.jsx("p",{className:"text-sm text-gray-500",children:"No views yet"})]}),n.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl shadow-sm p-4 text-white",children:[n.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Quick Stats"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:r.length}),n.jsx("p",{className:"text-xs opacity-90",children:"Active Snapshots"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:e.reduce((o,d)=>o+(d.viewCount||0),0)}),n.jsx("p",{className:"text-xs opacity-90",children:"Total Views"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:e.reduce((o,d)=>o+(d.commentCount||0),0)}),n.jsx("p",{className:"text-xs opacity-90",children:"Comments"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:e.filter(o=>{var d;return(d=o.review)==null?void 0:d.isRequested}).length}),n.jsx("p",{className:"text-xs opacity-90",children:"Reviews"})]})]})]}),c.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 md:col-span-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Recent Activity"}),n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),n.jsx("div",{className:"space-y-2",children:c.map(o=>{var d,x,h,g;return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Oe,{to:`/viewer/${o.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-700 hover:text-indigo-600 truncate flex-1 mr-2",children:o.name||`Snapshot ${o.id.slice(0,8)}`}),n.jsxs("span",{className:"text-xs text-gray-500",children:[(x=(d=o.analytics)==null?void 0:d.recentViewers)==null?void 0:x.length," recent viewer",((g=(h=o.analytics)==null?void 0:h.recentViewers)==null?void 0:g.length)!==1?"s":""]})]},o.id)})})]})]})}function ex({selectedSnapshots:e,projects:t,snapshots:r,onClearSelection:s,onRefresh:l}){const[a,i]=p.useState(!1),[c,o]=p.useState(!1),[d,x]=p.useState(!1),[h,g]=p.useState(""),[b,w]=p.useState("");if(e.size===0)return null;const y=e.size===1?r.find(j=>e.has(j.id)):null,k=async()=>{i(!0);try{const j=Array.from(e).map(P=>A.post(`/api/snapshots/${P}/extend`,{days:7}));await Promise.all(j),l(),s()}catch(j){console.error("Failed to extend snapshots:",j),alert("Some snapshots could not be extended")}finally{i(!1)}},f=async()=>{if(h){i(!0);try{const P=(await Promise.allSettled(Array.from(e).map(L=>A.put(`/api/snapshots/${L}`,{projectId:h==="__no_project__"?null:h})))).filter(L=>L.status==="rejected");P.length>0&&(console.error("Failed to move some snapshots:",P),alert(`${P.length} snapshot(s) could not be moved. They may have been deleted or you may not have permission.`)),l(),s(),o(!1)}catch(j){console.error("Failed to move snapshots:",j),alert("Failed to move snapshots")}finally{i(!1)}}},m=async()=>{const j=e.size;if(confirm(`Are you sure you want to delete ${j} snapshot${j!==1?"s":""}? This action cannot be undone.`)){i(!0);try{const P=Array.from(e).map(L=>A.delete(`/api/snapshots/${L}`));await Promise.all(P),l(),s()}catch(P){console.error("Failed to delete snapshots:",P),alert("Some snapshots could not be deleted")}finally{i(!1)}}},u=async()=>{if(!(!y||!b.trim())){i(!0);try{await A.put(`/api/snapshots/${y.id}`,{name:b.trim()}),l(),s(),x(!1),w("")}catch(j){console.error("Failed to rename snapshot:",j),alert("Failed to rename snapshot")}finally{i(!1)}}},N=()=>{y&&(w(y.name||""),x(!0))};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-sm text-gray-700",children:[e.size," snapshot",e.size!==1?"s":""," selected"]}),n.jsxs("div",{className:"flex gap-2",children:[e.size===1&&n.jsx("button",{onClick:N,disabled:a,className:"px-3 py-1 text-sm bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:"Rename"}),n.jsx("button",{onClick:()=>o(!0),disabled:a,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Move to Project"}),n.jsx("button",{onClick:k,disabled:a,className:"px-3 py-1 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:"Extend Expiry"}),n.jsx("button",{onClick:m,disabled:a,className:"px-3 py-1 text-sm bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:"Delete"}),n.jsx("button",{onClick:s,className:"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"})]})]}),a&&n.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-600",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Processing..."]})]})}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Move to Project"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Move ",e.size," snapshot",e.size!==1?"s":""," to:"]}),n.jsxs("select",{value:h,onChange:j=>g(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 mb-4",children:[n.jsx("option",{value:"",children:"Select project..."}),n.jsx("option",{value:"__no_project__",children:"No Project"}),t.filter(j=>!j.isArchived).map(j=>n.jsx("option",{value:j.id,children:j.name},j.id))]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:f,disabled:!h||a,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:a?"Moving...":"Move"}),n.jsx("button",{onClick:()=>{o(!1),g("")},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"})]})]})}),d&&y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rename Snapshot"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:['Enter a new name for "',y.name,'":']}),n.jsx("input",{type:"text",value:b,onChange:j=>w(j.target.value),onKeyDown:j=>{j.key==="Enter"&&b.trim()?u():j.key==="Escape"&&(x(!1),w(""))},placeholder:"Snapshot name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 mb-4",autoFocus:!0}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:u,disabled:!b.trim()||a,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:a?"Renaming...":"Rename"}),n.jsx("button",{onClick:()=>{x(!1),w("")},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"})]})]})})]})}function Wm({snapshots:e,projects:t,onRefresh:r,onExtendSnapshot:s,selectedProjectId:l,onSelectProject:a,showWidgets:i=!0,showExtensionSection:c=!1,user:o,title:d="Dashboard",subtitle:x}){var f;const[h,g]=p.useState(new Set),b=l?e.filter(m=>m.projectId===l):e,w=m=>{const u=new Set(h);u.has(m)?u.delete(m):u.add(m),g(u)},y=m=>{g(m?new Set(b.map(u=>u.id)):new Set)},k=()=>{g(new Set)};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 font-inconsolata",children:l?((f=t.find(m=>m.id===l))==null?void 0:f.name)||"Project":d}),x&&n.jsx("p",{className:"text-gray-600",children:x})]})}),!l&&i&&n.jsx(Zf,{snapshots:e,onExtend:s}),n.jsx(Jf,{snapshots:b,onRefresh:r,selectedSnapshots:h,onToggleSelect:w,onSelectAll:y}),n.jsx(ex,{selectedSnapshots:h,snapshots:b,projects:t,onClearSelection:k,onRefresh:r})]})}function tx(){St();const[e,t]=Kf(),{user:r,logout:s,refreshUser:l}=Ct(),[a,i]=p.useState([]),[c,o]=p.useState([]),[d,x]=p.useState(),[h,g]=p.useState(!0),[b,w]=p.useState(""),[y,k]=p.useState(""),[f,m]=p.useState(""),[u,N]=p.useState(!1),[j,P]=p.useState(!1),[L,S]=p.useState(!1),[M,D]=p.useState(!1),[U,W]=p.useState(!1),[Q,re]=p.useState(!1),[ae,J]=p.useState(""),[Z,R]=p.useState([]),[E,_]=p.useState(!1),[F,q]=p.useState(""),[Y,K]=p.useState(""),[ce,V]=p.useState(!1);p.useEffect(()=>{const H=e.get("trial"),ee=e.get("billing"),Ue=e.get("success");(H==="started"||ee==="success"||Ue==="true")&&(console.log("Post-checkout detected, refreshing user data..."),l==null||l(),t({}),H==="started"?k("Welcome to your Pro trial! You now have access to all Pro features."):(ee==="success"||Ue==="true")&&k("Subscription activated! You now have full access to Pro features."),setTimeout(()=>k(""),5e3))},[e,l,t]),p.useEffect(()=>{se(),ye()},[]),p.useEffect(()=>{(async()=>{try{await A.post("/analytics/track",{eventType:"page_view",eventData:{page:"Dashboard"}})}catch(ee){console.error("Failed to track page view:",ee)}})()},[]);const se=async()=>{g(!0);try{const[H,ee]=await Promise.all([A.get("/api/snapshots/list"),A.get("/api/projects")]);o(H.snapshots||[]),i(ee.projects||[])}catch(H){w("Failed to load data"),console.error(H)}finally{g(!1)}},ye=async()=>{const H=localStorage.getItem("quickstage-downloaded-version");H&&K(H);try{const ee=await fetch(kt.VERSION_INFO_URL);if(ee.ok){const Ue=await ee.json();q(Ue.version),Y&&Y!==Ue.version&&V(!0)}}catch(ee){console.error("Failed to check for updates:",ee)}},me=async H=>{try{await A.post(`/api/snapshots/${H}/extend`),se(),Bt("Snapshot extended successfully")}catch{vt("Failed to extend snapshot")}},Bt=H=>{k(H),setTimeout(()=>k(""),3e3)},vt=H=>{m(H),setTimeout(()=>m(""),3e3)},xn=()=>{const H=`${window.location.origin}${kt.EXTENSION_DOWNLOAD_URL}`,ee=`${window.location.origin}${kt.API_BASE_URL}/extensions/download`;dt(H,ee),setTimeout(()=>{D(!0)},1e3)},dt=async(H,ee)=>{try{const Ue=await fetch(H,{method:"HEAD"});let An=H;!Ue.ok&&ee&&(console.warn("Primary download URL failed, using backup"),(await fetch(ee,{method:"HEAD"})).ok&&(An=ee));const Re=document.createElement("a");if(Re.href=An,Re.download=`quickstage-${F}.vsix`,document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),F){localStorage.setItem("quickstage-downloaded-version",F),K(F),V(!1);const Wt=Y&&Y!==F,C=Wt?"extension_upgraded":"extension_downloaded";try{await A.post("/analytics/track",{eventType:C,eventData:{page:"/dashboard",version:F,previousVersion:Y||null,isUpgrade:Wt}})}catch(B){console.error("Failed to track extension download:",B)}}}catch(Ue){console.error("Download failed:",Ue)}},xr=async()=>{try{const H=await A.get("/tokens/list");R(H.pats||[]),re(!0)}catch(H){console.error("Failed to load PATs:",H),re(!0)}},Et=async()=>{_(!0);try{const H=await A.post("/tokens/create",{});J(H.token);const ee=await A.get("/tokens/list");R(ee.pats||[])}catch(H){console.error("Failed to generate PAT:",H)}finally{_(!1)}},Tn=async H=>{try{await A.delete(`/tokens/${H}`);const ee=await A.get("/tokens/list");R(ee.pats||[])}catch(ee){console.error("Failed to revoke PAT:",ee)}},Ot=async H=>{try{await navigator.clipboard.writeText(H)}catch(ee){console.error("Failed to copy to clipboard:",ee)}};return r?n.jsxs("div",{className:"min-h-screen bg-gray-50 font-poppins",children:[n.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Oe,{to:"/dashboard",className:"flex items-center",children:n.jsx("span",{className:"text-xl font-share-tech-mono font-bold text-gray-900",children:"QuickStage"})}),n.jsx("button",{onClick:()=>S(!L),className:"ml-4 p-2 rounded-md text-gray-600 hover:bg-gray-100 lg:hidden",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(mo,{}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-sm text-gray-700",children:r.name}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:r.subscriptionDisplay||"Free"}),n.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-500",title:"Sign out",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})}),(y||f)&&n.jsx("div",{className:"fixed top-4 right-4 z-50",children:n.jsx("div",{className:`p-4 rounded-md ${y?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:y||f})}),n.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[n.jsx("div",{className:`${L?"hidden":"block"} lg:block flex-shrink-0`,children:n.jsx(ho,{projects:a,selectedProjectId:d,onSelectProject:x,onRefreshProjects:se,user:r,isCollapsed:!1,onToggleCollapse:()=>{}})}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:h?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):b?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-red-600 mb-4",children:b}),n.jsx("button",{onClick:se,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):n.jsxs(n.Fragment,{children:[!d&&n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-inconsolata",children:"QuickStage Extension"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Download the VS Code/Cursor extension to start staging your projects"})]}),n.jsx("div",{className:"flex items-center space-x-3",children:r!=null&&r.canAccessPro?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:xn,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg",children:"Download Extension"}),n.jsx("button",{onClick:()=>D(!0),className:"bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-2 px-4 rounded-lg",children:"Instructions"}),n.jsx("button",{onClick:()=>W(!0),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg",children:"AI Assistant"}),n.jsx("button",{onClick:xr,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg",children:"Tokens"})]}):n.jsx("button",{disabled:!0,className:"bg-gray-400 text-white font-medium py-2 px-4 rounded-lg cursor-not-allowed",children:"Go Pro to Download"})})]}),F&&n.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[n.jsxs("span",{children:["Current version: ",F]}),ce&&n.jsx("span",{className:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs",children:"Update Available"})]})]})}),n.jsx(Wm,{snapshots:c,projects:a,onRefresh:se,onExtendSnapshot:me,selectedProjectId:d,onSelectProject:x,showWidgets:!d,showExtensionSection:!1,user:r,title:"Dashboard"})]})})})]}),M&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 font-inconsolata",children:"Installation Instructions"}),n.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Step 1: Install the Extension"}),n.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-sm text-gray-700",children:[n.jsx("li",{children:"Open VS Code or Cursor"}),n.jsx("li",{children:"Press Ctrl+Shift+P (Windows/Linux) or Cmd+Shift+P (Mac)"}),n.jsx("li",{children:'Type "Extensions: Install from VSIX..." and press Enter'}),n.jsxs("li",{children:["Select the downloaded quickstage-",F,".vsix file"]}),n.jsx("li",{children:'Click "Install" when prompted'})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Step 2: Configure Token"}),n.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-sm text-gray-700",children:[n.jsx("li",{children:'Generate a Personal Access Token using the "Tokens" button'}),n.jsx("li",{children:"Copy the generated token (starts with qs_pat_)"}),n.jsx("li",{children:'In VS Code/Cursor, run "QuickStage: Set Token"'}),n.jsx("li",{children:"Paste your token when prompted"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Step 3: Start Staging"}),n.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-sm text-gray-700",children:[n.jsx("li",{children:"Open your project folder"}),n.jsx("li",{children:'Run "QuickStage: Stage" from the command palette'}),n.jsx("li",{children:"Your project will be built and deployed automatically"})]})]})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:()=>D(!1),className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg",children:"Got it!"})})]})})}),U&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 font-inconsolata",children:"AI Assistant Instructions"}),n.jsx("button",{onClick:()=>W(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"🎯 How to Use This"}),n.jsx("p",{className:"text-sm text-purple-800",children:"Copy the instructions below and paste them into your AI assistant (ChatGPT, Claude, or Cursor's AI). This gives the AI perfect context to help you build interactive prototypes."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Copy-Paste Instructions"}),n.jsx("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg text-sm",children:n.jsx("div",{className:"whitespace-pre-line",children:`I want to build and deploy an interactive prototype using QuickStage. Here's what I need:

Project Goal: [DESCRIBE YOUR PROTOTYPE]
Target Users: [WHO will use this prototype]
Key Features: [LIST main interactive elements]
Design Preferences: [MENTION design style/framework preferences]

Technical Requirements:
• Web-based prototype that can be built and deployed
• Modern web technologies (React, Vue, Svelte, or vanilla HTML/CSS/JS)
• Build script in package.json for QuickStage compatibility
• Lightweight and fast-loading
• Modern browser compatibility

QuickStage Integration:
• Generate static files that can be served from CDN
• Compatible with QuickStage's build and deployment process
• Include all necessary assets in build output

Expected Output:
• Complete, working web application
• Clear build instructions
• All source code and assets
• Instructions for testing locally

Please create this step by step, ensuring it's production-ready and can be easily built and deployed.`})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("button",{onClick:()=>Ot(`I want to build and deploy an interactive prototype using QuickStage. Here's what I need:

Project Goal: [DESCRIBE YOUR PROTOTYPE]
Target Users: [WHO will use this prototype]
Key Features: [LIST main interactive elements]
Design Preferences: [MENTION design style/framework preferences]

Technical Requirements:
• Web-based prototype that can be built and deployed
• Modern web technologies (React, Vue, Svelte, or vanilla HTML/CSS/JS)
• Build script in package.json for QuickStage compatibility
• Lightweight and fast-loading
• Modern browser compatibility

QuickStage Integration:
• Generate static files that can be served from CDN
• Compatible with QuickStage's build and deployment process
• Include all necessary assets in build output

Expected Output:
• Complete, working web application
• Clear build instructions
• All source code and assets
• Instructions for testing locally

Please create this step by step, ensuring it's production-ready and can be easily built and deployed.`),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg",children:"Copy Instructions"}),n.jsx("button",{onClick:()=>W(!1),className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg",children:"Got it!"})]})]})]})})}),Q&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 font-inconsolata",children:"Personal Access Tokens"}),n.jsx("button",{onClick:()=>{re(!1),J("")},className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"🔑 How to Use PATs"}),n.jsx("p",{className:"text-sm text-blue-800",children:"Generate a Personal Access Token and use it in your VS Code/Cursor extension. This authenticates your extension with QuickStage permanently."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Generate New Token"}),n.jsx("button",{onClick:Et,disabled:E,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg",children:E?"Generating...":"Generate New Token"})]}),ae&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"New Token Generated"}),n.jsx("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-sm break-all",children:ae}),n.jsx("p",{className:"text-sm text-red-600 mt-2",children:"⚠️ Copy this token now! It won't be shown again."}),n.jsx("button",{onClick:()=>Ot(ae),className:"mt-2 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg",children:"Copy Token"})]}),Z.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Existing Tokens"}),n.jsx("div",{className:"space-y-3",children:Z.map(H=>n.jsx("div",{className:"border rounded-lg p-3 bg-gray-50",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.description}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(H.createdAt).toLocaleDateString()]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Expires: ",new Date(H.expiresAt).toLocaleDateString()]}),H.lastUsed&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Last used: ",new Date(H.lastUsed).toLocaleDateString()]})]}),n.jsx("button",{onClick:()=>Tn(H.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Revoke"})]})},H.id))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>{re(!1),J("")},className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg",children:"Close"})})]})]})})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})}function Vm(){const e=St(),[t,r]=p.useState([]),[s,l]=p.useState(),[a,i]=p.useState(!1),c=async()=>{try{const x=await A.get("/api/projects");r(x.projects||[])}catch(x){console.error("Failed to load projects:",x)}},o=x=>{l(x),e("/dashboard")},d=()=>{i(!a)};return p.useEffect(()=>{c()},[]),{projects:t,selectedProjectId:s,isSidebarCollapsed:a,loadProjects:c,handleSelectProject:o,handleToggleSidebar:d,setSelectedProjectId:l}}function nx({className:e=""}){const[t,r]=p.useState([]),[s,l]=p.useState(!0),[a,i]=p.useState(null),c=async()=>{try{l(!0),i(null);const h=await A.get("/api/subscriptions");r(h.subscriptions||[])}catch(h){console.error("Failed to load subscriptions:",h),i("Failed to load subscriptions")}finally{l(!1)}};p.useEffect(()=>{c()},[]);const o=async h=>{try{await A.delete(`/api/subscriptions/${h}`),r(g=>g.filter(b=>b.id!==h));try{await A.post("/analytics/track",{eventType:"comment_subscription_removed",eventData:{subscriptionId:h,method:"settings_page"}})}catch(g){console.error("Failed to track unsubscription analytics:",g)}}catch(g){console.error("Failed to unsubscribe:",g),alert("Failed to unsubscribe. Please try again.")}},d=async(h,g)=>{try{await A.patch(`/api/subscriptions/${h}`,{isActive:!g}),r(b=>b.map(w=>w.id===h?{...w,isActive:!g}:w));try{await A.post("/analytics/track",{eventType:g?"comment_subscription_paused":"comment_subscription_activated",eventData:{subscriptionId:h,method:"settings_page",newState:g?"paused":"active"}})}catch(b){console.error("Failed to track subscription toggle analytics:",b)}}catch(b){console.error("Failed to toggle subscription:",b),alert("Failed to update subscription. Please try again.")}},x=h=>new Date(h).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return s?n.jsx("div",{className:`bg-white rounded-lg shadow p-6 ${e}`,children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((h,g)=>n.jsx("div",{className:"h-16 bg-gray-100 rounded"},g))})]})}):a?n.jsx("div",{className:`bg-white rounded-lg shadow p-6 ${e}`,children:n.jsxs("div",{className:"text-center py-8",children:[n.jsx("svg",{className:"w-12 h-12 mx-auto text-red-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),n.jsx("p",{className:"text-red-600 font-medium",children:a}),n.jsx("button",{onClick:c,className:"mt-4 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:"Try Again"})]})}):n.jsxs("div",{className:`bg-white rounded-lg shadow ${e}`,children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Comment Subscriptions"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your subscriptions to comment threads and snapshots"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("span",{className:"text-sm text-gray-500",children:[t.length," subscription",t.length!==1?"s":""]})})]})}),n.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?n.jsxs("div",{className:"px-6 py-12 text-center",children:[n.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-3.405-3.405A9.048 9.048 0 0118 9a9 9 0 10-18 0 9.048 9.048 0 001.405 4.595L2 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No subscriptions yet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"You're not following any comment conversations. Start a conversation or follow existing ones to get notifications."}),n.jsx(Oe,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Snapshots"})]}):t.map(h=>n.jsx("div",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:h.snapshotName||`Snapshot ${h.snapshotId}`}),n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${h.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:h.isActive?"Active":"Paused"})]}),h.commentPreview&&n.jsxs("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:['"',h.commentPreview,'"']}),n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[n.jsxs("span",{children:["Subscribed ",x(h.createdAt)]}),h.lastNotified&&n.jsxs("span",{children:["Last notification ",x(h.lastNotified)]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[n.jsx("button",{onClick:()=>d(h.id,h.isActive),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${h.isActive?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,title:h.isActive?"Pause notifications":"Resume notifications",children:h.isActive?"Pause":"Resume"}),n.jsx(Oe,{to:`/viewer/${h.snapshotId}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 text-xs font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 rounded-md transition-colors",title:"View snapshot",children:"View"}),n.jsx("button",{onClick:()=>o(h.id),className:"px-3 py-1.5 text-xs font-medium text-red-700 bg-red-100 hover:bg-red-200 rounded-md transition-colors",title:"Unsubscribe from this conversation",children:"Unsubscribe"})]})]})},h.id))}),t.length>0&&n.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200 rounded-b-lg",children:n.jsx("p",{className:"text-xs text-gray-600",children:"You'll receive email notifications when new comments are added to conversations you're following. You can pause or unsubscribe from individual conversations at any time."})})]})}function rx(){var M,D,U,W,Q,re,ae,J,Z,R;const e=St(),{user:t,logout:r,loading:s,cancelSubscription:l}=Ct(),[a,i]=p.useState(!1),[c,o]=p.useState(null),[d,x]=p.useState(null),[h,g]=p.useState(!1),{projects:b,selectedProjectId:w,handleSelectProject:y,loadProjects:k,isSidebarCollapsed:f,handleToggleSidebar:m}=Vm();p.useEffect(()=>{console.log("Settings - Current user object:",t),console.log("Settings - User subscription details:",{plan:t==null?void 0:t.plan,subscriptionStatus:t==null?void 0:t.subscriptionStatus,subscriptionDisplay:t==null?void 0:t.subscriptionDisplay,canAccessPro:t==null?void 0:t.canAccessPro,role:t==null?void 0:t.role})},[t]),p.useEffect(()=>{(async()=>{try{await A.post("/analytics/track",{eventType:"page_view",eventData:{page:"Settings"}})}catch(_){console.error("Failed to track page view:",_)}})()},[]);const u=()=>{var _;const E=(((_=t==null?void 0:t.subscription)==null?void 0:_.status)||(t==null?void 0:t.subscriptionStatus))==="trial"?"upgrade":"trial";e(`/pricing?mode=${E}`)},N=async()=>{try{o(null);const E=await A.post("/billing/portal");E.url?window.location.href=E.url:o("No billing portal URL received")}catch(E){console.error("Billing portal error:",E),o("Failed to open billing portal")}},j=async()=>{try{o(null);const E=await A.post("/billing/change-payment");E.url?window.location.href=E.url:o("No payment update URL received")}catch(E){console.error("Payment method update error:",E),o("Failed to update payment method")}},P=async()=>{if(confirm("Are you sure you want to cancel your Pro subscription? You will retain access until the end of your current billing period."))try{o(null);const E=await l();E.ok?(x(E.message||"Subscription cancelled successfully"),setTimeout(()=>x(null),5e3)):o(E.error||"Failed to cancel subscription")}catch(E){console.error("Cancel subscription error:",E),o("Failed to cancel subscription")}},L=()=>{r()},S=async()=>{if(!confirm(`⚠️  DANGER: Are you absolutely sure you want to PERMANENTLY DELETE your account "${(t==null?void 0:t.name)||(t==null?void 0:t.email)}"?

This will:
• Remove all your data from the system
• Delete all your snapshots
• Delete all your PATs
• Delete all your comments
• This action CANNOT be undone!

Type "DELETE" to confirm:`))return;if(prompt('Type "DELETE" to confirm permanent deletion:')!=="DELETE"){alert("Deletion cancelled. Your data is safe.");return}try{o(null),await $m.deleteUser(t.uid),x("Your account has been completely deleted from the system. You will be redirected to the login page."),setTimeout(()=>{r(),window.location.href="/login"},3e3)}catch(_){o(_.message||"Failed to delete account")}};return s?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading settings..."})]})}):t?n.jsxs("div",{className:"min-h-screen bg-gray-50 font-poppins",children:[n.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Oe,{to:"/dashboard",className:"flex items-center",children:n.jsx("span",{className:"text-xl font-share-tech-mono font-bold text-gray-900",children:"QuickStage"})}),n.jsx("button",{onClick:()=>g(!h),className:"ml-4 p-2 rounded-md text-gray-600 hover:bg-gray-100 lg:hidden",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(mo,{}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-sm text-gray-700",children:t.name}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.subscriptionDisplay||"Free"}),n.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-500",title:"Sign out",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})}),n.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[n.jsx("div",{className:`${h?"block":"hidden"} lg:block flex-shrink-0`,children:n.jsx(ho,{projects:b,selectedProjectId:w,onSelectProject:y,onRefreshProjects:k,user:t,isCollapsed:f,onToggleCollapse:m})}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"max-w-4xl mx-auto py-4 sm:py-6 px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-6 sm:mb-8",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 font-inconsolata",children:"Account Settings"}),n.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600",children:"Manage your account, plan, and preferences."})]}),c&&n.jsx("div",{className:"px-4 sm:px-0 mb-6",children:n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c})}),d&&n.jsx("div",{className:"px-4 sm:px-0 mb-4",children:n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-green-800",children:d})})]})})}),n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 sm:p-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center mb-4 sm:mb-6 space-y-3 sm:space-y-0",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mr-0 sm:mr-4 flex-shrink-0",children:n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 font-inconsolata",children:"Account Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),n.jsx("div",{className:"bg-gray-50 rounded-lg px-4 py-3",children:n.jsx("p",{className:"text-gray-900",children:t.name||"Not provided"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),n.jsx("div",{className:"bg-gray-50 rounded-lg px-4 py-3",children:n.jsx("p",{className:"text-gray-900",children:t.email})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User ID"}),n.jsx("div",{className:"bg-gray-50 rounded-lg px-4 py-3",children:n.jsx("p",{className:"text-gray-900",children:t.uid})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Staging Since"}),n.jsx("div",{className:"bg-gray-50 rounded-lg px-4 py-3",children:n.jsx("p",{className:"text-gray-900",children:new Date(t.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Plan"}),n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg px-4 py-3 border border-blue-100",children:n.jsx("p",{className:"text-blue-900 font-semibold",children:t.subscriptionDisplay||"Free"})})]}),((((M=t.subscription)==null?void 0:M.status)||t.subscriptionStatus)==="active"||(((D=t.subscription)==null?void 0:D.status)||t.subscriptionStatus)==="trial")&&t.nextBillingDate&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Next Billing"}),n.jsxs("div",{className:"bg-green-50 rounded-lg px-4 py-3 border border-green-100",children:[n.jsx("p",{className:"text-green-900 font-medium",children:new Date(t.nextBillingDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),t.nextBillingAmount!==null&&t.nextBillingAmount!==void 0&&n.jsxs("p",{className:"text-green-700 text-sm mt-1",children:["Amount: ",t.nextBillingAmount===0?"Free":`$${(t.nextBillingAmount/100).toFixed(2)}`]})]})]})]})]})}),n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4 font-inconsolata",children:"Plan Management"}),t.role==="superadmin"?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-purple-600 font-medium mb-2",children:"✓ Pro (Superadmin) - Permanent Access"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"As a superadmin, you have permanent access to all Pro features without any subscription requirements."})]}),n.jsx("div",{className:"text-sm text-gray-500",children:"No billing management needed - your access is permanent."})]}):!((U=t.subscription)!=null&&U.status||t.subscriptionStatus)||(((W=t.subscription)==null?void 0:W.status)||t.subscriptionStatus)==="none"?n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Upgrade to Pro for unlimited snapshots, larger file sizes, and extended expiry times."}),n.jsx("button",{onClick:u,disabled:a,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:a?"Processing...":"Upgrade to Pro"})]}):(((Q=t.subscription)==null?void 0:Q.status)||t.subscriptionStatus)==="trial"?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-blue-600 font-medium mb-2",children:"✓ Pro (Trial) - Active"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"You're currently on a 7-day free trial of the Pro plan. Enjoy unlimited snapshots, 100MB per snapshot, and up to 90-day expiry times."}),(((re=t.subscription)==null?void 0:re.trialEnd)||t.trialEndsAt)&&n.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Trial ends: ",new Date(((ae=t.subscription)==null?void 0:ae.trialEnd)||t.trialEndsAt).toLocaleDateString()]}),t.nextBillingDate&&n.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[n.jsxs("p",{children:["Next billing: ",new Date(t.nextBillingDate).toLocaleDateString()]}),t.nextBillingAmount!==null&&t.nextBillingAmount!==void 0&&n.jsxs("p",{children:["Amount: ",t.nextBillingAmount===0?"Free":`$${(t.nextBillingAmount/100).toFixed(2)}`]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:j,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Change Payment Method"}),n.jsx("button",{onClick:P,className:"bg-gray-300 hover:bg-gray-400 text-gray-900 font-medium py-2 px-4 rounded-lg transition-colors",children:"Cancel Subscription"})]})]}):(((J=t.subscription)==null?void 0:J.status)||t.subscriptionStatus)==="active"?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-green-600 font-medium mb-2",children:"✓ Pro - Active Subscription"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"You have full access to all Pro features: unlimited snapshots, 100MB per snapshot, and up to 90-day expiry times."}),t.nextBillingDate&&n.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[n.jsxs("p",{children:["Next billing: ",new Date(t.nextBillingDate).toLocaleDateString()]}),t.nextBillingAmount!==null&&t.nextBillingAmount!==void 0&&n.jsxs("p",{children:["Amount: ",t.nextBillingAmount===0?"Free":`$${(t.nextBillingAmount/100).toFixed(2)}`]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:j,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Change Payment Method"}),n.jsx("button",{onClick:P,className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Cancel Subscription"})]})]}):(((Z=t.subscription)==null?void 0:Z.status)||t.subscriptionStatus)==="cancelled"?n.jsxs("div",{children:[n.jsx("p",{className:"text-orange-600 font-medium mb-2",children:"⚠️ Pro (Cancelled)"}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Your subscription has been cancelled. You will retain access to Pro features until the end of your current billing period."}),n.jsx("button",{onClick:u,disabled:a,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:a?"Processing...":"Reactivate Pro"})]}):(((R=t.subscription)==null?void 0:R.status)||t.subscriptionStatus)==="past_due"?n.jsxs("div",{children:[n.jsx("p",{className:"text-red-600 font-medium mb-2",children:"⚠️ Pro (Payment Past Due)"}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Your subscription payment is past due. Please update your payment method to continue access to Pro features."}),n.jsx("button",{onClick:N,className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Update Payment Method"})]}):n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Upgrade to Pro for unlimited snapshots, larger file sizes, and extended expiry times."}),n.jsx("button",{onClick:u,disabled:a,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:a?"Processing...":"Upgrade to Pro"})]})]})}),n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsx(nx,{className:"w-full"})}),n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 sm:p-8",children:[n.jsx("div",{className:"flex items-center mb-4 sm:mb-6",children:n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 font-inconsolata",children:"Account Actions"})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[n.jsxs("button",{onClick:L,className:"bg-gray-300 hover:bg-gray-400 text-gray-900 font-medium py-3 px-6 rounded-lg transition-colors shadow-md flex items-center justify-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]}),n.jsxs("button",{onClick:S,className:"bg-gray-300 hover:bg-gray-400 text-gray-900 font-medium py-3 px-6 rounded-lg transition-colors shadow-md flex items-center justify-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Account"]})]})]})})]})})]})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-inconsolata",children:"Authentication Required"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to access your account settings."}),n.jsx(Oe,{to:"/login",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Go to Login"})]})})}function dd({snapshotId:e,isVisible:t,onClose:r,className:s=""}){const[l,a]=p.useState([]),[i,c]=p.useState(""),[o,d]=p.useState(!1),[x,h]=p.useState(!1),[g,b]=p.useState(!1),[w,y]=p.useState(null),[k,f]=p.useState(0),m=p.useRef(null),u=p.useRef(null),N=()=>{m.current&&typeof m.current.scrollIntoView=="function"&&m.current.scrollIntoView({behavior:"smooth"})};p.useEffect(()=>{N()},[l]),p.useEffect(()=>{t&&!g&&j()},[t,e]);const j=async()=>{var U,W;try{const Q=await A.get(`/api/snapshots/${e}/ai-chat`);(U=Q==null?void 0:Q.data)!=null&&U.success&&((W=Q.data.data)!=null&&W.exists)&&(a(Q.data.data.messages.map(re=>({...re,timestamp:Date.now()}))),b(!0))}catch(Q){console.error("Failed to load conversation:",Q)}},P=()=>{f(U=>U+1),y(null),L()},L=async()=>{var U,W,Q,re,ae;h(!0),y(null);try{await new Promise(Z=>setTimeout(Z,100));const J=await A.post(`/api/snapshots/${e}/ai-chat/start`);if(J.data.success){const Z=J.data.data.messages.map(R=>({...R,timestamp:Date.now()}));a(Z),b(!0)}else y(J.data.error||"Failed to start AI analysis")}catch(J){console.error("Failed to start conversation:",J),((U=J.response)==null?void 0:U.status)===429?y("Rate limit exceeded. Please try again in an hour."):((W=J.response)==null?void 0:W.status)===503?y("AI service is temporarily unavailable. Please try again later."):(Q=J.message)!=null&&Q.includes("MutationObserver")?y("Browser compatibility issue detected. Please refresh the page and try again."):(re=J.message)!=null&&re.includes("iframe")||(ae=J.message)!=null&&ae.includes("contentDocument")?y("Unable to access snapshot content. Please ensure the snapshot is fully loaded."):y("Failed to connect to AI service. Please try again.")}finally{h(!1)}},S=async()=>{var Q,re,ae,J,Z;if(!i.trim()||o)return;const U={role:"user",content:i.trim(),timestamp:Date.now()};a(R=>[...R,U]);const W=i.trim();c(""),d(!0),y(null);try{const R=await A.post(`/api/snapshots/${e}/ai-chat/message`,{message:W});if(R.data.success){const E={role:"assistant",content:R.data.data.response,timestamp:Date.now()};a(_=>[..._,E])}else y(R.data.error||"Failed to get AI response")}catch(R){console.error("Failed to send message:",R),((Q=R.response)==null?void 0:Q.status)===429?y("Rate limit exceeded. Please try again in an hour."):((re=R.response)==null?void 0:re.status)===503?y("AI service is temporarily unavailable. Please try again later."):(ae=R.message)!=null&&ae.includes("MutationObserver")?y("Browser compatibility issue detected. Please refresh the page and try again."):(J=R.message)!=null&&J.includes("iframe")||(Z=R.message)!=null&&Z.includes("contentDocument")?y("Unable to access snapshot content. Please ensure the snapshot is fully loaded."):y("Failed to send message. Please try again.")}finally{d(!1)}},M=U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),S())},D=U=>U.split(`
`).map((W,Q)=>W.startsWith("**")&&W.endsWith("**")?n.jsx("div",{className:"font-semibold text-gray-900 mt-3 mb-1",children:W.slice(2,-2)},Q):W.startsWith("- ")?n.jsxs("div",{className:"ml-4 mb-1",children:["• ",W.slice(2)]},Q):W.trim()===""?n.jsx("div",{className:"h-2"},Q):n.jsx("div",{className:"mb-1",children:W},Q));return t?n.jsxs("div",{className:`fixed right-0 top-0 h-full w-96 bg-white shadow-2xl z-50 flex flex-col ${s}`,children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-blue-50",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-inconsolata",children:"🤖 AI UX Assistant"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get expert UI/UX feedback and suggestions"})]}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-lg font-bold","aria-label":"Close panel",children:"×"})]}),g?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l.map((U,W)=>n.jsx("div",{className:`flex ${U.role==="user"?"justify-end":"justify-start"}`,children:n.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${U.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:U.role==="assistant"?n.jsx("div",{className:"text-sm leading-relaxed",children:D(U.content)}):n.jsx("div",{className:"text-sm",children:U.content})})},W)),o&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-gray-100 text-gray-900 p-3 rounded-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-400"}),n.jsx("span",{className:"text-sm",children:"AI is thinking..."})]})})}),n.jsx("div",{ref:m})]}),w&&n.jsxs("div",{className:"mx-4 mb-2 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:[n.jsx("div",{className:"mb-2",children:w}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{y(null),f(0)},className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors",children:"Dismiss"}),w.includes("MutationObserver")||w.includes("iframe")?n.jsx("button",{onClick:()=>window.location.reload(),className:"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:"Refresh Page"}):null]})]}),n.jsxs("div",{className:"border-t border-gray-200 p-4",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("textarea",{ref:u,value:i,onChange:U=>c(U.target.value),onKeyPress:M,placeholder:"Ask about accessibility, mobile design, user flow...",className:"flex-1 resize-none border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,disabled:o,maxLength:1e3}),n.jsx("button",{onClick:S,disabled:!i.trim()||o,className:"self-end bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),n.jsxs("div",{className:"mt-2 flex justify-between text-xs text-gray-500",children:[n.jsx("span",{children:"Press Enter to send, Shift+Enter for new line"}),n.jsxs("span",{children:[i.length,"/1000"]})]})]})]}):n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),n.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:"AI-Powered UX Analysis"}),n.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Get instant feedback on your prototype's user experience, accessibility, design patterns, and modern UI best practices. Ask questions and get specific suggestions for improvement."}),n.jsxs("div",{className:"w-full space-y-3 mb-6 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Accessibility & WCAG compliance"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Mobile responsiveness analysis"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Visual hierarchy & typography"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Interactive Q&A with AI expert"]})]}),n.jsx("button",{onClick:L,disabled:x,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium",children:x?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Analyzing your prototype..."]}):"🚀 Start AI Analysis"}),w&&n.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:[n.jsx("div",{className:"mb-2",children:w}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:P,className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors",children:["Try Again ",k>0&&`(${k})`]}),k>2&&n.jsx("button",{onClick:()=>{f(0),y(null)},className:"px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700 transition-colors",children:"Reset"})]})]})]})]}):null}function sx({review:e,isOwner:t,onCancel:r,onSubmitFeedback:s}){const[l,a]=p.useState(!1),[i,c]=p.useState(""),[o,d]=p.useState(!1),x=y=>{switch(y){case"pending":return"bg-gray-100 text-gray-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},h=y=>{switch(y){case"pending":return"text-gray-600";case"reviewing":return"text-blue-600";case"approved":return"text-green-600";case"changes_requested":return"text-orange-600";default:return"text-gray-600"}},g=async y=>{if(!i.trim()){alert("Please provide feedback before submitting");return}d(!0);try{await s(i,y),a(!1),c("")}catch(k){console.error("Failed to submit feedback:",k)}finally{d(!1)}},b=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),w=e.deadline&&Date.now()>e.deadline;return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(e.status)}`,children:e.status.replace("_"," ").toUpperCase()}),w&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"OVERDUE"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Requested ",b(e.requestedAt),e.deadline&&n.jsxs("span",{className:"ml-2",children:["• Due ",b(e.deadline)]})]}),e.notes&&n.jsxs("p",{className:"text-sm text-gray-700 mt-2 italic",children:['"',e.notes,'"']})]}),t&&e.status!=="completed"&&n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-600 ml-4",title:"Cancel review",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Reviewers (",e.reviewers.length,")"]}),e.reviewers.map(y=>n.jsxs("div",{className:"flex items-start justify-between bg-gray-50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:y.userName}),n.jsx("span",{className:`text-xs font-medium ${h(y.status)}`,children:y.status.replace("_"," ").toUpperCase()})]}),n.jsx("p",{className:"text-sm text-gray-600",children:y.userEmail}),y.feedback&&n.jsxs("div",{className:"mt-2 p-2 bg-white rounded border border-gray-200",children:[n.jsx("p",{className:"text-sm text-gray-700",children:y.feedback}),y.reviewedAt&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Reviewed ",b(y.reviewedAt)]})]})]}),y.status==="pending"&&!t&&n.jsx("button",{onClick:()=>a(!l),className:"ml-3 px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Review"})]},y.userId))]}),l&&n.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Submit Your Review"}),n.jsx("textarea",{value:i,onChange:y=>c(y.target.value),placeholder:"Provide your feedback on this design...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsxs("div",{className:"flex justify-end gap-3 mt-3",children:[n.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",disabled:o,children:"Cancel"}),n.jsx("button",{onClick:()=>g("changes_requested"),disabled:o||!i.trim(),className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50",children:"Request Changes"}),n.jsx("button",{onClick:()=>g("approved"),disabled:o||!i.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:"Approve"})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[e.reviewers.filter(y=>y.status==="approved"||y.status==="changes_requested").length," / ",e.reviewers.length," completed"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${e.reviewers.filter(y=>y.status==="approved"||y.status==="changes_requested").length/e.reviewers.length*100}%`}})})]})]})}function ud({snapshotId:e,isOwner:t,onReviewUpdate:r}){const[s,l]=p.useState([]),[a,i]=p.useState(!1),[c,o]=p.useState(!1),[d,x]=p.useState(null),h=async()=>{try{i(!0);const k=(await A.get(`/api/snapshots/${e}/reviews`)).reviews||[];l(k),r&&r(k)}catch(y){console.error("Failed to load reviews:",y),x("Failed to load reviews")}finally{i(!1)}},g=async y=>{try{await A.post(`/api/snapshots/${e}/reviews`,{reviewers:y.reviewers,deadline:y.deadline,notes:y.notes});try{await A.post("/analytics/track",{eventType:"review_requested",eventData:{snapshotId:e,reviewerCount:y.reviewers.length,hasDeadline:!!y.deadline,hasNotes:!!y.notes,deadlineInDays:y.deadline?Math.ceil((new Date(y.deadline).getTime()-Date.now())/(1e3*60*60*24)):null}})}catch(k){console.error("Failed to track review creation analytics:",k)}o(!1),await h()}catch(k){console.error("Failed to create review:",k),x("Failed to create review")}},b=async y=>{if(confirm("Are you sure you want to cancel this review?"))try{await A.delete(`/api/reviews/${y}`),await h();try{await A.post("/analytics/track",{eventType:"review_cancelled",eventData:{snapshotId:e,reviewId:y}})}catch(k){console.error("Failed to track review cancellation analytics:",k)}}catch(k){console.error("Failed to cancel review:",k),x("Failed to cancel review")}},w=async(y,k,f)=>{try{await A.post(`/api/reviews/${y}/submit`,{feedback:k,status:f}),await h();try{await A.post("/analytics/track",{eventType:f==="approved"?"review_approved":"review_rejected",eventData:{snapshotId:e,reviewId:y,feedbackLength:k.length,hasFeedback:k.length>0}})}catch(m){console.error("Failed to track review submission analytics:",m)}}catch(m){console.error("Failed to submit review:",m),x("Failed to submit review")}};return p.useEffect(()=>{h()},[e]),a&&s.length===0?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"text-center text-gray-500 mt-4",children:"Loading reviews..."})]}):n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reviews"}),t&&n.jsx("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Request Review"})]}),d&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[n.jsx("p",{className:"text-red-600 text-sm",children:d}),n.jsx("button",{onClick:()=>x(null),className:"text-red-500 hover:text-red-700 text-sm underline ml-2",children:"Dismiss"})]}),s.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"text-gray-400 mb-4",children:n.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsx("p",{className:"text-gray-500 text-lg",children:"No reviews yet"}),n.jsx("p",{className:"text-gray-400 text-sm mt-1",children:t?"Request feedback from your team":"The owner hasn't requested any reviews"})]}):n.jsx("div",{className:"space-y-4",children:s.map(y=>n.jsx(sx,{review:y,isOwner:t,onCancel:()=>b(y.id),onSubmitFeedback:(k,f)=>w(y.id,k,f)},y.id))}),c&&n.jsx(Om,{onClose:()=>o(!1),onSubmit:g})]})}function Hm({comment:e,replies:t,depth:r,onReply:s,onResolve:l,onDelete:a,onUpdate:i,isOwner:c,currentUserId:o,maxDepth:d=5}){var ce;const[x,h]=p.useState(!1),[g,b]=p.useState(!1),[w,y]=p.useState(""),[k,f]=p.useState(e.text||""),[m,u]=p.useState(r<3),[N,j]=p.useState([]),[P,L]=p.useState(!1),[S,M]=p.useState(!1),D=r<1,U=p.useRef(null),W=p.useRef(null),Q=p.useRef(null);p.useEffect(()=>{W.current&&(W.current.style.height="auto",W.current.style.height=W.current.scrollHeight+"px")},[w]),p.useEffect(()=>{const V=se=>{Q.current&&!Q.current.contains(se.target)&&M(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]);const re=async()=>{if(!(!w.trim()||P)){L(!0);try{await s(e.id,w.trim(),N.length>0?N:void 0),y(""),j([]),h(!1)}catch(V){console.error("Failed to reply:",V),alert("Failed to post reply. Please try again.")}finally{L(!1)}}},ae=async()=>{if(!(!k.trim()||P)){L(!0);try{await i(e.id,k.trim()),b(!1)}catch(V){console.error("Failed to update comment:",V),alert("Failed to update comment. Please try again.")}finally{L(!1)}}},J=V=>{const se=Array.from(V.target.files||[]);se.length>0&&j(ye=>[...ye,...se])},Z=V=>{j(se=>se.filter((ye,me)=>me!==V))},R=V=>{const ye=Date.now()-V,me=Math.floor(ye/(1e3*60)),Bt=Math.floor(ye/(1e3*60*60)),vt=Math.floor(ye/(1e3*60*60*24));return me<1?"Just now":me<60?`${me}m ago`:Bt<24?`${Bt}h ago`:vt<7?`${vt}d ago`:new Date(V).toLocaleDateString()},E=o&&(e.author===o||c),_=c,F=e.text||"",q=e.authorName||"Anonymous",Y=e.isAnonymous,K=e.state||"published";return n.jsxs("div",{className:`comment-item relative ${r>0?"ml-6":""}`,children:[r>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute -left-6 top-0 w-px bg-gray-300 h-full"}),n.jsx("div",{className:"absolute -left-6 top-4 w-4 h-px bg-gray-300"})]}),n.jsxs("div",{className:`bg-white border rounded-lg p-4 mb-3 shadow-sm hover:shadow-md transition-all duration-200 ${K==="resolved"?"opacity-75 bg-gray-50":""} ${K==="archived"?"opacity-50 bg-gray-50":""}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[n.jsx("div",{className:"w-7 h-7 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-xs font-medium flex-shrink-0",children:((ce=q.charAt(0))==null?void 0:ce.toUpperCase())||"U"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",title:Y?"Unauthenticated":"Authenticated",children:q}),!Y&&n.jsx("div",{title:"Authenticated",children:n.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),n.jsx("p",{className:"text-xs text-gray-500 flex-shrink-0",children:R(e.createdAt||0)})]}),e.elementSelector&&n.jsxs("div",{className:"text-xs text-gray-500 flex items-center space-x-1 mt-1",children:[n.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),n.jsx("span",{children:"Pinned to element"})]})]})]}),(E||_)&&n.jsxs("div",{className:"relative",ref:Q,children:[n.jsx("button",{onClick:()=>M(!S),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded",title:"Comment actions",children:n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),S&&n.jsxs("div",{className:"absolute right-0 top-8 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-20",children:[E&&n.jsxs("button",{onClick:()=>{b(!g),M(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),n.jsx("span",{children:"Edit"})]}),K!=="resolved"&&r===0&&n.jsxs("button",{onClick:()=>{l(e.id),M(!1)},className:"w-full text-left px-3 py-2 text-sm text-green-700 hover:bg-green-50 flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),n.jsx("span",{children:"Resolve"})]}),K==="resolved"&&(E||_)&&n.jsxs("button",{onClick:()=>{i(e.id,F),M(!1)},className:"w-full text-left px-3 py-2 text-sm text-blue-700 hover:bg-blue-50 flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n.jsx("span",{children:"Reopen"})]}),K!=="archived"&&_&&n.jsxs("button",{onClick:()=>{i(e.id,F),M(!1)},className:"w-full text-left px-3 py-2 text-sm text-yellow-700 hover:bg-yellow-50 flex items-center space-x-2",children:[n.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[n.jsx("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),n.jsx("path",{fillRule:"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"})]}),n.jsx("span",{children:"Archive"})]}),(E||_)&&n.jsxs("button",{onClick:()=>{confirm("Are you sure you want to delete this comment? This action cannot be undone.")&&a(e.id),M(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-700 hover:bg-red-50 flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),n.jsx("span",{children:"Delete"})]})]})]})]}),n.jsx("div",{className:"mb-3",children:g?n.jsxs("div",{className:"space-y-3",children:[n.jsx("textarea",{value:k,onChange:V=>f(V.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3,placeholder:"Edit your comment..."}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>{b(!1),f(F)},className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),n.jsx("button",{onClick:ae,disabled:!k.trim()||P,className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:P?"Updating...":"Update"})]})]}):n.jsx("div",{className:"prose prose-sm max-w-none",children:n.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:F})})}),e.attachments&&e.attachments.length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2 uppercase tracking-wide",children:"Attachments:"}),n.jsx("div",{className:"space-y-1",children:e.attachments.map(V=>n.jsxs("div",{className:"flex items-center space-x-2 text-sm bg-gray-50 rounded p-2",children:[n.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})}),n.jsx("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex-1 truncate",onClick:se=>{if(!V.mimeType.startsWith("image/")){se.preventDefault();const ye=document.createElement("a");ye.href=V.url,ye.download=V.filename,ye.target="_blank",document.body.appendChild(ye),ye.click(),document.body.removeChild(ye)}},children:V.filename}),n.jsxs("span",{className:"text-gray-500 text-xs flex-shrink-0",children:["(",Math.round(V.size/1024),"KB)"]})]},V.id))})]}),n.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 pt-2",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[!x&&K!=="archived"&&D&&n.jsxs("button",{onClick:()=>h(!0),className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center space-x-1",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),n.jsx("span",{children:"Reply"})]}),t.length>0&&n.jsxs("button",{onClick:()=>u(!m),className:"text-sm text-gray-600 hover:text-gray-800 font-medium flex items-center space-x-1",children:[n.jsx("svg",{className:`w-4 h-4 transition-transform ${m?"rotate-90":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),n.jsxs("span",{children:[m?"Hide":"Show"," ",t.length," ",t.length===1?"reply":"replies"]})]})]}),n.jsx("div",{className:"text-xs text-gray-400"})]}),x&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md border-l-4 border-blue-200",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),n.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Replying to ",q]})]}),n.jsx("textarea",{ref:W,value:w,onChange:V=>y(V.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:2,placeholder:"Write a reply..."}),n.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{ref:U,type:"file",multiple:!0,onChange:J,className:"hidden",accept:".png,.jpg,.jpeg,.txt,.md,.pdf,.doc,.docx"}),n.jsxs("button",{onClick:()=>{var V;return(V=U.current)==null?void 0:V.click()},className:"text-sm text-gray-600 hover:text-gray-800 flex items-center space-x-1",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})}),n.jsx("span",{children:"Attach"})]}),N.length>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:[N.length," file",N.length!==1?"s":""," attached"]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{h(!1),y(""),j([])},className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),n.jsx("button",{onClick:re,disabled:!w.trim()||P,className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:P?"Replying...":"Reply"})]})]}),N.length>0&&n.jsx("div",{className:"mt-2 space-y-1",children:N.map((V,se)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border text-sm",children:[n.jsx("span",{className:"truncate flex-1",children:V.name}),n.jsx("button",{onClick:()=>Z(se),className:"ml-2 text-red-500 hover:text-red-700 font-bold",children:"×"})]},se))})]})]}),m&&t.length>0&&r<d&&n.jsx("div",{className:"replies-container",children:t.map(V=>n.jsx(Hm,{comment:V,replies:[],depth:r+1,onReply:s,onResolve:l,onDelete:a,onUpdate:i,isOwner:c,currentUserId:o,maxDepth:d},V.id))}),r>=d&&t.length>0&&n.jsx("div",{className:"ml-6 p-3 bg-gray-50 rounded-md border-l-4 border-gray-200 text-sm text-gray-600 italic",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),n.jsxs("span",{children:["Thread continues with ",t.length," more ",t.length===1?"reply":"replies","..."]})]})})]})}function md({snapshotId:e,isOwner:t=!1,className:r=""}){const{user:s}=Ct(),[l,a]=p.useState([]),[i,c]=p.useState(!0),[o,d]=p.useState(""),[x,h]=p.useState([]),[g,b]=p.useState(!1),[w,y]=p.useState(!1),[k,f]=p.useState(""),[m,u]=p.useState(!1),N=p.useRef(null),j=p.useRef(null);p.useEffect(()=>{N.current&&(N.current.style.height="auto",N.current.style.height=Math.min(N.current.scrollHeight,200)+"px")},[o]);const P=async()=>{var E;try{c(!0);const _=await A.get(`/api/snapshots/${e}/comments`),F=_.comments||((E=_.data)==null?void 0:E.comments)||[];a(F)}catch(_){console.error("Failed to load comments:",_)}finally{c(!1)}};p.useEffect(()=>{P()},[e]);const L=async()=>{const E=o.trim();if(console.log("Adding comment with text:",E),!E||g){console.log("Skipping comment submission - no text or already submitting");return}b(!0);try{const _=new FormData;_.append("text",E),_.append("state","published"),!s&&k.trim()&&_.append("authorName",k.trim()),x.length>0&&x.forEach(F=>{_.append("attachments",F)}),console.log("FormData contents:"),console.log("text:",_.get("text")),console.log("state:",_.get("state")),console.log("authorName:",_.get("authorName")),console.log("attachments count:",x.length),console.log("FormData keys:");try{for(const F of _.keys())console.log("Key:",F,"Value:",_.get(F))}catch{console.log("Could not iterate FormData keys")}console.log("Submitting comment to API..."),await A.post(`/api/snapshots/${e}/comments`,_),await P(),d(""),h([]),f(""),y(!1)}catch(_){console.error("Failed to add comment:",_),alert("Failed to add comment. Please try again.")}finally{b(!1)}},S=async(E,_,F)=>{try{const q=new FormData;q.append("text",_),q.append("parentId",E),q.append("state","published"),F&&F.length>0&&F.forEach(Y=>{q.append("attachments",Y)}),await A.post(`/api/snapshots/${e}/comments`,q),await P()}catch(q){throw console.error("Failed to post reply:",q),q}},M=async E=>{try{await A.put(`/api/snapshots/${e}/comments/${E}`,{state:"resolved"}),await P()}catch(_){throw console.error("Failed to resolve comment:",_),_}},D=async E=>{try{await A.delete(`/api/snapshots/${e}/comments/${E}`),await P()}catch(_){throw console.error("Failed to delete comment:",_),_}},U=async(E,_)=>{try{await A.put(`/api/snapshots/${e}/comments/${E}`,{text:_}),await P()}catch(F){throw console.error("Failed to update comment:",F),F}},W=E=>{const _=Array.from(E.target.files||[]);Q(_)},Q=E=>{const F=["image/png","image/jpeg","image/jpg","image/gif","image/webp","text/plain","text/markdown","text/csv","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-rar-compressed"],q=["Images: PNG, JPG, GIF, WebP","Documents: PDF, TXT, MD, CSV","Office: DOC, DOCX, XLS, XLSX","Archives: ZIP, RAR"].join(`
`),Y=[],K=[];E.forEach(ce=>{ce.size>10485760?K.push(`${ce.name} is too large (max 10MB)`):F.includes(ce.type)?Y.push(ce):K.push(`${ce.name} has an unsupported file type.

Supported file types:
${q}`)}),K.length>0&&alert(K.join(`
`)),Y.length>0&&h(ce=>[...ce,...Y])},re=E=>{E.preventDefault(),E.stopPropagation()},ae=E=>{E.preventDefault(),E.stopPropagation();const _=Array.from(E.dataTransfer.files);Q(_)},J=E=>{h(_=>_.filter((F,q)=>q!==E))},Z=E=>{const _=new Map,F=[];E.forEach(Y=>{_.set(Y.id,{...Y,replies:[]})}),E.forEach(Y=>{const K=_.get(Y.id);Y.parentId&&_.has(Y.parentId)?_.get(Y.parentId).replies.push(K):F.push(K)}),F.sort((Y,K)=>(K.createdAt||0)-(Y.createdAt||0));const q=Y=>{Y.replies.sort((K,ce)=>(K.createdAt||0)-(ce.createdAt||0)),Y.replies.forEach(K=>{K.replies&&K.replies.length>0&&q(K)})};return F.forEach(q),F};if(i)return n.jsx("div",{className:`bg-white rounded-lg shadow ${r}`,children:n.jsxs("div",{className:"p-6 flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-500",children:"Loading comments..."})]})});const R=Z(l);return n.jsxs("div",{className:`bg-white rounded-lg shadow ${r}`,children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 font-inconsolata",children:["Comments (",l.length,")"]})]}),n.jsx("button",{onClick:()=>y(!w),className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:w?"Cancel":"Add Comment"})]}),w&&n.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",onDragOver:re,onDrop:ae,children:n.jsxs("form",{onSubmit:E=>{E.preventDefault(),console.log("Form submitted, text:",o),L()},className:"space-y-3",children:[!s&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"anonymous-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your name (optional)"}),n.jsx("input",{id:"anonymous-name",type:"text",value:k,onChange:E=>f(E.target.value),placeholder:"Enter your name or leave blank for Anonymous",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),n.jsx("textarea",{ref:N,value:o,onChange:E=>d(E.target.value),placeholder:"Write your comment...",className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,maxLength:5e3}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{ref:j,type:"file",multiple:!0,onChange:W,className:"hidden",accept:".png,.jpg,.jpeg,.txt,.md,.pdf,.doc,.docx"}),n.jsxs("button",{onClick:()=>{var E;return(E=j.current)==null?void 0:E.click()},className:"text-sm text-gray-600 hover:text-gray-800 flex items-center space-x-1",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})}),n.jsx("span",{children:"Attach Files"})]}),x.length>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:[x.length," file",x.length!==1?"s":""," attached"]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{y(!1),d(""),h([]),f("")},className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),n.jsx("button",{onClick:E=>{E.preventDefault(),console.log("Comment button clicked, text:",o),L()},disabled:!o.trim()||g,className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Posting...":"Post Comment"})]})]}),x.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Attachments:"}),x.map((E,_)=>{var F;return n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[n.jsx("div",{className:"flex-shrink-0",children:E.type.startsWith("image/")?n.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}):E.type==="application/pdf"?n.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}):n.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium text-gray-900 truncate",children:E.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:[(E.size/1024/1024).toFixed(1)," MB • ",((F=E.type.split("/")[1])==null?void 0:F.toUpperCase())||"FILE"]})]})]}),n.jsx("button",{onClick:()=>J(_),className:"ml-2 text-red-500 hover:text-red-700 font-bold text-lg leading-none",title:"Remove attachment",children:"×"})]},_)})]})]})}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:R.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[n.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2 font-inconsolata",children:"No comments yet"}),n.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Start the conversation by adding the first comment!"}),n.jsx("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Add First Comment"})]}):n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Comments"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>u(!1),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${m?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white"}`,children:"Unresolved"}),n.jsx("button",{onClick:()=>u(!0),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${m?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"All Comments"})]})]})}),R.filter(E=>m?!0:E.state!=="resolved").map(E=>{var F;const _=m?E.replies:((F=E.replies)==null?void 0:F.filter(q=>E.state!=="resolved"))||[];return n.jsx(Hm,{comment:E,replies:_,depth:0,onReply:S,onResolve:M,onDelete:D,onUpdate:U,isOwner:t,currentUserId:s==null?void 0:s.uid,maxDepth:5},E.id)})]})}),R.length>0&&n.jsx("div",{className:"border-t border-gray-200 p-3 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[n.jsxs("span",{children:[R.length," thread",R.length!==1?"s":""]}),n.jsxs("span",{children:[l.length," total comment",l.length!==1?"s":""]})]})})]})}function hd(){const e=St(),{user:t}=Ct(),[r,s]=p.useState(null),[l,a]=p.useState(!0),[i,c]=p.useState(null),[o,d]=p.useState(""),[x,h]=p.useState(!1),[g,b]=p.useState(null),[w,y]=p.useState(!1),{id:k}=bf(),f=window.self!==window.top,m=window.location.hash.slice(1),u=f?m:null;p.useEffect(()=>{if(!k){c("No snapshot ID provided"),a(!1);return}N()},[k]),p.useEffect(()=>{f&&u&&r&&(u==="comments"||u==="reviews"||u==="ai"&&setTimeout(()=>{y(!0)},200))},[f,u,r]),p.useEffect(()=>{x&&!l&&setTimeout(()=>{const S=document.querySelector('input[type="password"]');S&&S.focus()},100)},[x,l]);const N=async()=>{try{c(null);const S=await A.get(`/snapshots/${k}`);s(S.snapshot),S.snapshot.files.length>0&&b(S.snapshot.files[0].name),S.snapshot.public||document.cookie.split("; ").find(D=>D.startsWith(`ps_gate_${k}=`))||h(!0)}catch(S){S.message.includes("401")?h(!0):(console.error("Failed to fetch snapshot:",S),c("Failed to fetch snapshot"))}finally{a(!1)}},j=async()=>{try{c(null);const S=await fetch(`/s/${k}/gate`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:o})});if(!S.ok)throw new Error(S.status.toString());h(!1),await N()}catch(S){console.error("Password verification failed:",S),c(S.message||"Invalid password")}},P=S=>{if(S===0)return"0 B";const M=1024,D=["B","KB","MB","GB"],U=Math.floor(Math.log(S)/Math.log(M));return parseFloat((S/Math.pow(M,U)).toFixed(1))+" "+D[U]},L=S=>new Date(S).toLocaleString();return l?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading snapshot..."})]})}):i&&!x?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-6 font-poppins",children:n.jsx("div",{className:"max-w-md w-full",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2 font-inconsolata",children:"Error"}),n.jsx("p",{className:"mb-4",children:i}),n.jsx("button",{onClick:()=>e("/"),className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Back to Dashboard"})]})})}):x?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-6 font-poppins",children:n.jsxs("div",{className:"max-w-md w-full",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 font-inconsolata",children:"Password Protected"}),n.jsx("p",{className:"text-gray-600",children:"This snapshot is password protected. Please enter the password to continue."})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[i&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:i}),n.jsx("div",{className:"mb-6",children:n.jsx("input",{type:"password",value:o,onChange:S=>d(S.target.value),placeholder:"Enter password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:S=>S.key==="Enter"&&j()})}),n.jsx("button",{onClick:j,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-lg transition-colors w-full",children:"View Snapshot"})]})]})}):r?(r.files.find(S=>S.name===g),f&&u?n.jsxs("div",{className:"min-h-screen bg-white font-poppins",children:[u==="comments"&&k&&n.jsx(md,{snapshotId:k,isOwner:!!t}),u==="reviews"&&k&&n.jsx("div",{className:"p-6",children:n.jsx(ud,{snapshotId:k,isOwner:!!t})}),u==="ai"&&k&&n.jsx(dd,{snapshotId:k,isVisible:!0,onClose:()=>{}})]}):n.jsxs("div",{className:"min-h-screen bg-gray-50 font-poppins",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-xl font-bold text-gray-900 font-inconsolata",children:["Snapshot: ",r.id]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Created: ",L(r.createdAt)," | Expires: ",L(r.expiresAt)," | Size: ",P(r.totalBytes)]})]}),n.jsxs("nav",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>y(!w),className:`px-3 py-2 text-sm font-medium border rounded-lg transition-colors ${w?"bg-blue-600 text-white border-blue-600":"text-gray-600 hover:text-gray-700 border-gray-300 hover:border-gray-400"}`,children:"🤖 AI UX Assistant"}),n.jsx("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-700 px-3 py-2 text-sm font-medium border border-gray-300 rounded-lg hover:border-gray-400 transition-colors",children:"Dashboard"})]})]})})}),n.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 font-inconsolata",children:["Files (",r.files.length,")"]}),n.jsx("div",{className:"space-y-2",children:r.files.map(S=>n.jsxs("button",{onClick:()=>b(S.name),className:`w-full text-left p-3 rounded-lg border transition-colors ${g===S.name?"bg-blue-50 border-blue-200 text-blue-900":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[n.jsx("div",{className:"font-medium text-sm",children:S.name}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[P(S.size)," • ",S.type]})]},S.name))})]})}),n.jsx("div",{className:"lg:col-span-6",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-2 min-h-[600px]",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 font-inconsolata",children:"Preview"}),n.jsx("a",{href:`https://quickstage.tech/s/${k}/index.html`,target:"_blank",rel:"noreferrer",className:"text-sm text-blue-600 hover:underline",children:"Open in new tab"})]}),n.jsx("iframe",{src:`https://quickstage.tech/s/${k}/index.html`,className:"w-full h-[70vh] border-0",title:"Snapshot Preview",onLoad:()=>{console.log("Snapshot iframe loaded successfully")},onError:S=>{console.error("Failed to load snapshot iframe:",S),c("Failed to load snapshot preview. Please try refreshing the page.")}},k)]})}),n.jsxs("div",{className:"lg:col-span-3",children:[n.jsx(md,{snapshotId:k||"",isOwner:!!t}),n.jsx("div",{className:"mt-6",children:n.jsx(ud,{snapshotId:k||"",isOwner:!!t})})]})]})}),k&&n.jsx(dd,{snapshotId:k,isVisible:w,onClose:()=>y(!1)})]})):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-inconsolata",children:"Snapshot Not Found"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"The requested snapshot could not be found."}),n.jsx("button",{onClick:()=>e("/"),className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Back to Dashboard"})]})})}function lx(){const e=St(),[t,r]=p.useState([]),[s,l]=p.useState([]),[a,i]=p.useState({x:0,y:0}),[c,o]=p.useState(0),[d,x]=p.useState(!0),[h,g]=p.useState(!1),[b,w]=p.useState(!1),y=["No <strong>DevOps</strong>","No <strong>GitHub</strong>","No finnicky <strong>envs</strong>","No deployment <strong>pipelines</strong>","No <strong>configs</strong>","No <strong>DevOps</strong>"],k=()=>{e("/login")},f=()=>{e("/login?mode=signup")},m=()=>{e("/login")};return p.useEffect(()=>{(async()=>{try{await A.post("/analytics/track",{eventType:"page_view",eventData:{page:"Landing Page"}})}catch(N){console.error("Failed to track page view:",N)}})()},[]),p.useEffect(()=>{const u=()=>{const N=navigator.userAgent.toLowerCase(),j=/mobile|android|iphone|ipad|phone|tablet/i.test(N)||window.innerWidth<=768;g(j)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),p.useEffect(()=>{const u=()=>{const j=[];for(let L=0;L<50;L++)j.push({id:L,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:Math.random()*2+.5,opacity:Math.random()*.6+.2});l(j)};u();const N=()=>u();return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),p.useEffect(()=>{if(!d)return;const u=setInterval(()=>{o(N=>{const j=N+1;return j>=y.length?(x(!1),clearInterval(u),N):j})},1200);return()=>clearInterval(u)},[y.length]),p.useEffect(()=>{let u=0,N=0;const j=100,P=L=>{const S=Date.now();if(i({x:L.clientX,y:L.clientY}),S-N>j){const M=Math.floor(Math.random()*10)+5,D=[];for(let U=0;U<M;U++){const W=Math.random()*360,Q=Math.random()*100+15,re=Math.random()*2+1,ae=W*Math.PI/180,J=L.clientX+Math.cos(ae)*Q,Z=L.clientY+Math.sin(ae)*Q;D.push({id:u++,x:J,y:Z,size:re,opacity:1})}r(U=>[...U,...D]),N=S,setTimeout(()=>{r(U=>U.filter(W=>!D.find(Q=>Q.id===W.id)))},600)}};return window.addEventListener("mousemove",P),()=>window.removeEventListener("mousemove",P)},[]),n.jsxs("div",{className:"min-h-screen bg-black relative overflow-hidden font-poppins",children:[s.map(u=>n.jsx("div",{className:"absolute pointer-events-none z-5",style:{left:u.x,top:u.y,transform:"translate(-50%, -50%)"},children:n.jsx("div",{className:"bg-white rounded-full",style:{width:`${u.size}px`,height:`${u.size}px`,opacity:u.opacity,boxShadow:`0 0 ${u.size*3}px ${u.size}px rgba(255, 255, 255, 0.2)`}})},u.id)),t.map(u=>n.jsx("div",{className:"absolute pointer-events-none z-10",style:{left:u.x,top:u.y,transform:"translate(-50%, -50%)"},children:n.jsx("div",{className:"bg-white rounded-full animate-pulse",style:{width:`${u.size}px`,height:`${u.size}px`,opacity:u.opacity,boxShadow:`0 0 ${u.size*2}px ${u.size}px rgba(255, 255, 255, 0.3)`}})},u.id)),n.jsx("header",{className:"bg-black/95 backdrop-blur-sm border-b border-gray-800 sticky top-0 z-50 shadow-sm",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent font-share-tech-mono",children:"QuickStage"})}),n.jsxs("nav",{className:"flex items-center space-x-2 sm:space-x-6",children:[n.jsx("button",{onClick:f,className:"text-gray-300 hover:text-blue-400 px-2 sm:px-3 py-2 text-sm font-medium transition-colors duration-200 font-poppins",children:"Sign Up"}),n.jsx("button",{onClick:m,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-medium py-2 px-4 sm:px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg font-poppins",children:"Log In"})]})]})})}),n.jsxs("section",{className:"relative bg-gradient-to-br from-black via-gray-900 to-black min-h-screen flex items-center justify-center overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/10 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/10 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse"})]}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-8 leading-tight font-inconsolata",children:["Share Working",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400",children:" Prototypes"}),n.jsx("br",{}),"in One Click"]}),d&&n.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-2 leading-relaxed",dangerouslySetInnerHTML:{__html:y[c]||""}}),n.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-10 leading-relaxed",children:"Just your prototype, online in seconds."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[n.jsx("button",{onClick:k,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold py-4 px-10 rounded-xl text-lg transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl font-poppins",children:"Start Staging Free"}),n.jsxs("button",{onClick:()=>w(!0),className:"border-1 border-gray-600 hover:border-gray-500 text-gray-100 font-semibold py-4 px-10 rounded-xl text-lg transition-all duration-300 bg-gray-800/50 hover:bg-gray-700/50 shadow-lg hover:shadow-xl backdrop-blur-sm font-poppins flex items-center justify-center gap-3",children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Quick Video Explainer"]})]})]})})]}),n.jsx("section",{id:"how-it-works",className:"py-32 bg-gradient-to-b from-black/80 to-gray-900/80",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-20",children:[n.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-white mb-6 font-inconsolata",children:"How QuickStage Works"}),n.jsxs("button",{onClick:()=>w(!0),className:"text-xl text-gray-300 hover:text-blue-400 transition-colors duration-200 flex items-center justify-center gap-2 mx-auto font-poppins mb-4",children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Quick Video Explainer"]}),n.jsx("p",{className:"text-lg text-gray-400 max-w-2xl mx-auto font-poppins",children:"Three quick steps to a shareable prototype"})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[n.jsxs("div",{className:"text-center group",children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg group-hover:shadow-xl transition-all duration-300 transform group-hover:scale-110",children:n.jsx("span",{className:"text-3xl font-bold text-white",children:"1"})}),n.jsx("h3",{className:"text-3xl font-semibold text-white mb-4 font-inconsolata",children:"Build Locally"}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Turn your ideas for a new feature or product into a quick prototype – let your favorite AI agent help!"})]}),n.jsxs("div",{className:"text-center group",children:[n.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg group-hover:shadow-xl transition-all duration-300 transform group-hover:scale-110",children:n.jsx("span",{className:"text-3xl font-bold text-white",children:"2"})}),n.jsx("h3",{className:"text-3xl font-semibold text-white mb-4 font-inconsolata",children:"Deploy Instantly"}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"QuickStage adapts to the framework you've used and deploys the project to the web in seconds."})]}),n.jsxs("div",{className:"text-center group",children:[n.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-indigo-600 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg group-hover:shadow-xl transition-all duration-300 transform group-hover:scale-110",children:n.jsx("span",{className:"text-3xl font-bold text-white",children:"3"})}),n.jsx("h3",{className:"text-3xl font-semibold text-white mb-4 font-inconsolata",children:"Share Securely"}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Get a private, password-protected URL to share with your team for comments and input."})]})]})]})}),n.jsx("section",{id:"features",className:"py-32 bg-gradient-to-b from-gray-900/80 to-black/80",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-20",children:[n.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-white mb-6 font-inconsolata",children:"Built for Modern Development"}),n.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto font-poppins",children:"Everything you need to get your prototypes online quickly and securely"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"10-Second Deploys"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Deploy your first prototype in less than 10 seconds. No env management, no CI/CD, no managing environments or deconflicting repos with the development team."})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"Secure by Default"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Password-protected sharing, private by default. No public exposure of your work-in-progress."})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"Real-time Comments"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Get feedback directly on your prototypes with inline comments and real-time collaboration."})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"Framework Agnostic"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Works with React, Vue, Svelte, Next.js, and more. Detects your build system automatically."})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-500 to-purple-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"No Setup, No Config"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Install the extension in Cursor or VS Code and you're ready to go. Stage your first prototype less than 30 seconds after downloading the extension."})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-pink-500 to-pink-600 rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),n.jsx("h3",{className:"text-2xl font-semibold text-white font-inconsolata",children:"Ship Ideas, Not PRDs"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed font-poppins",children:"Ditch the 10-page requirements docs. If a picture is worth a thousand words, what's a working prototype worth?"})]})]})]})}),n.jsxs("section",{className:"py-24 bg-gradient-to-br from-black via-blue-900/20 to-purple-900/20 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-blue-500/10 via-transparent to-purple-500/10"}),n.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-blue-500/20 rounded-full filter blur-3xl"}),n.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-purple-500/20 rounded-full filter blur-3xl"})]}),n.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8 relative z-10",children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6 font-inconsolata",children:"Ready to Stage Your First Prototype?"}),n.jsx("p",{className:"text-xl text-gray-300 mb-10 leading-relaxed font-poppins",children:"Join dozens of designers, product managers, and developers who are already using QuickStage to shortcut the product development process."}),n.jsx("button",{onClick:k,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold py-4 px-10 rounded-xl text-lg transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl font-poppins",children:"Start Staging Free"})]})]}),b&&n.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"relative max-w-4xl w-full",children:[n.jsx("button",{onClick:()=>w(!1),className:"absolute -top-12 right-0 text-white hover:text-gray-300 text-xl font-bold z-10 bg-black/50 rounded-full w-10 h-10 flex items-center justify-center transition-colors duration-200",children:"✕"}),n.jsx("div",{className:"relative bg-black rounded-lg overflow-hidden shadow-2xl",style:{paddingBottom:"56.25%"},children:n.jsx("iframe",{src:"https://player.vimeo.com/video/1114461563?badge=0&autopause=0&player_id=0&app_id=58479&autoplay=1&dnt=1",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share",referrerPolicy:"strict-origin-when-cross-origin",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},title:"QuickStage - Shortcut the development cycle"})})]})}),n.jsx("footer",{className:"bg-black text-white py-12 font-poppins",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"QuickStage"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"The fastest way to stage and share your product prototypes."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Product"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"#how-it-works",className:"text-gray-300 hover:text-white",children:"How It Works"})}),n.jsx("li",{children:n.jsx("a",{href:"#features",className:"text-gray-300 hover:text-white",children:"Features"})}),n.jsx("li",{children:n.jsx("a",{href:"/pricing",className:"text-gray-300 hover:text-white",children:"Pricing"})}),n.jsx("li",{children:n.jsx("a",{href:"mailto:support@quickstage.tech",className:"text-gray-300 hover:text-white",children:"Contact"})})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:n.jsx("p",{className:"text-gray-400 text-sm",children:"© 2025 QuickStage. All rights reserved."})})]})})]})}function ax(){const e=St(),{user:t,loginWithEmailPassword:r,loginWithGoogle:s,registerWithEmailPassword:l,error:a,clearError:i}=Ct(),[c,o]=p.useState(!1),[d,x]=p.useState(""),[h,g]=p.useState("login"),[b,w]=p.useState(""),[y,k]=p.useState(""),[f,m]=p.useState("");p.useEffect(()=>{if(t){const P=new URLSearchParams(window.location.search),L=P.get("redirect"),S=P.get("plan");e(L==="pricing"&&S?`/pricing?plan=${S}`:"/dashboard")}},[t,e]),p.useEffect(()=>{(async()=>{try{await A.post("/analytics/track",{eventType:"page_view",eventData:{page:"Login/Signup"}})}catch(L){console.error("Failed to track page view:",L)}})()},[]),p.useEffect(()=>{new URLSearchParams(window.location.search).get("mode")==="signup"&&g("register")},[]),p.useEffect(()=>{i(),x("")},[h,i]);const u=async()=>{if(h==="register"&&(!b||!y||!f)){x("Please fill in all fields");return}if(h==="login"&&(!b||!y)){x("Please enter email and password");return}o(!0),x("");try{h==="register"?await l(b.trim(),y,f.trim()):await r(b.trim(),y)}catch(P){console.error("Authentication failed:",P),x(P.message||"Authentication failed")}finally{o(!1)}},N=async()=>{o(!0),x("");try{const P="572150791966-3grv4gjf8d5ngpklfs0b2hdet0d9vaf9.apps.googleusercontent.com";typeof window<"u"&&window.google?window.google.accounts.oauth2.initTokenClient({client_id:P,scope:"email profile",callback:async M=>{if(M.access_token)try{const D=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${M.access_token}`}});if(D.ok){const U=await D.json();await s(M.access_token)}}catch(D){console.error("Failed to get user info:",D),x("Failed to authenticate with Google")}}}).requestAccessToken():x("Google authentication is not available. Please try again later.")}catch(P){console.error("Google authentication failed:",P),x("Google authentication failed")}finally{o(!1)}},j=(P,L)=>{switch(P){case"email":w(L);break;case"password":k(L);break;case"name":m(L);break}d&&x(""),a&&i()};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center px-4 py-12 font-poppins",children:n.jsxs("div",{className:"max-w-md w-full",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl mx-auto flex items-center justify-center",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 font-inconsolata",children:h==="register"?"Create Account":"Welcome Back"}),n.jsx("p",{className:"text-gray-600",children:h==="register"?"Sign up for QuickStage to start sharing your prototypes":"Sign in to your QuickStage account"})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center font-inconsolata",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),h==="register"?"Create Account":"Sign In"]}),h==="register"&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),n.jsx("input",{type:"text",placeholder:"Enter your full name",value:f,onChange:P=>j("name",P.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",placeholder:"Enter your email",value:b,onChange:P=>j("email",P.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsx("input",{type:"password",placeholder:"Enter your password",value:y,onChange:P=>j("password",P.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),n.jsx("button",{onClick:u,disabled:c,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:from-blue-400 disabled:to-indigo-400 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-200 transform hover:scale-[1.02] disabled:transform-none",children:c?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):h==="register"?"Create Account":"Sign In"})]}),n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-200"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"or"})})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("button",{onClick:N,disabled:c,className:"w-full bg-white border-2 border-gray-200 hover:border-gray-300 hover:bg-gray-50 text-gray-700 font-semibold py-3 px-4 rounded-xl transition-all duration-200 transform hover:scale-[1.02] disabled:transform-none flex items-center justify-center",children:[n.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),n.jsx("div",{className:"text-center mb-6",children:n.jsx("button",{onClick:()=>g(h==="login"?"register":"login"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium hover:underline transition-colors duration-200",children:h==="login"?"Don't have an account? Sign up":"Already have an account? Sign in"})}),(d||a)&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d||a]}),n.jsx("div",{className:"text-center",children:n.jsxs("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-700 text-sm font-medium hover:underline transition-colors duration-200 flex items-center justify-center mx-auto",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to landing page"]})})]})]})})}function ix(){var bo,No,ko,So,Co,Eo,Po,Lo,_o,Ro,To,Ao,Mo,Do,zo,Fo,Io,Uo;const{user:e}=Ct(),[t,r]=p.useState([]),[s,l]=p.useState(!0),[a,i]=p.useState(null),[c,o]=p.useState(!1),[d,x]=p.useState({name:"",email:"",password:"",role:"user"}),[h,g]=p.useState(null),{projects:b,selectedProjectId:w,isSidebarCollapsed:y,loadProjects:k,handleSelectProject:f,handleToggleSidebar:m}=Vm(),[u,N]=p.useState(null),[j,P]=p.useState(!1),[L,S]=p.useState("users"),[M,D]=p.useState(!1),[U,W]=p.useState([]),[Q,re]=p.useState(!1),[ae,J]=p.useState(null),[Z,R]=p.useState("all"),[E,_]=p.useState(!1),[F,q]=p.useState(null),[Y,K]=p.useState(null),[ce,V]=p.useState(null),[se,ye]=p.useState([]),[me,Bt]=p.useState("24h"),[vt,xn]=p.useState(!1),[dt,xr]=p.useState(null),[Et,Tn]=p.useState("asc"),Ot=v=>{dt===v?Tn(Et==="asc"?"desc":"asc"):(xr(v),Tn("asc"))},H=Xn.useMemo(()=>!dt||!t.length?t:[...t].sort((v,I)=>{var Se,$e,Ce,ge;let te,le;switch(dt){case"name":te=((Se=v.name)==null?void 0:Se.toLowerCase())||"",le=(($e=I.name)==null?void 0:$e.toLowerCase())||"";break;case"email":te=((Ce=v.email)==null?void 0:Ce.toLowerCase())||"",le=((ge=I.email)==null?void 0:ge.toLowerCase())||"";break;case"status":te=v.status||"",le=I.status||"";break;case"plan":te=v.plan||"",le=I.plan||"";break;case"createdAt":te=new Date(v.createdAt||0).getTime(),le=new Date(I.createdAt||0).getTime();break;case"lastLoginAt":te=new Date(v.lastLoginAt||0).getTime(),le=new Date(I.lastLoginAt||0).getTime();break;case"totalSnapshots":te=v.totalSnapshots||0,le=I.totalSnapshots||0;break;default:return 0}return te<le?Et==="asc"?-1:1:te>le?Et==="asc"?1:-1:0}),[t,dt,Et]),ee=({field:v,children:I})=>n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none",onClick:()=>Ot(v),children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{children:I}),dt===v&&n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:Et==="asc"?n.jsx("path",{d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"}):n.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})}),dt!==v&&n.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]})}),[Ue,An]=p.useState("all"),[Re,Wt]=p.useState("all"),[C,B]=p.useState("all"),[G,z]=p.useState("all"),[O,be]=p.useState(""),[ke,zl]=p.useState(""),[Fl,Xm]=p.useState(""),[Il,Jm]=p.useState(""),[Zm,po]=p.useState(!1),[eh,fo]=p.useState(!1),[th,xo]=p.useState(!1);p.useEffect(()=>{const v=I=>{I.target.closest(".custom-dropdown")||(po(!1),_(!1),fo(!1),xo(!1))};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const[Pt,nh]=p.useState(null),[Vt,go]=p.useState(!1),[Mn,rh]=p.useState(null);if(!e||e.role!=="superadmin")return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4 font-inconsolata",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})});p.useEffect(()=>{gr(),hs(),$l(),ms(),(async()=>{try{await A.post("/analytics/track",{eventType:"page_view",eventData:{page:"Admin Dashboard"}})}catch(I){console.error("Failed to track page view:",I)}})()},[]),p.useEffect(()=>{me&&hs()},[me]);const gr=async()=>{try{l(!0),i(null);const v=await A.get("/admin/users");r(v.users)}catch(v){i(v.message||"Failed to load users")}finally{l(!1)}},ms=async()=>{try{re(!0),J(null);const v=await A.get("/admin/snapshots");W(v.snapshots||[])}catch(v){J(v.message||"Failed to load snapshots")}finally{re(!1)}},hs=async()=>{try{P(!0);const v=Date.now();let I;switch(me){case"24h":I=v-24*60*60*1e3;break;case"7d":I=v-7*24*60*60*1e3;break;case"30d":I=v-30*24*60*60*1e3;break;default:I=v-2*60*60*1e3}const[te,le,Se]=await Promise.all([A.get("/debug/stats"),A.get("/debug/users"),A.get("/debug/snapshots")]);N(te),q(le),K(Se),V(te);const Ce=me==="24h"?[{name:"2h",ms:2*60*60*1e3},{name:"24h",ms:24*60*60*1e3},{name:"7d",ms:7*24*60*60*1e3},{name:"30d",ms:30*24*60*60*1e3}]:[{name:me,ms:me==="7d"?7*24*60*60*1e3:me==="30d"?30*24*60*60*1e3:24*60*60*1e3}];let ge=[];for(const gn of Ce){const Dn=v-gn.ms;console.log(`Trying ${gn.name} window (fast mode), startTime: ${Dn} (${new Date(Dn).toISOString()})`);const zn=await A.get(`/debug/analytics/events?limit=500&startTime=${Dn}`);if(zn.events&&zn.events.length>0){ge=zn.events,console.log(`Found ${ge.length} events in ${gn.name} window`);break}else console.log(`No events found in ${gn.name} window`)}ye(ge)}catch(v){console.error("Failed to load analytics:",v)}finally{P(!1)}},sh=async v=>{v.preventDefault();try{i(null),await A.post("/admin/users",d),g("User created successfully!"),o(!1),x({name:"",email:"",password:"",role:"user"}),gr()}catch(I){i(I.message||"Failed to create user")}},lh=async v=>{if(confirm("Are you sure you want to deactivate this user?"))try{i(null),await A.post(`/admin/users/${v}/deactivate`),g("User deactivated successfully!"),gr()}catch(I){i(I.message||"Failed to deactivate user")}},ah=async v=>{try{i(null),await A.post(`/admin/users/${v}/activate`),g("User activated successfully!"),gr()}catch(I){i(I.message||"Failed to activate user")}},ih=async(v,I)=>{if(!confirm(`⚠️  DANGER: Are you absolutely sure you want to PERMANENTLY DELETE user "${I}"?

This will:
• Remove all their data from the system
• Delete all their snapshots
• Delete all their PATs
• Delete all their comments
• This action CANNOT be undone!

Type "DELETE" to confirm:`))return;if(prompt('Type "DELETE" to confirm permanent deletion:')!=="DELETE"){alert("Deletion cancelled. User data is safe.");return}try{i(null),await $m.deleteUser(v),g(`User "${I}" has been completely deleted from the system!`),gr()}catch(le){i(le.message||"Failed to delete user")}},ps=v=>new Date(v).toLocaleDateString(),vo=v=>{switch(v){case"Superadmin":return"text-purple-600 bg-purple-100";case"Pro":return"text-green-600 bg-green-100";case"Free Trial":return"text-blue-600 bg-blue-100";case"Cancelled":return"text-red-600 bg-red-100";case"Past Due":return"text-orange-600 bg-orange-100";case"None":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},oh=v=>v.canAccessPro?n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${vo(v.subscriptionStatus)}`,children:v.subscriptionStatus}),v.trialEndsAt&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Trial ends: ",ps(v.trialEndsAt)]}),v.subscriptionStartedAt&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Started: ",ps(v.subscriptionStartedAt)]})]}):n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${vo(v.subscriptionStatus)}`,children:v.subscriptionStatus}),ch=v=>v==="active"?"text-green-600":"text-red-600",Ul=v=>v>=1e6?(v/1e6).toFixed(1)+"M":v>=1e3?(v/1e3).toFixed(1)+"K":v.toString(),dh=v=>({"24h":"Last 24 Hours","7d":"Last 7 Days","30d":"Last 30 Days"})[v]||v,yo=se.filter(v=>{if(!v||!v.type||Ue!=="all"&&v.type!==Ue)return!1;if(Re!=="all"){if(Re.includes("(")&&Re.includes(")")){const I=Re.match(/\(([^)]+)\)/);if(I&&v.userId!==I[1])return!1}else if(v.userId!==Re)return!1}if(C!=="all"&&v.page!==C)return!1;if(G!=="all"&&v.timestamp){const I=v.timestamp;switch(G){case"before":if(O&&I>=new Date(O).getTime())return!1;break;case"after":if(ke&&I<=new Date(ke).getTime())return!1;break;case"between":if(Fl&&I<new Date(Fl).getTime()||Il&&I>new Date(Il).getTime())return!1;break}}return!0}),fs=({label:v,value:I,options:te,onChange:le,isOpen:Se,setIsOpen:$e})=>{const Ce=te.find(ge=>ge.value===I);return n.jsxs("div",{className:"relative custom-dropdown",children:[n.jsxs("button",{type:"button",onClick:()=>$e(!Se),className:"inline-flex items-center justify-between w-full px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 min-w-[200px]",children:[n.jsx("span",{className:"text-gray-700",children:(Ce==null?void 0:Ce.label)||v}),n.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${Se?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Se&&n.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:n.jsx("div",{className:"py-1 max-h-60 overflow-auto",children:te.map(ge=>n.jsx("button",{type:"button",onClick:()=>{le(ge.value),$e(!1)},className:`w-full px-4 py-2 text-sm text-left hover:bg-gray-50 transition-colors duration-150 first:rounded-t-lg last:rounded-b-lg ${ge.value===I?"bg-blue-50 text-blue-700 font-medium":"text-gray-700"}`,children:ge.label},ge.value))})})]})},uh=v=>{switch(v){case"user_login":return"bg-blue-100 text-blue-800 border-blue-200";case"user_logout":return"bg-slate-100 text-slate-800 border-slate-200";case"user_registered":return"bg-green-100 text-green-800 border-green-200";case"user_deleted":return"bg-red-100 text-red-800 border-red-200";case"snapshot_created":return"bg-purple-100 text-purple-800 border-purple-200";case"snapshot_viewed":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"snapshot_downloaded":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"snapshot_deleted":return"bg-red-100 text-red-800 border-red-200";case"snapshot_expired":return"bg-amber-100 text-amber-800 border-amber-200";case"page_view":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"comment_created":case"comment_posted":return"bg-teal-100 text-teal-800 border-teal-200";case"comment_replied":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"comment_edited":case"comment_updated":return"bg-teal-100 text-teal-800 border-teal-200";case"comment_deleted":return"bg-red-100 text-red-800 border-red-200";case"comment_resolved":return"bg-green-100 text-green-800 border-green-200";case"comment_archived":return"bg-amber-100 text-amber-800 border-amber-200";case"comments_bulk_resolved":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"comment_subscription_added":return"bg-blue-100 text-blue-800 border-blue-200";case"comment_subscription_removed":return"bg-orange-100 text-orange-800 border-orange-200";case"comment_subscription_activated":return"bg-green-100 text-green-800 border-green-200";case"comment_subscription_paused":return"bg-gray-100 text-gray-800 border-gray-200";case"project_created":return"bg-purple-100 text-purple-800 border-purple-200";case"project_updated":return"bg-blue-100 text-blue-800 border-blue-200";case"project_deleted":return"bg-red-100 text-red-800 border-red-200";case"project_archived":return"bg-amber-100 text-amber-800 border-amber-200";case"project_unarchived":return"bg-lime-100 text-lime-800 border-lime-200";case"review_requested":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"review_approved":return"bg-green-100 text-green-800 border-green-200";case"review_rejected":return"bg-red-100 text-red-800 border-red-200";case"review_submitted":return"bg-green-100 text-green-800 border-green-200";case"review_cancelled":return"bg-orange-100 text-orange-800 border-orange-200";case"review_reminder_sent":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"subscription_started":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"subscription_cancelled":return"bg-orange-100 text-orange-800 border-orange-200";case"subscription_expired":return"bg-red-100 text-red-800 border-red-200";case"payment_succeeded":return"bg-green-100 text-green-800 border-green-200";case"payment_failed":return"bg-red-100 text-red-800 border-red-200";case"migration_completed":return"bg-blue-100 text-blue-800 border-blue-200";case"user_migration_completed":return"bg-blue-100 text-blue-800 border-blue-200";case"snapshot_migration_completed":return"bg-blue-100 text-blue-800 border-blue-200";case"system_backup":return"bg-violet-100 text-violet-800 border-violet-200";case"system_maintenance":return"bg-amber-100 text-amber-800 border-amber-200";case"extension_downloaded":return"bg-green-100 text-green-800 border-green-200";case"extension_upgraded":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"error_occurred":return"bg-red-100 text-red-800 border-red-200";case"unauthorized_access":return"bg-red-100 text-red-800 border-red-200";case"rate_limit_exceeded":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},mh=v=>{var te,le,Se,$e,Ce,ge,gn,Dn,zn,$o,Bo,Oo,Wo,Vo,Ho,Qo;if(!v||!v.type)return"Unknown event";const I=v.description;if(I)return I;switch(v.type){case"page_view":return`Viewed page: ${v.page||"Unknown page"}`;case"user_login":return"User logged in";case"user_logout":return"User logged out";case"user_registered":return"New user registered";case"snapshot_created":return"Snapshot created";case"snapshot_viewed":return"Snapshot viewed";case"snapshot_downloaded":return"Snapshot downloaded";case"comment_posted":return"Comment posted";case"comment_updated":return"Comment updated";case"comment_resolved":return"Comment resolved";case"comments_bulk_resolved":return"Multiple comments resolved";case"project_created":return`Project created: ${((te=v.eventData)==null?void 0:te.projectName)||"Unknown project"}`;case"project_updated":return`Project updated: ${((le=v.eventData)==null?void 0:le.projectName)||"Unknown project"}`;case"project_deleted":return`Project deleted: ${((Se=v.eventData)==null?void 0:Se.projectName)||"Unknown project"}`;case"project_archived":return`Project archived: ${(($e=v.eventData)==null?void 0:$e.projectName)||"Unknown project"}`;case"project_unarchived":return`Project unarchived: ${((Ce=v.eventData)==null?void 0:Ce.projectName)||"Unknown project"}`;case"review_requested":return`Review requested for snapshot: ${((ge=v.eventData)==null?void 0:ge.snapshotName)||((gn=v.eventData)==null?void 0:gn.snapshotId)||"Unknown snapshot"}`;case"review_submitted":return`Review submitted for snapshot: ${((Dn=v.eventData)==null?void 0:Dn.snapshotName)||((zn=v.eventData)==null?void 0:zn.snapshotId)||"Unknown snapshot"}`;case"review_cancelled":return`Review cancelled for snapshot: ${(($o=v.eventData)==null?void 0:$o.snapshotName)||((Bo=v.eventData)==null?void 0:Bo.snapshotId)||"Unknown snapshot"}`;case"review_reminder_sent":return`Review reminder sent for snapshot: ${((Oo=v.eventData)==null?void 0:Oo.snapshotName)||((Wo=v.eventData)==null?void 0:Wo.snapshotId)||"Unknown snapshot"}`;case"subscription_started":return"Subscription started";case"subscription_cancelled":return"Subscription cancelled";case"payment_succeeded":return"Payment successful";case"payment_failed":return"Payment failed";case"extension_downloaded":return`Extension downloaded: ${((Vo=v.metadata)==null?void 0:Vo.version)||"Unknown version"}`;case"extension_upgraded":return`Extension upgraded: ${((Ho=v.metadata)==null?void 0:Ho.version)||"Unknown version"}`;case"error_occurred":return`Error: ${((Qo=v.metadata)==null?void 0:Qo.error)||"Unknown error"}`;case"unauthorized_access":return"Unauthorized access attempt";default:return`${v.type.charAt(0).toUpperCase()+v.type.slice(1).replace(/_/g," ")}`}},hh=["all","user_login","user_logout","user_registered","user_deleted","snapshot_created","snapshot_viewed","snapshot_downloaded","snapshot_deleted","snapshot_expired","page_view","comment_posted","comment_deleted","comment_updated","comment_resolved","comments_bulk_resolved","project_created","project_updated","project_deleted","project_archived","project_unarchived","review_requested","review_submitted","review_cancelled","review_reminder_sent","subscription_started","subscription_cancelled","subscription_expired","payment_succeeded","payment_failed","migration_completed","user_migration_completed","snapshot_migration_completed","system_backup","system_maintenance","extension_downloaded","extension_upgraded","error_occurred","unauthorized_access","rate_limit_exceeded",...Array.from(new Set(se.map(v=>v==null?void 0:v.type).filter(Boolean)))],ph=["all",...Array.from(new Set(se.map(v=>v!=null&&v.userId&&(v==null?void 0:v.userId)!=="system"&&(v==null?void 0:v.userId)!=="anonymous"?`${v.userEmail||"Unknown"} (${v.userId})`:v==null?void 0:v.userId).filter(Boolean)))],fh=(()=>{const v=se.map(te=>te==null?void 0:te.page).filter(Boolean);return["all",...Array.from(new Set(v))]})(),wo=Xn.useMemo(()=>Z==="all"?U:U.filter(v=>v.ownerUid===Z),[U,Z]),jo=Xn.useMemo(()=>{const v=new Map;return U.forEach(I=>{I.ownerUid&&I.ownerName&&v.set(I.ownerUid,{uid:I.ownerUid,name:I.ownerName,email:I.ownerEmail||"Unknown Email"})}),Array.from(v.values()).sort((I,te)=>I.name.localeCompare(te.name))},[U]),$l=async()=>{try{const v=await A.get("/debug/migration/stats");nh(v)}catch(v){console.error("Failed to load migration stats:",v)}},xs=async(v,I=!0)=>{try{go(!0),i(null);const te=v==="full"?"/debug/migration/run":v==="users"?"/debug/migration/users":"/debug/migration/snapshots",le=await A.post(te,{dryRun:I,batchSize:50,skipErrors:!0,verbose:!0});rh(le),g(`${v} migration ${I?"dry run":"completed"}: ${le.result.migrated} migrated, ${le.result.errors} errors`),await $l()}catch(te){i(te.message||`Failed to run ${v} migration`)}finally{go(!1)}};if(s)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-poppins",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})});const xh=()=>{};return n.jsxs("div",{className:"min-h-screen bg-gray-50 font-poppins",children:[n.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Oe,{to:"/dashboard",className:"flex items-center",children:n.jsx("span",{className:"text-xl font-share-tech-mono font-bold text-gray-900",children:"QuickStage"})}),n.jsx("button",{onClick:()=>D(!M),className:"ml-4 p-2 rounded-md text-gray-600 hover:bg-gray-100 lg:hidden",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(mo,{}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-sm text-gray-700",children:e.name}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Superadmin"}),n.jsx("button",{onClick:xh,className:"text-gray-400 hover:text-gray-500",title:"Sign out",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})}),n.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[n.jsx("div",{className:`${M?"block":"hidden"} lg:block flex-shrink-0`,children:n.jsx(ho,{projects:b,selectedProjectId:w,onSelectProject:f,onRefreshProjects:k,user:e,isCollapsed:y,onToggleCollapse:m})}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-inconsolata",children:"Admin Dashboard"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Manage QuickStage users and accounts"})]})})}),h&&n.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm font-medium text-green-800",children:h})}),n.jsx("div",{className:"ml-auto pl-3",children:n.jsxs("button",{onClick:()=>g(null),className:"inline-flex bg-green-50 rounded-md p-1.5 text-green-500 hover:bg-green-100",children:[n.jsx("span",{className:"sr-only",children:"Dismiss"}),n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}),a&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm font-medium text-red-800",children:a})}),n.jsx("div",{className:"ml-auto pl-3",children:n.jsxs("button",{onClick:()=>i(null),className:"inline-flex bg-red-50 rounded-md p-1.5 text-red-500 hover:bg-red-100",children:[n.jsx("span",{className:"sr-only",children:"Dismiss"}),n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}),n.jsx("div",{className:"mb-6 border-b border-gray-200",children:n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsxs("button",{onClick:()=>S("users"),className:`py-2 px-1 border-b-2 font-medium text-sm ${L==="users"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Users (",t.length,")"]}),n.jsxs("button",{onClick:()=>S("snapshots"),className:`py-2 px-1 border-b-2 font-medium text-sm ${L==="snapshots"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📸 Snapshots (",U.length,")"]}),n.jsx("button",{onClick:()=>S("analytics"),className:`py-2 px-1 border-b-2 font-medium text-sm ${L==="analytics"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"📊 Analytics & System Stats"})]})}),c&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4 font-inconsolata",children:"Create New User"}),n.jsxs("form",{onSubmit:sh,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),n.jsx("input",{type:"text",required:!0,value:d.name,onChange:v=>x({...d,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",required:!0,value:d.email,onChange:v=>x({...d,email:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsx("input",{type:"password",required:!0,value:d.password,onChange:v=>x({...d,password:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),n.jsxs("select",{value:d.role,onChange:v=>x({...d,role:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:"Create User"})]})]})]})})}),L==="users"?n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[n.jsx("div",{className:"px-4 py-5 sm:px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:["Users (",t.length,")"]}),n.jsx("button",{onClick:()=>o(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors",children:"Create New User"})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx(ee,{field:"name",children:"User"}),n.jsx(ee,{field:"status",children:"Account Status"}),n.jsx(ee,{field:"plan",children:"Subscription"}),n.jsx(ee,{field:"createdAt",children:"First Login"}),n.jsx(ee,{field:"lastLoginAt",children:"Last Login"}),n.jsx(ee,{field:"totalSnapshots",children:"Snapshots"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map(v=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),n.jsx("div",{className:"text-sm text-gray-500",children:v.email}),n.jsxs("div",{className:"text-xs text-gray-400",children:["Role: ",v.role]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ch(v.status)}`,children:v.status==="active"?"Active":"Deactivated"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:oh(v)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ps(v.createdAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.lastLoginAt?ps(v.lastLoginAt):"Never"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{children:[v.activeSnapshots,"/",v.totalSnapshots]}),v.totalSnapshots>0&&v.activeSnapshots===0&&n.jsx("span",{className:"text-xs text-amber-600",title:"Debug: Check snapshot status and expiration",children:"⚠️ All snapshots show as inactive"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex flex-col space-y-2",children:[v.status==="active"?n.jsx("button",{onClick:()=>lh(v.uid),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md text-amber-700 bg-amber-100 hover:bg-amber-200 border border-amber-300 transition-colors",title:"Temporarily disable user account (reversible)",children:"⏸️ Deactivate"}):n.jsx("button",{onClick:()=>ah(v.uid),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 border border-green-300 transition-colors",title:"Re-enable user account",children:"▶️ Activate"}),v.role!=="superadmin"&&n.jsx("button",{onClick:()=>ih(v.uid,v.name),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md text-gray-700 bg-gray-100 hover:bg-gray-200 border border-gray-300 transition-colors",title:"Permanently delete user and all their data (irreversible)",children:"🗑️ Delete"})]})})]},v.uid))})]})})]}):L==="snapshots"?n.jsx("div",{className:"space-y-6",children:Q?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):ae?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-red-600 mb-4",children:ae}),n.jsx("button",{onClick:ms,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):n.jsxs(n.Fragment,{children:[(e==null?void 0:e.role)==="superadmin"&&n.jsxs("div",{className:"bg-white shadow rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 font-inconsolata",children:"Filter by User"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Showing ",wo.length," of ",U.length," snapshots"]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative custom-dropdown",children:[n.jsxs("button",{type:"button",onClick:()=>_(!E),className:"inline-flex items-center justify-between w-full px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 min-w-[300px]",children:[n.jsx("span",{className:"text-gray-700",children:Z==="all"?"All Users":((bo=jo.find(v=>v.uid===Z))==null?void 0:bo.name)||"Unknown User"}),n.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${E?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),E&&n.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:n.jsxs("div",{className:"py-1 max-h-60 overflow-auto",children:[n.jsx("button",{type:"button",onClick:()=>{R("all"),_(!1)},className:`w-full px-4 py-2 text-sm text-left hover:bg-gray-50 transition-colors duration-150 first:rounded-t-lg ${Z==="all"?"bg-blue-50 text-blue-700 font-medium":"text-gray-700"}`,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:"All Users"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Show all snapshots"})]})}),jo.map(v=>n.jsx("button",{type:"button",onClick:()=>{R(v.uid),_(!1)},className:`w-full px-4 py-2 text-sm text-left hover:bg-gray-50 transition-colors duration-150 last:rounded-b-lg ${Z===v.uid?"bg-blue-50 text-blue-700 font-medium":"text-gray-700"}`,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:v.name}),n.jsx("span",{className:"text-xs text-gray-500",children:v.email})]})},v.uid))]})})]}),Z!=="all"&&n.jsx("button",{onClick:()=>R("all"),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Clear Filter"})]})]}),n.jsx(Wm,{snapshots:wo,projects:b,onRefresh:ms,onExtendSnapshot:async v=>{try{await A.post(`/api/snapshots/${v}/extend`),ms(),g("Snapshot extended successfully")}catch{i("Failed to extend snapshot")}},selectedProjectId:w,onSelectProject:f,showWidgets:!0,showExtensionSection:!1,user:e,title:"All Snapshots"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:"🚀 System Overview"}),n.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Real-time system statistics and performance metrics"})]}),n.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:j?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading comprehensive analytics..."})]}):u?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-blue-600 font-inconsolata",children:"Total Users"}),n.jsx("p",{className:"text-2xl font-bold text-blue-900",children:Ul(((No=u.system)==null?void 0:No.totalUsers)||0)})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6l.586-.586a2 2 0 012.828 0L20 8m-6-6L12.586 1.586a2 2 0 00-2.828 0L6 2m-6-6L1.586 1.586a2 2 0 00-2.828 0L2 2"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-purple-600 font-inconsolata",children:"Total Snapshots"}),n.jsx("p",{className:"text-2xl font-bold text-purple-900",children:Ul(((ko=u.system)==null?void 0:ko.totalSnapshots)||0)})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-green-600 font-inconsolata",children:"Active Sessions"}),n.jsx("p",{className:"text-2xl font-bold text-green-900",children:Ul(((So=u.system)==null?void 0:So.activeSessions)||0)})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-orange-600 font-inconsolata",children:"System Health"}),n.jsx("p",{className:"text-2xl font-bold text-orange-900",children:j?"⏳ Loading...":u?"🟢 Healthy":"❌ Error"})]})]})})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-600",children:"No analytics data available"}),n.jsx("button",{onClick:hs,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Refresh Analytics"})]})})]}),n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsx("div",{className:"px-4 py-5 sm:px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:"💳 Subscription Analytics"}),n.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Detailed subscription breakdown and revenue insights"})]}),n.jsx("div",{className:"flex space-x-2",children:["24h","7d","30d"].map(v=>n.jsx("button",{onClick:()=>Bt(v),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${me===v?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:dh(v)},v))})]})}),n.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:u?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-lg p-4 border border-emerald-200",children:[n.jsx("h4",{className:"text-sm font-medium text-emerald-900 font-inconsolata mb-3",children:"📊 Subscription Status"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:"🆓 Free:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((Co=u.subscriptions)==null?void 0:Co.free)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:"🧪 Trial:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((Eo=u.subscriptions)==null?void 0:Eo.trial)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:"✅ Active:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((Po=u.subscriptions)==null?void 0:Po.active)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:"❌ Cancelled:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((Lo=u.subscriptions)==null?void 0:Lo.cancelled)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:"⚠️ Past Due:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((_o=u.subscriptions)==null?void 0:_o.pastDue)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-700",children:"👑 Superadmin:"}),n.jsx("span",{className:"font-semibold text-emerald-900 text-lg",children:((Ro=u.subscriptions)==null?void 0:Ro.superadmin)||0})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-900 font-inconsolata mb-3",children:"💰 Revenue Metrics"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-blue-700",children:"Trial Users:"}),n.jsx("span",{className:"font-semibold text-blue-900",children:((To=u.subscriptions)==null?void 0:To.trial)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-blue-700",children:"Conversion Rate:"}),n.jsxs("span",{className:"font-semibold text-blue-900",children:[(Ao=u.subscriptions)!=null&&Ao.active&&((Mo=u.subscriptions)!=null&&Mo.trial)?Math.round(u.subscriptions.active/(u.subscriptions.active+u.subscriptions.trial)*100):0,"%"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-blue-700",children:"Churn Rate:"}),n.jsxs("span",{className:"font-semibold text-blue-900",children:[(Do=u.subscriptions)!=null&&Do.cancelled&&((zo=u.subscriptions)!=null&&zo.active)?Math.round(u.subscriptions.cancelled/(u.subscriptions.active+u.subscriptions.cancelled)*100):0,"%"]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[n.jsx("h4",{className:"text-sm font-medium text-purple-900 font-inconsolata mb-3",children:"📈 Growth Trends"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-purple-700",children:"Total Users:"}),n.jsx("span",{className:"font-semibold text-purple-900",children:((Fo=u.system)==null?void 0:Fo.totalUsers)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-purple-700",children:"Active Subscriptions:"}),n.jsx("span",{className:"font-semibold text-purple-900",children:((Io=u.subscriptions)==null?void 0:Io.active)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-purple-700",children:"Trial Users:"}),n.jsx("span",{className:"font-semibold text-purple-900",children:((Uo=u.subscriptions)==null?void 0:Uo.trial)||0})]})]})]})]}):null})]}),n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:"📋 Recent Activity Feed"}),n.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Live feed of system events and user activities"})]}),n.jsx("button",{onClick:async()=>{try{l(!0);const v=Date.now(),te=me==="24h"?[{name:"2h",ms:2*60*60*1e3},{name:"24h",ms:24*60*60*1e3},{name:"7d",ms:7*24*60*60*1e3}]:[{name:me,ms:me==="7d"?7*24*60*60*1e3:30*24*60*60*1e3}];let le=[];for(const Se of te){const $e=v-Se.ms,Ce=await A.get(`/debug/analytics/events?limit=500&startTime=${$e}&fullRetrieval=true`),ge=(Ce==null?void 0:Ce.events)||[];if(ge.length>0){le=ge,console.log(`Full retrieval found ${le.length} events in ${Se.name} window`);break}}ye(le)}catch(v){console.error("Failed to refresh activity feed:",v)}finally{l(!1)}},disabled:s,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin -ml-1 mr-2 h-4 w-4 border-2 border-gray-300 border-t-gray-900 rounded-full"}),"Refreshing..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"-ml-1 mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh All"]})})]}),n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx(fs,{label:"All Event Types",value:Ue,options:hh.map(v=>({value:v,label:v==="all"?"All Event Types":v})),onChange:An,isOpen:Zm,setIsOpen:po}),n.jsx(fs,{label:"All Users",value:Re,options:ph.map(v=>({value:v,label:v==="all"?"All Users":v})),onChange:Wt,isOpen:E,setIsOpen:_}),n.jsx(fs,{label:"All Pages",value:C,options:fh.map(v=>({value:v,label:v==="all"?"All Pages":v})),onChange:B,isOpen:eh,setIsOpen:fo})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx(fs,{label:"All Time",value:G,options:[{value:"all",label:"All Time"},{value:"before",label:"Before"},{value:"after",label:"After"},{value:"between",label:"Between"}],onChange:v=>z(v),isOpen:th,setIsOpen:xo}),G==="before"&&n.jsx("input",{type:"datetime-local",value:O,onChange:v=>be(v.target.value),className:"px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Select date and time"}),G==="after"&&n.jsx("input",{type:"datetime-local",value:ke,onChange:v=>zl(v.target.value),className:"px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Select date and time"}),G==="between"&&n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"datetime-local",value:Fl,onChange:v=>Xm(v.target.value),className:"px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Start date and time"}),n.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"to"}),n.jsx("input",{type:"datetime-local",value:Il,onChange:v=>Jm(v.target.value),className:"px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"End date and time"})]})]})]})]}),n.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:yo.length>0?n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:yo.map((v,I)=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium border ${uh(v.type)}`,children:v.type}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-900 font-medium",children:mh(v)}),v.userId&&v.userId!=="system"&&v.userId!=="anonymous"&&n.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-xs text-gray-500",children:[n.jsxs("span",{children:["User: ",v.userName||"Unknown"]}),n.jsxs("span",{children:["ID: ",v.userId]}),v.userEmail&&n.jsxs("span",{children:["Email: ",v.userEmail]})]})]}),n.jsx("div",{className:"text-xs text-gray-500 ml-4",children:new Date(v.timestamp).toLocaleString()})]})})]},I))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-600",children:se.length===0?"No recent events available":"No events match the current filters"}),n.jsx("button",{onClick:async()=>{if(!vt)try{xn(!0);const v=Date.now(),te=me==="24h"?[{name:"2h",ms:2*60*60*1e3},{name:"24h",ms:24*60*60*1e3},{name:"7d",ms:7*24*60*60*1e3},{name:"30d",ms:30*24*60*60*1e3}]:[{name:me,ms:me==="7d"?7*24*60*60*1e3:30*24*60*60*1e3}];let le=[];for(const Se of te){const $e=v-Se.ms;console.log(`Trying ${Se.name} window with fullRetrieval, startTime: ${$e} (${new Date($e).toISOString()})`);const Ce=await A.get(`/debug/analytics/events?limit=500&startTime=${$e}&fullRetrieval=true`),ge=(Ce==null?void 0:Ce.events)||[];if(ge.length>0){le=ge,console.log(`Full retrieval found ${le.length} events in ${Se.name} window`);break}else console.log(`No events found in ${Se.name} window`)}ye(le)}catch(v){console.error("Failed to refresh events:",v)}finally{xn(!1)}},disabled:vt,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:vt?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin -ml-1 mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Refreshing..."]}):"Refresh Events"})]})})]}),n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:"🔄 Data Migration System"}),n.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Migrate legacy user and snapshot data to new schema"})]}),n.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:Pt?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-900 font-inconsolata mb-3",children:"📊 Migration Status"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-blue-700 mb-2",children:"Users"}),n.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[Pt.stats.migratedUsers,"/",Pt.stats.totalUsers]}),n.jsxs("div",{className:"text-xs text-blue-600",children:[Pt.stats.legacyUsers," legacy users remaining"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-blue-700 mb-2",children:"Snapshots"}),n.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[Pt.stats.migratedSnapshots,"/",Pt.stats.totalSnapshots]}),n.jsxs("div",{className:"text-xs text-blue-600",children:[Pt.stats.legacySnapshots," legacy snapshots remaining"]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex justify-between text-sm text-blue-700 mb-1",children:[n.jsx("span",{children:"Overall Progress"}),n.jsxs("span",{children:[Pt.summary.migrationProgress,"%"]})]}),n.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Pt.summary.migrationProgress}%`}})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:()=>xs("users",!0),disabled:Vt,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 disabled:opacity-50 transition-colors",children:[Vt?"⏳":"👥"," Test User Migration"]}),n.jsxs("button",{onClick:()=>xs("snapshots",!0),disabled:Vt,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-purple-700 bg-purple-100 hover:bg-purple-200 disabled:opacity-50 transition-colors",children:[Vt?"⏳":"📸"," Test Snapshot Migration"]}),n.jsxs("button",{onClick:()=>xs("full",!0),disabled:Vt,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 disabled:opacity-50 transition-colors",children:[Vt?"⏳":"🚀"," Test Full Migration"]}),n.jsxs("button",{onClick:()=>{confirm("⚠️  FINAL CONFIRMATION: This will run the ACTUAL migration and update all legacy data to the new schema. This action cannot be undone. Are you absolutely sure?")&&confirm('🚨 LAST CHANCE: This will permanently modify your database. Type "MIGRATE" to confirm:')&&(prompt('Type "MIGRATE" to confirm actual migration:')==="MIGRATE"?xs("full",!1):alert("Migration cancelled. Data is safe."))},disabled:Vt,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 disabled:opacity-50 transition-colors font-bold",children:[Vt?"⏳":"🔥"," RUN ACTUAL MIGRATION"]})]}),Mn&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 font-inconsolata mb-3",children:"📋 Migration Results"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Migrated:"}),n.jsx("span",{className:"font-semibold text-green-600",children:Mn.result.migrated})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Errors:"}),n.jsx("span",{className:"font-semibold text-red-600",children:Mn.result.errors})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Duration:"}),n.jsxs("span",{className:"font-semibold text-gray-900",children:[Mn.result.duration,"ms"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Success:"}),n.jsx("span",{className:`font-semibold ${Mn.result.success?"text-green-600":"text-red-600"}`,children:Mn.result.success?"✅ Yes":"❌ No"})]})]})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-600",children:"Loading migration statistics..."}),n.jsx("button",{onClick:$l,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Refresh Migration Stats"})]})})]}),n.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 font-inconsolata",children:"🚀 Quick Actions & Debug Tools"}),n.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Direct access to system tools and data export"})]}),n.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx("button",{onClick:async()=>{try{const v=await A.get("/debug/stats"),I=window.open("","_blank");I&&I.document.write(`
                            <html>
                              <head><title>Raw Stats API</title></head>
                              <body>
                                <h1>Raw Stats API Response</h1>
                                <pre>${JSON.stringify(v,null,2)}</pre>
                              </body>
                            </html>
                          `)}catch(v){alert("Failed to fetch stats: "+v)}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 transition-colors",children:"📊 Raw Stats API"}),n.jsx("button",{onClick:async()=>{try{const v=await A.get("/debug/analytics/events?limit=500"),I=window.open("","_blank");I&&I.document.write(`
                            <html>
                              <head><title>Analytics Events</title></head>
                              <body>
                                <h1>Analytics Events</h1>
                                <pre>${JSON.stringify(v,null,2)}</pre>
                              </body>
                            </html>
                          `)}catch(v){alert("Failed to fetch analytics events: "+v)}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 transition-colors",children:"📊 Analytics Events"}),n.jsx("button",{onClick:async()=>{try{const v=await A.get("/debug/health"),I=window.open("","_blank");I&&I.document.write(`
                            <html>
                              <head><title>System Health</title></head>
                              <body>
                                <h1>System Health</h1>
                                <pre>${JSON.stringify(v,null,2)}</pre>
                              </body>
                            </html>
                          `)}catch(v){alert("Failed to fetch system health: "+v)}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-purple-700 bg-purple-100 hover:bg-purple-200 transition-colors",children:"🏥 System Health"}),n.jsx("button",{onClick:hs,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-orange-700 bg-orange-100 hover:bg-orange-200 transition-colors",children:"🔄 Refresh All Data"})]})})]})]})]})})]})]})}var Qm="basil",ox=function(t){return t===3?"v3":t},qm="https://js.stripe.com",cx="".concat(qm,"/").concat(Qm,"/stripe.js"),dx=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,ux=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var mx=function(t){return dx.test(t)||ux.test(t)},hx=function(){for(var t=document.querySelectorAll('script[src^="'.concat(qm,'"]')),r=0;r<t.length;r++){var s=t[r];if(mx(s.src))return s}return null},pd=function(t){var r="",s=document.createElement("script");s.src="".concat(cx).concat(r);var l=document.head||document.body;if(!l)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return l.appendChild(s),s},px=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:r})},Er=null,Ms=null,Ds=null,fx=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},xx=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},gx=function(t){return Er!==null?Er:(Er=new Promise(function(r,s){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var l=hx();if(!(l&&t)){if(!l)l=pd(t);else if(l&&Ds!==null&&Ms!==null){var a;l.removeEventListener("load",Ds),l.removeEventListener("error",Ms),(a=l.parentNode)===null||a===void 0||a.removeChild(l),l=pd(t)}}Ds=xx(r,s),Ms=fx(s),l.addEventListener("load",Ds),l.addEventListener("error",Ms)}catch(i){s(i);return}}),Er.catch(function(r){return Er=null,Promise.reject(r)}))},vx=function(t,r,s){if(t===null)return null;var l=r[0],a=l.match(/^pk_test/),i=ox(t.version),c=Qm;a&&i!==c&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(c,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var o=t.apply(void 0,r);return px(o,s),o},Pr,Gm=!1,Ym=function(){return Pr||(Pr=gx(null).catch(function(t){return Pr=null,Promise.reject(t)}),Pr)};Promise.resolve().then(function(){return Ym()}).catch(function(e){Gm||console.warn(e)});var fd=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];Gm=!0;var l=Date.now();return Ym().then(function(a){return vx(a,r,l)})};function xd({plan:e,onSuccess:t,onError:r,disabled:s,requiresAuth:l,onAuthRequired:a}){const[i,c]=p.useState(!1),[o,d]=p.useState(!1);p.useEffect(()=>{(async()=>{try{console.log("🍎 Checking Apple Pay availability..."),console.log("🔑 Stripe public key:",kt.STRIPE_PUBLIC_KEY);const g=await fd(kt.STRIPE_PUBLIC_KEY);if(!g){console.error("❌ Stripe failed to load");return}console.log("✅ Stripe loaded successfully");const w=await g.paymentRequest({country:"US",currency:"usd",total:{label:`QuickStage Pro - ${e==="monthly"?"Monthly":"Annual"}`,amount:e==="monthly"?600:6e3},requestPayerName:!0,requestPayerEmail:!0}).canMakePayment();console.log("🔍 Payment request result:",w),console.log("🍎 Apple Pay available:",!!(w!=null&&w.applePay)),c(!!(w!=null&&w.applePay))}catch(g){console.error("❌ Error checking Apple Pay availability:",g)}})()},[e]);const x=async()=>{if(!(s||o)){if(l){a==null||a();return}d(!0);try{const h=await fd(kt.STRIPE_PUBLIC_KEY);if(!h)throw new Error("Stripe not loaded");const g=h.paymentRequest({country:"US",currency:"usd",total:{label:`QuickStage Pro - ${e==="monthly"?"Monthly":"Annual"}`,amount:e==="monthly"?600:6e3},requestPayerName:!0,requestPayerEmail:!0});g.on("paymentmethod",async b=>{try{const w=await fetch("/api/billing/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({plan:e,payment_method_id:b.paymentMethod.id,payment_type:"apple_pay"})});if(!w.ok){const k=await w.json();throw new Error(k.details||"Failed to create subscription")}if((await w.json()).success)b.complete("success"),t==null||t();else throw new Error("Subscription creation failed")}catch(w){console.error("Apple Pay payment failed:",w),b.complete("fail"),r==null||r(w.message)}}),g.show()}catch(h){console.error("Apple Pay error:",h),r==null||r(h.message)}finally{d(!1)}}};return i?n.jsx("button",{onClick:x,disabled:s||o,className:"w-full mt-4 bg-black hover:bg-gray-800 text-white font-medium py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",style:{backgroundColor:"#000",borderRadius:"8px"},children:o?"Processing...":n.jsxs("div",{className:"flex items-center",children:[n.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M13.25 7.5c-.414 0-.75.336-.75.75s.336.75.75.75c1.792 0 3.25 1.458 3.25 3.25S15.042 15.5 13.25 15.5c-1.792 0-3.25-1.458-3.25-3.25V8.25c0-.414-.336-.75-.75-.75s-.75.336-.75.75V12.25C8.5 15.564 11.186 18.25 14.5 18.25S20.5 15.564 20.5 12.25 17.814 6.25 14.5 6.25h-1.25z"}),n.jsx("path",{d:"M6.75 12.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75c-1.792 0-3.25-1.458-3.25-3.25S4.958 4.5 6.75 4.5c1.792 0 3.25 1.458 3.25 3.25v4c0 .414.336.75.75.75s.75-.336.75-.75v-4C11.5 4.436 8.814 1.75 5.5 1.75S-.5 4.436-.5 7.75 2.186 13.75 5.5 13.75h1.25z"})]}),"Pay"]})}):null}function yx(){const e=St(),t=fn(),{user:r}=Ct(),[s,l]=p.useState(!1),a=new URLSearchParams(t.search),i=a.get("mode")||"upgrade",c=a.get("plan"),o=i==="trial";p.useEffect(()=>{r&&c&&(c==="monthly"||c==="annual")&&setTimeout(()=>{d(c)},500)},[r,c]);const d=async b=>{if(!r){e(`/login?mode=signup&plan=${b}&redirect=pricing`);return}l(!0);try{const w=o?"/billing/start-trial":"/billing/subscribe",y={plan:b},k=await A.post(w,y);if(k.url)window.location.href=k.url;else throw new Error("No checkout URL received")}catch(w){console.error("Failed to create checkout session:",w),alert(`Failed to start checkout: ${w.message}`)}finally{l(!1)}},x=6,h=60,g=Math.round((x*12-h)/(x*12)*100);return n.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8 font-poppins",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-inconsolata",children:"Choose Your QuickStage Pro Plan"}),n.jsx("p",{className:"mt-4 text-lg text-gray-600",children:o?"Start your 7-day free trial with either plan - cancel anytime":r?"Upgrade to QuickStage Pro for unlimited snapshots and features":"Create an account and upgrade to QuickStage Pro for unlimited snapshots and features"}),!r&&n.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-2xl mx-auto",children:n.jsxs("p",{className:"text-sm text-blue-700",children:["💡 ",n.jsx("strong",{children:"New to QuickStage?"})," Select your plan below and we'll create your account in the next step."]})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8 relative",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 font-inconsolata",children:"Monthly"}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",x]}),n.jsx("span",{className:"text-gray-500",children:"/month"})]}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Billed monthly"})]}),n.jsxs("ul",{className:"mt-8 space-y-4",children:[n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"Unlimited snapshots"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"Extended expiration times"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"Cancel anytime"})]})]}),n.jsx("button",{onClick:()=>d("monthly"),disabled:s,className:"w-full mt-8 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating...":"Choose Monthly"}),n.jsx(xd,{plan:"monthly",disabled:s,onSuccess:()=>{e("/dashboard")},onError:b=>{console.error("Apple Pay error:",b),alert(`Apple Pay failed: ${b}`)},requiresAuth:!r,onAuthRequired:()=>e("/login?mode=signup&plan=monthly&redirect=pricing")})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-2 border-blue-500 p-8 relative",children:[n.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:n.jsxs("span",{className:"bg-blue-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:["Save ",g,"%"]})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 font-inconsolata",children:"Annual"}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",h]}),n.jsx("span",{className:"text-gray-500",children:"/year"})]}),n.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Billed annually • ",n.jsxs("span",{className:"text-green-600 font-medium",children:["$",x*12-h," savings"]})]})]}),n.jsxs("ul",{className:"mt-8 space-y-4",children:[n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"Everything in Monthly"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"2 months free"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-700",children:"Priority support"})]})]}),n.jsx("button",{onClick:()=>d("annual"),disabled:s,className:"w-full mt-8 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating...":"Choose Annual"}),n.jsx(xd,{plan:"annual",disabled:s,onSuccess:()=>{e("/dashboard")},onError:b=>{console.error("Apple Pay error:",b),alert(`Apple Pay failed: ${b}`)},requiresAuth:!r,onAuthRequired:()=>e("/login?mode=signup&plan=annual&redirect=pricing")})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Have a promotion code?"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"You can enter it on the next step during checkout"})]})}),n.jsx("div",{className:"text-center",children:n.jsxs("button",{onClick:()=>e(r?"/dashboard":"/"),className:"text-gray-600 hover:text-gray-900 font-medium",children:["← Back ",r?"to Dashboard":"to Home"]})}),n.jsxs("div",{className:"mt-12 text-center",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Secure payment powered by Stripe"}),n.jsxs("div",{className:"flex justify-center items-center space-x-6",children:[n.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"SSL Encrypted"]}),n.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Cancel Anytime"]})]})]})]})})}function wx(){var s;const[e,t]=p.useState("getting-started"),r=[{id:"getting-started",title:"Getting Started",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Welcome to QuickStage"}),n.jsx("p",{children:"QuickStage is a lightning-fast platform for sharing and collaborating on web prototypes. Deploy your local development projects in seconds and get feedback from your team instantly."}),n.jsx("h3",{children:"Quick Setup Guide"}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 my-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-4",children:n.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-2",children:"3-Step Setup"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-800",children:[n.jsx("li",{children:"Download and install the QuickStage extension for VS Code or Cursor"}),n.jsx("li",{children:"Open your project folder in your IDE"}),n.jsx("li",{children:'Click the "Stage" button to deploy your project instantly'})]})]})]})}),n.jsx("h3",{children:"Key Features"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 my-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"⚡ Lightning Fast"}),n.jsx("p",{className:"text-gray-600",children:"Deploy your projects in under 10 seconds with optimized build processes."})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"🔒 Secure Sharing"}),n.jsx("p",{className:"text-gray-600",children:"Password-protected snapshots with role-based access control."})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"💬 Collaboration"}),n.jsx("p",{className:"text-gray-600",children:"Real-time comments, reviews, and feedback collection."})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"📱 Mobile Ready"}),n.jsx("p",{className:"text-gray-600",children:"Responsive design works perfectly on all devices."})]})]})]})},{id:"project-organization",title:"Project Organization",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Organizing Your Snapshots with Projects"}),n.jsx("p",{children:"Project folders help you organize snapshots by client, feature, or any categorization that makes sense for your workflow."}),n.jsx("h3",{children:"Creating Projects"}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-green-900 font-semibold mb-2",children:"💡 Pro Tip"}),n.jsx("p",{className:"text-green-800",children:"Use color coding to visually distinguish different types of projects (e.g., client work vs. personal projects)."})]}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[n.jsx("li",{children:"Navigate to your Dashboard"}),n.jsx("li",{children:'Click the "+" button next to "Projects" in the sidebar'}),n.jsx("li",{children:"Enter a project name and choose a color"}),n.jsx("li",{children:'Click "Create" to save your new project'})]}),n.jsx("h3",{children:"Moving Snapshots Between Projects"}),n.jsx("p",{children:"You can organize your snapshots by moving them into project folders:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Individual Move:"})," Edit a snapshot and select a different project"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Bulk Move:"}),' Select multiple snapshots and use the "Move to Project" bulk action']})]}),n.jsx("h3",{children:"Project Management"}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-yellow-900 font-semibold mb-2",children:"⚠️ Important"}),n.jsx("p",{className:"text-yellow-800",children:"You can only delete empty projects. Move or delete all snapshots before removing a project."})]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Archive:"})," Hide completed projects without deleting them"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Reorder:"})," Drag and drop projects in the sidebar to organize them"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Delete:"})," Remove empty projects permanently"]})]})]})},{id:"snapshot-management",title:"Snapshot Management",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Advanced Snapshot Features"}),n.jsx("p",{children:"QuickStage provides powerful tools for managing and organizing your snapshots with rich metadata and flexible organization options."}),n.jsx("h3",{children:"Enhanced Metadata"}),n.jsx("p",{children:"Add context to your snapshots with detailed metadata:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Name:"})," Give your snapshots meaningful names instead of using IDs"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Description:"})," Add detailed descriptions of what the snapshot contains"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Tags:"})," Use tags for easy filtering and organization"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Version:"})," Track version numbers or release names"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Client Name:"})," Associate snapshots with specific clients"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Milestone:"})," Mark project milestones or development phases"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Review Summary:"})," Add context for reviewers about what to focus on"]})]}),n.jsx("h3",{children:"Dashboard Sorting & Filtering"}),n.jsx("p",{children:"Find what you need quickly with powerful organization tools:"}),n.jsx("h4",{children:"Sortable Columns"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Created date (newest/oldest first)"}),n.jsx("li",{children:"Last modified date"}),n.jsx("li",{children:"Expiration date (expiring soon first)"}),n.jsx("li",{children:"View count (most/least popular)"}),n.jsx("li",{children:"Comment count"}),n.jsx("li",{children:"Snapshot name (alphabetical)"})]}),n.jsx("h4",{children:"Advanced Filtering"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Search:"})," Full-text search across names, descriptions, tags, and metadata"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Date Ranges:"})," Filter by creation or modification dates"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Project Folders:"})," View snapshots from specific projects"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Tags:"})," Filter by one or more tags"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Status:"})," Show active, expired, or all snapshots"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Review Status:"})," Filter by snapshots with pending reviews"]})]}),n.jsx("h3",{children:"Bulk Operations"}),n.jsx("p",{children:"Manage multiple snapshots efficiently:"}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-blue-900 font-semibold mb-2",children:"🚀 Time Saver"}),n.jsx("p",{className:"text-blue-800",children:"Select multiple snapshots using checkboxes to perform bulk operations like moving to projects, extending expiry, or adding tags."})]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Move to Project:"})," Organize snapshots into project folders"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Extend Expiry:"})," Extend expiration dates for multiple snapshots"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Bulk Tagging:"})," Add or remove tags from multiple snapshots"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Batch Delete:"})," Remove multiple expired snapshots"]})]})]})},{id:"collaboration",title:"Comments & Collaboration",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Collaborative Feedback System"}),n.jsx("p",{children:"QuickStage's advanced commenting system enables precise, contextual feedback on your prototypes with element pinning and threaded conversations."}),n.jsx("h3",{children:"Element Pinning"}),n.jsx("p",{children:"Pin comments directly to specific UI elements for precise feedback:"}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-purple-900 font-semibold mb-2",children:"✨ Interactive Comments"}),n.jsx("p",{className:"text-purple-800",children:"Click on any element in your prototype to attach comments. Comments automatically adapt to different screen sizes and device orientations."})]}),n.jsx("h4",{children:"How Element Pinning Works"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[n.jsx("li",{children:"Navigate to your snapshot in the viewer"}),n.jsx("li",{children:"Click the comment button to enter comment mode"}),n.jsx("li",{children:"Click on any UI element to pin a comment"}),n.jsx("li",{children:"Type your feedback and submit"}),n.jsx("li",{children:"Comments appear as numbered bubbles on hover"})]}),n.jsx("h3",{children:"Threaded Conversations"}),n.jsx("p",{children:"Keep discussions organized with nested reply chains:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Replies:"})," Respond to specific comments to create conversation threads"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Mentions:"})," Use @username to notify team members"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Rich Text:"})," Format comments with Markdown, code snippets, and emojis"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"File Attachments:"})," Attach images, documents, and design files"]})]}),n.jsx("h3",{children:"Comment States"}),n.jsx("p",{children:"Track the lifecycle of feedback with comment states:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Draft:"})," Work on comments before publishing"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Published:"})," Live comments visible to all team members"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Resolved:"})," Mark feedback as addressed"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Archived:"})," Hide old conversations while preserving history"]})]}),n.jsx("h3",{children:"File Attachments"}),n.jsx("p",{children:"Enhance your feedback with visual examples:"}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-green-900 font-semibold mb-2",children:"📎 Supported Formats"}),n.jsx("p",{className:"text-green-800",children:"JPG, PNG, GIF, PDF, TXT, MD, DOC, DOCX files up to 10MB each."})]})]})},{id:"review-workflows",title:"Review Workflows",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Structured Review Process"}),n.jsx("p",{children:"Streamline your feedback collection with formal review workflows, deadlines, and approval tracking."}),n.jsx("h3",{children:"Creating Review Requests"}),n.jsx("p",{children:"Request formal reviews from specific team members:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[n.jsx("li",{children:"Navigate to your snapshot"}),n.jsx("li",{children:'Click "Request Review" button'}),n.jsx("li",{children:"Select team members to review"}),n.jsx("li",{children:"Set an optional deadline"}),n.jsx("li",{children:"Add review notes or specific areas to focus on"}),n.jsx("li",{children:"Send the review request"})]}),n.jsx("h3",{children:"Review Status Tracking"}),n.jsx("p",{children:"Monitor review progress with visual indicators:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Pending:"})," Review requested but not yet started"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"In Progress:"})," Some reviewers have started"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Completed:"})," All reviewers have submitted feedback"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Overdue:"})," Review deadline has passed"]})]}),n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-orange-900 font-semibold mb-2",children:"⏰ Deadline Management"}),n.jsx("p",{className:"text-orange-800",children:"Set review deadlines to ensure timely feedback. Automatic reminders are sent 24 hours before the deadline."})]}),n.jsx("h3",{children:"Review Dashboard"}),n.jsx("p",{children:"Track all your reviews in one place:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Reviews Requested:"})," Reviews you've asked others to complete"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Reviews Assigned:"})," Reviews assigned to you by others"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Overdue Reviews:"})," Reviews past their deadline"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Completed Reviews:"})," Review history and outcomes"]})]}),n.jsx("h3",{children:"Approval Workflow"}),n.jsx("p",{children:"Each reviewer can provide one of these responses:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Approved:"})," No changes needed, ready to proceed"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Changes Requested:"})," Specific feedback provided, changes needed"]})]}),n.jsx("h3",{children:"Automated Follow-ups"}),n.jsx("p",{children:"Stay on top of reviews with automatic notifications:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Email reminders sent to reviewers before deadlines"}),n.jsx("li",{children:"Notifications when reviews are completed"}),n.jsx("li",{children:"Summary emails for review requesters"}),n.jsx("li",{children:"Escalation notifications for overdue reviews"})]})]})},{id:"best-practices",title:"Best Practices",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"QuickStage Best Practices"}),n.jsx("p",{children:"Maximize your team's productivity with these proven workflows and organizational strategies."}),n.jsx("h3",{children:"Project Organization"}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-blue-900 font-semibold mb-2",children:"🎯 Organization Strategy"}),n.jsx("p",{className:"text-blue-800",children:'Create projects for each client, product feature, or development sprint. Use consistent naming conventions like "Client-ProjectName" or "Sprint-XX-FeatureName".'})]}),n.jsx("h4",{children:"Recommended Project Structure"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"By Client:"})," Separate projects for each client or customer"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"By Feature:"})," Group related functionality together"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"By Sprint:"})," Organize by development cycles"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"By Environment:"})," Development, staging, production snapshots"]})]}),n.jsx("h3",{children:"Snapshot Naming"}),n.jsx("p",{children:"Use descriptive names that provide context:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Include Version:"}),' "User Dashboard v2.1"']}),n.jsxs("li",{children:[n.jsx("strong",{children:"Add Context:"}),' "Homepage Mobile Responsive Fix"']}),n.jsxs("li",{children:[n.jsx("strong",{children:"Use Dates:"}),' "Landing Page 2024-01-15"']}),n.jsxs("li",{children:[n.jsx("strong",{children:"Specify Purpose:"}),' "Client Review - Shopping Cart"']})]}),n.jsx("h3",{children:"Effective Tagging"}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-green-900 font-semibold mb-2",children:"🏷️ Tag Strategy"}),n.jsx("p",{className:"text-green-800",children:'Use consistent tags across your team. Create a tagging guide with standard tags like "mobile", "desktop", "bug-fix", "new-feature", "client-review".'})]}),n.jsx("h4",{children:"Tag Categories"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Platform:"})," mobile, desktop, tablet"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Status:"})," draft, review, approved, deployed"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Type:"})," bug-fix, feature, enhancement, prototype"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Priority:"})," urgent, high, medium, low"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Audience:"})," internal, client, stakeholder"]})]}),n.jsx("h3",{children:"Review Workflow"}),n.jsx("h4",{children:"Review Request Guidelines"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Be Specific:"})," Provide clear review notes about what feedback you need"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Set Realistic Deadlines:"})," Allow 24-48 hours for meaningful review"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Include Context:"})," Explain what changed since the last version"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Assign Appropriately:"})," Choose reviewers based on expertise needed"]})]}),n.jsx("h4",{children:"Giving Effective Feedback"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Be Constructive:"})," Explain the issue and suggest solutions"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Use Element Pinning:"})," Attach comments to specific UI elements"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Provide Examples:"})," Attach reference images or mockups"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Consider Context:"})," Account for device types and user scenarios"]})]}),n.jsx("h3",{children:"Collaboration Tips"}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-purple-900 font-semibold mb-2",children:"👥 Team Collaboration"}),n.jsx("p",{className:"text-purple-800",children:"Establish team conventions for commenting, reviewing, and organizing snapshots. Regular retrospectives help refine your workflow."})]}),n.jsx("h4",{children:"Team Workflow"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Daily Standup:"})," Share recent snapshots for quick feedback"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Sprint Reviews:"})," Use formal review workflow for sprint demos"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Client Presentations:"})," Create dedicated client review projects"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Retrospectives:"})," Review comment patterns and workflow efficiency"]})]})]})},{id:"troubleshooting",title:"Troubleshooting",content:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{children:"Common Issues & Solutions"}),n.jsx("p",{children:"Quick solutions to the most common QuickStage issues and questions."}),n.jsx("h3",{children:"Extension Issues"}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-red-900 font-semibold mb-2",children:'❌ "Stage" Button Not Appearing'}),n.jsxs("div",{className:"text-red-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Solutions:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Restart VS Code/Cursor after installing the extension"}),n.jsx("li",{children:"Check that you have a valid project folder open"}),n.jsx("li",{children:"Ensure the extension is enabled in the Extensions panel"}),n.jsx("li",{children:"Update to the latest version of the extension"})]})]})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-red-900 font-semibold mb-2",children:"⚠️ Upload Fails or Times Out"}),n.jsxs("div",{className:"text-red-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Common Causes & Solutions:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Large Files:"})," Remove or reduce large assets (images, videos)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"node_modules:"})," Ensure node_modules is in .gitignore"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Build Artifacts:"})," Clean build folders (dist/, build/) before staging"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Network Issues:"})," Check your internet connection and try again"]})]})]})]}),n.jsx("h3",{children:"Dashboard & Viewing Issues"}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-yellow-900 font-semibold mb-2",children:"🔍 Snapshots Not Loading"}),n.jsxs("div",{className:"text-yellow-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Troubleshooting Steps:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Refresh the page (Ctrl+F5 or Cmd+Shift+R)"}),n.jsx("li",{children:"Clear browser cache and cookies for quickstage.tech"}),n.jsx("li",{children:"Check if you're logged in correctly"}),n.jsx("li",{children:"Try logging out and logging back in"})]})]})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-yellow-900 font-semibold mb-2",children:"🚫 Password Protected Snapshot Access"}),n.jsxs("div",{className:"text-yellow-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"If you can't access a snapshot:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Ensure you're entering the password exactly as provided"}),n.jsx("li",{children:"Check for extra spaces or hidden characters"}),n.jsx("li",{children:"Try copying and pasting the password"}),n.jsx("li",{children:"Contact the snapshot owner for a new password"})]})]})]}),n.jsx("h3",{children:"Comments & Collaboration Issues"}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-blue-900 font-semibold mb-2",children:"💬 Comments Not Appearing"}),n.jsxs("div",{className:"text-blue-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Possible Solutions:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Refresh the snapshot viewer page"}),n.jsx("li",{children:'Check if comments are in "resolved" or "archived" state'}),n.jsx("li",{children:"Verify you have permission to view comments"}),n.jsx("li",{children:"Try disabling browser ad blockers temporarily"})]})]})]}),n.jsx("h3",{children:"Account & Billing Issues"}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-purple-900 font-semibold mb-2",children:"💳 Pro Features Not Available"}),n.jsxs("div",{className:"text-purple-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Check These Items:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Verify your subscription status in Settings"}),n.jsx("li",{children:"Ensure payment method is up to date"}),n.jsx("li",{children:"Check if your trial has expired"}),n.jsx("li",{children:"Log out and log back in to refresh permissions"})]})]})]}),n.jsx("h3",{children:"Performance & Speed"}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 my-4",children:[n.jsx("h4",{className:"text-green-900 font-semibold mb-2",children:"🐌 Slow Loading or Deployment"}),n.jsxs("div",{className:"text-green-800",children:[n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Optimization Tips:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Exclude Large Files:"})," Use .gitignore to exclude unnecessary files"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Optimize Images:"})," Compress images before including in projects"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Clean Dependencies:"})," Remove unused npm packages"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Build Optimization:"})," Use production builds when possible"]})]})]})]}),n.jsx("h3",{children:"Getting Help"}),n.jsx("p",{children:"If you're still experiencing issues:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Check Status:"})," Visit our status page for system updates"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Contact Support:"})," Email support@quickstage.tech with detailed information"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Community:"})," Join our Discord community for peer support"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Documentation:"})," Review this documentation for additional guidance"]})]}),n.jsxs("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-4 my-6",children:[n.jsx("h4",{className:"text-gray-900 font-semibold mb-2",children:"📋 When Contacting Support"}),n.jsx("p",{className:"text-gray-700 mb-2",children:"Please include:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:[n.jsx("li",{children:"Your account email address"}),n.jsx("li",{children:"Browser and version (Chrome 91, Safari 14, etc.)"}),n.jsx("li",{children:"Operating system (Windows 10, macOS Big Sur, etc.)"}),n.jsx("li",{children:"Steps to reproduce the issue"}),n.jsx("li",{children:"Screenshots or error messages if applicable"})]})]})]})}];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Oe,{to:"/",className:"flex items-center",children:n.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"QuickStage"})}),n.jsx("span",{className:"ml-4 text-gray-500",children:"/"}),n.jsx("span",{className:"ml-4 text-gray-900 font-medium",children:"Documentation"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Oe,{to:"/dashboard",className:"text-indigo-600 hover:text-indigo-800",children:"Dashboard"}),n.jsx(Oe,{to:"/login",className:"text-gray-600 hover:text-gray-900",children:"Sign In"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[n.jsx("div",{className:"lg:w-64 flex-shrink-0",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Documentation"}),n.jsx("nav",{className:"space-y-2",children:r.map(l=>n.jsx("button",{onClick:()=>t(l.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${e===l.id?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:l.title},l.id))})]})}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:(s=r.find(l=>l.id===e))==null?void 0:s.content})})]})})]})}const Km=p.createContext(void 0),jx=[{id:"welcome",title:"Welcome to QuickStage",description:"Learn the basics of sharing and collaborating on web prototypes",category:"getting-started",estimatedTime:3,steps:[{id:"welcome-1",title:"Welcome!",content:"QuickStage helps you share web prototypes instantly and collaborate with your team through comments and feedback.",type:"modal"},{id:"welcome-2",title:"Create Your First Snapshot",content:"Upload your HTML, CSS, and JavaScript files or use our browser extension to capture existing websites.",type:"modal"},{id:"welcome-3",title:"Share & Collaborate",content:"Get a shareable URL instantly. Team members can view your prototype and leave contextual comments.",type:"modal"}]},{id:"dashboard-tour",title:"Dashboard Tour",description:"Learn how to organize and manage your snapshots",category:"getting-started",estimatedTime:5,prerequisites:["welcome"],steps:[{id:"dashboard-1",title:"Your Snapshots",content:"This table shows all your uploaded snapshots. You can sort, filter, and search to find specific prototypes.",type:"highlight",target:'[data-testid="snapshot-table"]',position:"top"},{id:"dashboard-2",title:"Project Organization",content:"Use projects to organize your snapshots by client, feature, or team. Create folders to keep things tidy.",type:"highlight",target:'[data-testid="project-sidebar"]',position:"right"},{id:"dashboard-3",title:"Bulk Operations",content:"Select multiple snapshots to perform bulk operations like moving to projects or extending expiry dates.",type:"info"}]},{id:"comments-tutorial",title:"Commenting System",description:"Learn how to use contextual comments for feedback",category:"feature-specific",estimatedTime:4,steps:[{id:"comments-1",title:"Contextual Comments",content:"Click anywhere on your prototype to leave contextual feedback pinned to specific elements.",type:"info"},{id:"comments-2",title:"Comment Threads",content:"Start conversations with threaded replies and mark issues as resolved when fixed.",type:"info"},{id:"comments-3",title:"File Attachments",content:"Attach images, documents, or design files to provide additional context to your feedback.",type:"info"}]}];function bx({children:e}){const{user:t,isAuthenticated:r}=Ct(),[s,l]=p.useState(null),[a,i]=p.useState(null),[c,o]=p.useState(0),[d,x]=p.useState(!1),[h,g]=p.useState(!1);p.useEffect(()=>{if(!r||!t){l(null),g(!1);return}b()},[r,t]);const b=async()=>{try{x(!0);const S=await A.get("/api/onboarding");if(S.success){l(S.data);const M=await A.get("/api/onboarding/should-show-welcome");M.success&&g(M.data.shouldShow)}}catch(S){console.error("Failed to load onboarding state:",S)}finally{x(!1)}},w=async S=>{try{const M=await A.put("/api/onboarding",S);M.success&&l(M.data)}catch(M){console.error("Failed to update onboarding state:",M)}},y=S=>{const M=jx.find(D=>D.id===S);M&&(i(M),o(0),P(S,"started"))},k=()=>{a&&(c<a.steps.length-1?o(c+1):u())},f=()=>{c>0&&o(c-1)},m=()=>{a&&(P(a.id,"skipped",c),i(null),o(0))},u=async()=>{if(!a||!s)return;const S=a.id;P(S,"completed");const M=[...s.completedTutorials,S];await w({completedTutorials:M}),i(null),o(0)},N=async()=>{s&&(await w({hasSeenWelcome:!0}),g(!1))},j=async()=>{s&&(await w({skippedWelcome:!0}),g(!1))},P=async(S,M,D)=>{try{await A.post("/api/onboarding/tutorial",{tutorialId:S,action:M,step:D})}catch(U){console.error("Failed to track tutorial event:",U)}},L={onboarding:s,activeTutorial:a,currentStep:c,isLoading:d,shouldShowWelcome:h,startTutorial:y,nextStep:k,previousStep:f,skipTutorial:m,completeTutorial:u,markWelcomeSeen:N,skipWelcome:j,trackTutorialEvent:P};return n.jsx(Km.Provider,{value:L,children:e})}function Nx(){const e=p.useContext(Km);if(e===void 0)throw new Error("useTutorial must be used within a TutorialProvider");return e}function kx(){var g;const{shouldShowWelcome:e,markWelcomeSeen:t,skipWelcome:r,startTutorial:s}=Nx(),[l,a]=p.useState(0);if(!e)return null;const i=[{title:"Welcome to QuickStage! 🚀",description:"Share and collaborate on web prototypes instantly",features:["Upload HTML, CSS & JavaScript files","Get shareable URLs in seconds","Collect contextual feedback with comments","Organize projects and track versions"],image:"🎨"},{title:"Lightning Fast Sharing ⚡",description:"From prototype to shareable link in 10 seconds",features:["Drag & drop file upload","Beautiful, professional URLs","Mobile-responsive viewing","Password protection available"],image:"🔗"},{title:"Collaborative Feedback 💬",description:"Get precise feedback with contextual comments",features:["Pin comments to specific UI elements","Thread conversations and replies","Attach files and screenshots","Mark issues as resolved"],image:"💡"},{title:"Team Organization 📁",description:"Keep your prototypes organized and accessible",features:["Create projects and folders","Bulk operations on snapshots","Advanced filtering and search","Analytics and usage tracking"],image:"📊"}],c=i[l],o=()=>{l<i.length-1&&a(l+1)},d=()=>{l>0&&a(l-1)},x=()=>{t(),s("dashboard-tour")},h=()=>{r()};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[n.jsx("div",{className:"px-8 py-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-inconsolata",children:c==null?void 0:c.title}),n.jsx("p",{className:"text-gray-600 mt-1",children:c==null?void 0:c.description})]}),n.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 text-sm",children:"Skip tour"})]})}),n.jsxs("div",{className:"px-8 py-6",children:[n.jsx("div",{className:"text-center mb-8",children:n.jsx("div",{className:"text-6xl mb-4",children:c==null?void 0:c.image})}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 font-inconsolata",children:"Key Features:"}),n.jsx("ul",{className:"space-y-3",children:(g=c==null?void 0:c.features)==null?void 0:g.map((b,w)=>n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mt-0.5 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-gray-700",children:b})]},w))})]}),l===i.length-1&&n.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Ready to get started?"}),n.jsx("p",{className:"text-blue-700 text-sm mb-4",children:"We'll walk you through the dashboard and show you how to create your first prototype."}),n.jsx("button",{onClick:x,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Start Dashboard Tour"})]})]})]}),n.jsx("div",{className:"px-8 py-6 border-t border-gray-200 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex space-x-2",children:i.map((b,w)=>n.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${w===l?"bg-blue-600":w<l?"bg-green-500":"bg-gray-300"}`},w))}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:d,disabled:l===0,className:"px-4 py-2 text-gray-600 disabled:text-gray-400 hover:text-gray-800 disabled:cursor-not-allowed",children:"Previous"}),l<i.length-1?n.jsx("button",{onClick:o,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Next"}):n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:h,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Maybe Later"}),n.jsx("button",{onClick:x,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Get Started! 🎉"})]})]})]})})]})})}function pa({children:e}){const{user:t,loading:r}=Ct();return r?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):t?n.jsx(n.Fragment,{children:e}):n.jsx(ci,{to:"/login",replace:!0})}fa.createRoot(document.getElementById("root")).render(n.jsx(Xn.StrictMode,{children:n.jsx(Xf,{children:n.jsx(bx,{children:n.jsxs(Qf,{children:[n.jsxs(If,{children:[n.jsx(rt,{path:"/",element:n.jsx(lx,{})}),n.jsx(rt,{path:"/login",element:n.jsx(ax,{})}),n.jsx(rt,{path:"/pricing",element:n.jsx(yx,{})}),n.jsx(rt,{path:"/docs",element:n.jsx(wx,{})}),n.jsx(rt,{path:"/dashboard",element:n.jsx(pa,{children:n.jsx(tx,{})})}),n.jsx(rt,{path:"/settings",element:n.jsx(pa,{children:n.jsx(rx,{})})}),n.jsx(rt,{path:"/admin",element:n.jsx(pa,{children:n.jsx(ix,{})})}),n.jsx(rt,{path:"/s/:id/*",element:n.jsx(hd,{})}),n.jsx(rt,{path:"/viewer/:id",element:n.jsx(hd,{})}),n.jsx(rt,{path:"/app/*",element:n.jsx(ci,{to:"/dashboard",replace:!0})}),n.jsx(rt,{path:"*",element:n.jsx(ci,{to:"/",replace:!0})})]}),n.jsx(kx,{})]})})})}));
//# sourceMappingURL=index-SwJKairS.js.map
